<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- @reamsid_L DBC-2720-030 chenhui -->
<mapper namespace="jp.co.ndensan.reams.db.dbc.persistence.db.mapper.relate.jukyushaidorenrakuhyoout.IJukyushaIdoRenrakuhyoOutMapper">
    <select id="select被保番" resultMap="resultMap_被保番" 
            fetchSize="500" resultOrdered="true">
        SELECT 
            A."hihokenshaNo"
        FROM 
            rgdb."DbT4001JukyushaDaicho" A
        WHERE A."isDeleted" = FALSE
        UNION
        SELECT B."hihokenshaNo"
        FROM rgdb."DbT3100NijiYoboJigyoTaishosha" B
        UNION
        SELECT C."hihokenshaNo"
        FROM rgdb."DbT3105SogoJigyoTaishosha" C
    </select>
    
    <resultMap id="resultMap_被保番" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.HihoNoTempEntity" autoMapping="true">
        <id property="hihokenshaNo" column="hihokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler"/>
    </resultMap>
    
    <select id="select支払方法変更_支払方法" resultMap="resultMap_支払方法変更_支払方法" 
            fetchSize="500" resultOrdered="true">
        SELECT 
             "HihoNoTemp"."hihokenshaNo" as "hihokenshaNo",
             "DbT4021ShiharaiHohoHenko".*
        FROM 
            "HihoNoTemp"
        LEFT JOIN
            (SELECT 
                 <include refid="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT4021ShiharaiHohoHenkoMapper.allColumns_DbT4021ShiharaiHohoHenko"/>
             FROM rgdb."DbT4021ShiharaiHohoHenko"
             WHERE rgdb."DbT4021ShiharaiHohoHenko"."isDeleted" = FALSE
                AND rgdb."DbT4021ShiharaiHohoHenko"."kanriKubun" = '2'
                AND rgdb."DbT4021ShiharaiHohoHenko"."torokuKubun" = '12') AS "DbT4021ShiharaiHohoHenko"
        ON "HihoNoTemp"."hihokenshaNo" = "DbT4021ShiharaiHohoHenko"."dbT4021ShiharaiHohoHenko_hihokenshaNo"
    </select>
    
    <resultMap id="resultMap_支払方法変更_支払方法" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <result property="被保険者番号" column="hihokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler"/>
        <association property="支払方法変更_支払方法" resultMap="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT4021ShiharaiHohoHenkoMapper.ResultMap_DbT4021ShiharaiHohoHenkoEntity"/>
    </resultMap>
    
     <select id="select給付額減額" resultMap="resultMap_給付額減額" 
            fetchSize="500" resultOrdered="true">
        SELECT 
         <include refid="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT4021ShiharaiHohoHenkoMapper.allColumns_DbT4021ShiharaiHohoHenko"/>,
         <include refid="allColumns_IdouTemp" />,
         "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM rgdb."DbT4021ShiharaiHohoHenko" AS "DbT4021ShiharaiHohoHenko"
        INNER JOIN  "IdouTemp"
        ON "IdouTemp"."被保険者番号" = "DbT4021ShiharaiHohoHenko"."hihokenshaNo"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
             FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        WHERE "DbT4021ShiharaiHohoHenko"."isDeleted" = FALSE
            AND "DbT4021ShiharaiHohoHenko"."kanriKubun" = '3'
            AND "DbT4021ShiharaiHohoHenko"."torokuKubun" = '21'
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    <resultMap id="resultMap_給付額減額" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <association property="支払方法変更_給付費減額" resultMap="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT4021ShiharaiHohoHenkoMapper.ResultMap_DbT4021ShiharaiHohoHenkoEntity"/>
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
    <select id="select後期高齢者" resultMap="resultMap_後期高齢者" 
            fetchSize="500" resultOrdered="true">
        SELECT 
         <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT7124KokiKoreishaInfoMapper.allColumns_DbT7124KokiKoreishaInfo"/>,
         <include refid="allColumns_IdouTemp" />,
         "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM rgdb."DbT7124KokiKoreishaInfo" AS "DbT7124KokiKoreishaInfo"
        INNER JOIN  "IdouTemp"
        ON "IdouTemp"."被保険者番号" = "DbT7124KokiKoreishaInfo"."kokikoreiHihokenshaNo"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
             FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        WHERE "DbT7124KokiKoreishaInfo"."shikibetsuCd" 
            IN (
                SELECT B."shikibetsuCode"  FROM rgdb."DbT1001HihokenshaDaicho" B
            )
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    <resultMap id="resultMap_後期高齢者" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <association property="後期高齢者情報" resultMap="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT7124KokiKoreishaInfoMapper.ResultMap_DbT7124KokiKoreishaInfoEntity"/>
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
     <select id="select社福減免" resultMap="resultMap_社福減免" 
            fetchSize="500" resultOrdered="true">
        SELECT 
         "DbT4017ShakaiFukushiHojinRiyoshaFutanKeigen"."shoKisaiHokenshaNo" AS "証記載保険者番号",
         "DbT4017ShakaiFukushiHojinRiyoshaFutanKeigen"."hihokenshaNo" AS "被保険者番号",
         "DbT4017ShakaiFukushiHojinRiyoshaFutanKeigen"."rirekiNo" AS "履歴番号",
         '04' AS "減免_減額種類",
         "DbT4017ShakaiFukushiHojinRiyoshaFutanKeigen"."tekiyoKaishiYMD" AS "適用開始日",
         "DbT4017ShakaiFukushiHojinRiyoshaFutanKeigen"."tekiyoShuryoYMD" AS "適用終了日",
         (CASE "DbT4017ShakaiFukushiHojinRiyoshaFutanKeigen"."keigenritsu_Bumbo"
         WHEN 0 THEN '0'
         ELSE trim(to_char("DbT4017ShakaiFukushiHojinRiyoshaFutanKeigen"."keigenritsu_Bunshi",'999'))||
         '/'||trim(to_char("DbT4017ShakaiFukushiHojinRiyoshaFutanKeigen"."keigenritsu_Bumbo", '999')) END)
         AS "軽減率",
         <include refid="allColumns_IdouTemp" />,
         "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM rgdb."DbT4017ShakaiFukushiHojinRiyoshaFutanKeigen" AS "DbT4017ShakaiFukushiHojinRiyoshaFutanKeigen"
        INNER JOIN  "IdouTemp"
        ON "IdouTemp"."被保険者番号" = "被保険者番号"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
             FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    <resultMap id="resultMap_社福減免" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <association property="社福減免" resultMap="resultMap_社福減免Entity"/>
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
    <select id="select利用者負担" resultMap="resultMap_利用者負担" 
            fetchSize="500" resultOrdered="true">
        SELECT 
         <include refid="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT4016HomonKaigoRiyoshaFutangakuGengakuMapper.allColumns_DbT4016HomonKaigoRiyoshaFutangakuGengaku"/>,
         <include refid="allColumns_IdouTemp" />,
         "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM rgdb."DbT4016HomonKaigoRiyoshaFutangakuGengaku" AS "DbT4016HomonKaigoRiyoshaFutangakuGengaku"
        INNER JOIN  "IdouTemp"
        ON "IdouTemp"."被保険者番号" = "DbT4016HomonKaigoRiyoshaFutangakuGengaku"."hihokenshaNo"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
             FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    <resultMap id="resultMap_利用者負担" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <association property="利用者負担" resultMap="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT4016HomonKaigoRiyoshaFutangakuGengakuMapper.ResultMap_DbT4016HomonKaigoRiyoshaFutangakuGengakuEntity"/>
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
     <select id="select標準負担" resultMap="resultMap_標準負担" 
            fetchSize="500" resultOrdered="true">
        SELECT 
         A."証記載保険者番号" AS "証記載保険者番号",
         A."被保険者番号" AS "被保険者番号",
         A."履歴番号" AS "履歴番号",
         A."減免_減額種類" AS "減免_減額種類",
         A."適用開始日" AS "適用開始日",
         A."適用終了日" AS "適用終了日",
         A."負担額"  AS "負担額",
         A."申請日" AS "申請日",
         <include refid="allColumns_IdouTemp" />,
         "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM 
         (
           SELECT 
            rgdb."DbT4012HyojunFutangakuGemmen"."shoKisaiHokenshaNo" AS "証記載保険者番号",
            rgdb."DbT4012HyojunFutangakuGemmen"."hihokenshaNo" AS "被保険者番号",
            rgdb."DbT4012HyojunFutangakuGemmen"."rirekiNo" AS "履歴番号",
            '01' AS "減免_減額種類",
            rgdb."DbT4012HyojunFutangakuGemmen"."tekiyoKaishiYMD" AS "適用開始日",
            rgdb."DbT4012HyojunFutangakuGemmen"."tekiyoShuryoYMD" AS "適用終了日",
            rgdb."DbT4012HyojunFutangakuGemmen"."gengakugoKingaku" AS "負担額",
            rgdb."DbT4012HyojunFutangakuGemmen"."shinseiYMD" AS "申請日"
           FROM rgdb."DbT4012HyojunFutangakuGemmen"
          UNION SELECT 
           rgdb."DbT4013TokuteiHyojunFutangakuGengaku"."shoKisaiHokenshaNo" AS "証記載保険者番号",
            rgdb."DbT4013TokuteiHyojunFutangakuGengaku"."hihokenshaNo" AS "被保険者番号",
            rgdb."DbT4013TokuteiHyojunFutangakuGengaku"."rirekiNo" AS "履歴番号",
            '02' AS "減免_減額種類",
            rgdb."DbT4013TokuteiHyojunFutangakuGengaku"."tekiyoKaishiYMD" AS "適用開始日",
            rgdb."DbT4013TokuteiHyojunFutangakuGengaku"."tekiyoShuryoYMD" AS "適用終了日",
            rgdb."DbT4013TokuteiHyojunFutangakuGengaku"."shokuhiFutanGendogaku" AS "負担額",
            rgdb."DbT4013TokuteiHyojunFutangakuGengaku"."shinseiYMD" AS "申請日"
           FROM rgdb."DbT4013TokuteiHyojunFutangakuGengaku"
          ) A
        INNER JOIN  "IdouTemp"
        ON "IdouTemp"."被保険者番号" = A."被保険者番号"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
             FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    <resultMap id="resultMap_標準負担" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <association property="標準負担" resultMap="resultMap_標準負担Entity"/>
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
     <select id="select二割負担" resultMap="resultMap_二割負担" 
            fetchSize="500" resultOrdered="true">
        SELECT 
         <include refid="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT3114RiyoshaFutanWariaiMeisaiMapper.allColumns_DbT3114RiyoshaFutanWariaiMeisai"/>,
         <include refid="allColumns_IdouTemp" />,
         "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM rgdb."DbT3114RiyoshaFutanWariaiMeisai" AS "DbT3114RiyoshaFutanWariaiMeisai"
        INNER JOIN  "IdouTemp"
        ON "IdouTemp"."被保険者番号" = "DbT3114RiyoshaFutanWariaiMeisai"."hihokenshaNo"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
             FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        WHERE "DbT3114RiyoshaFutanWariaiMeisai"."futanWariaiKubun" = '20'
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    <resultMap id="resultMap_二割負担" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <association property="二割負担" resultMap="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT3114RiyoshaFutanWariaiMeisaiMapper.ResultMap_DbT3114RiyoshaFutanWariaiMeisaiEntity"/>
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
    <select id="select居宅計画" resultMap="resultMap_居宅計画" 
            fetchSize="500" resultOrdered="true">
        SELECT 居宅計画.*,
         <include refid="allColumns_IdouTemp" />,
         "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM (
        SELECT 
            'A' AS "居宅計画種類",
            A1."hihokenshaNo" AS "被保険者番号",
            B1."tekiyoKaishiYMD" AS "適用開始日",
            B1."tekiyoShuryoYMD" AS "適用終了日",
            B1."keikakuJigyoshaNo" AS "計画事業者番号",
            B1."itakusakiJigyoshaNo" AS "委託先事業者番号",
            B1."sakuseiKubunCode" AS "居宅サービス計画作成区分コード",
            A1."zanteiKubun" AS "暫定区分",
            A1."todokedeYMD" AS "届出年月日"
        FROM rgdb."DbT3005KyotakuKeikakuTodokede" A1
            INNER JOIN rgdb."DbT3006KyotakuKeikakuJigyoshaSakusei" B1
            ON A1."hihokenshaNo" = B1."hihokenshaNo" AND A1."rirekiNo" = B1."rirekiNo"
        UNION
        SELECT
            'B' AS "居宅計画種類",
            A2."hihokenshaNo" AS "被保険者番号",
            C1."tekiyoKaishiYMD" AS "適用開始日",
            C1."tekiyoShuryoYMD" AS "適用終了日",
            ' ' AS "計画事業者番号",
            ' ' AS "委託先事業者番号",
            C1."sakuseiKubunCode" AS "居宅サービス計画作成区分コード",
            A2."zanteiKubun" AS "暫定区分",
            A2."todokedeYMD" AS "届出年月日"
        FROM rgdb."DbT3005KyotakuKeikakuTodokede" A2
            INNER JOIN rgdb."DbT3006KyotakuKeikakuJigyoshaSakusei" C1
            ON A2."hihokenshaNo" = C1."hihokenshaNo" AND A2."rirekiNo" = C1."rirekiNo") AS 居宅計画
        INNER JOIN  "IdouTemp"
        ON "IdouTemp"."被保険者番号" = 居宅計画."被保険者番号"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
             FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    <resultMap id="resultMap_居宅計画" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <association property="居宅計画" resultMap="resultMap_居宅計画Entity"/>
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
    <select id="select受給者台帳" resultMap="resultMap_受給者台帳" 
            fetchSize="500" resultOrdered="true">
        SELECT 
         <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT4001JukyushaDaichoMapper.allColumns_DbT4001JukyushaDaicho"/>,
         <include refid="allColumns_IdouTemp" />,
         "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM rgdb."DbT4001JukyushaDaicho" AS "DbT4001JukyushaDaicho"
        INNER JOIN  "IdouTemp"
        ON "IdouTemp"."被保険者番号" = "DbT4001JukyushaDaicho"."hihokenshaNo"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
             FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        WHERE "DbT4001JukyushaDaicho"."isDeleted" = FALSE
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    <resultMap id="resultMap_受給者台帳" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <association property="受給者台帳" resultMap="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT4001JukyushaDaichoMapper.ResultMap_DbT4001JukyushaDaichoEntity"/>
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
    <select id="select二次予防" resultMap="resultMap_二次予防" 
            fetchSize="500" resultOrdered="true">
        SELECT 
         <include refid="jp.co.ndensan.reams.db.dbc.persistence.db.mapper.basic.IDbT3100NijiYoboJigyoTaishoshaMapper.allColumns_DbT3100NijiYoboJigyoTaishosha"/>,
         <include refid="allColumns_IdouTemp" />,
         "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM rgdb."DbT3100NijiYoboJigyoTaishosha" AS "DbT3100NijiYoboJigyoTaishosha"
        INNER JOIN  "IdouTemp"
        ON "IdouTemp"."被保険者番号" = "DbT3100NijiYoboJigyoTaishosha"."hihokenshaNo"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
             FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    <resultMap id="resultMap_二次予防" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <association property="二次予防" resultMap="jp.co.ndensan.reams.db.dbc.persistence.db.mapper.basic.IDbT3100NijiYoboJigyoTaishoshaMapper.ResultMap_DbT3100NijiYoboJigyoTaishoshaEntity"/>
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
    <select id="select総合事業対象者" resultMap="resultMap_総合事業対象者" 
            fetchSize="500" resultOrdered="true">
        SELECT 
         <include refid="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT3105SogoJigyoTaishoshaMapper.allColumns_DbT3105SogoJigyoTaishosha"/>,
         <include refid="allColumns_IdouTemp" />,
         "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM rgdb."DbT3105SogoJigyoTaishosha" AS "DbT3105SogoJigyoTaishosha"
        INNER JOIN  "IdouTemp"
        ON "IdouTemp"."被保険者番号" = "DbT3105SogoJigyoTaishosha"."hihokenshaNo"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
             FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    <resultMap id="resultMap_総合事業対象者" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <association property="総合事業対象者" resultMap="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT3105SogoJigyoTaishoshaMapper.ResultMap_DbT3105SogoJigyoTaishoshaEntity"/>
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
    <select id="select被保険者台帳" resultMap="resultMap_被保険者台帳" 
            fetchSize="500" resultOrdered="true">
        SELECT 
         <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT1001HihokenshaDaichoMapper.allColumns_DbT1001HihokenshaDaicho"/>,
         <include refid="allColumns_IdouTemp" />,
         "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM rgdb."DbT1001HihokenshaDaicho" AS "DbT1001HihokenshaDaicho"
        INNER JOIN  "IdouTemp"
        ON "IdouTemp"."被保険者番号" = "DbT1001HihokenshaDaicho"."hihokenshaNo"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
             FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    <resultMap id="resultMap_被保険者台帳" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="false">
        <association property="被保険者台帳" resultMap="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT1001HihokenshaDaichoMapper.ResultMap_DbT1001HihokenshaDaichoEntity"/>
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
    <select id="select異動一時" resultMap="resultMap_IdouTblEntity" 
            fetchSize="500" resultOrdered="true">
        SELECT 
            <include refid="allColumns_IdouTemp" />,
            "TEMPCOUNT1"."HIHOCOUNT" AS "idouTemp_被保険者番号Max連番"
        FROM 
            "IdouTemp"
        INNER JOIN (
            SELECT
                "被保険者番号",
                COUNT(1) AS "HIHOCOUNT"
            FROM
                "IdouTemp" "TEMPINFO"
            GROUP BY
                "TEMPINFO"."被保険者番号"
            ) AS "TEMPCOUNT1"
        ON "IdouTemp"."被保険者番号" = "TEMPCOUNT1". "被保険者番号"
        WHERE 
            "IdouTemp"."被保険者番号" = '2016092401'
        ORDER BY "IdouTemp". "被保険者番号","IdouTemp". "連番" DESC
    </select>
    
    <sql id="allColumns_IdouTemp">
        "IdouTemp"."被保険者番号" as "idouTemp_被保険者番号",
        "IdouTemp"."連番" as "idouTemp_連番",
        "IdouTemp"."支払方法変更_支払方法" as "idouTemp_支払方法変更_支払方法",
        "IdouTemp"."支払方法変更_給付費減額" as "idouTemp_支払方法変更_給付費減額",
        "IdouTemp"."後期高齢者情報" as "idouTemp_後期高齢者情報",
        "IdouTemp"."生活保護受給者" as "idouTemp_生活保護受給者",
        "IdouTemp"."特定入所者" as "idouTemp_特定入所者",
        "IdouTemp"."社福減免" as "idouTemp_社福減免",
        "IdouTemp"."利用者負担額減額" as "idouTemp_利用者負担額減額",
        "IdouTemp"."標準負担" as "idouTemp_標準負担",
        "IdouTemp"."利用者負担割合明細" as "idouTemp_利用者負担割合明細",
        "IdouTemp"."居宅計画" as "idouTemp_居宅計画",
        "IdouTemp"."住所地特例" as "idouTemp_住所地特例",
        "IdouTemp"."宛名" as "idouTemp_宛名",
        "IdouTemp"."受給者台帳" as "idouTemp_受給者台帳",
        "IdouTemp"."二次予防事業対象者" as "idouTemp_二次予防事業対象者",
        "IdouTemp"."総合事業対象者" as "idouTemp_総合事業対象者",
        "IdouTemp"."被保険者台帳管理" as "idouTemp_被保険者台帳管理"
    </sql>
    <resultMap id="resultMap_IdouTblEntity" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTblEntity" autoMapping="true">
        <id property="被保険者番号" column="idouTemp_被保険者番号" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler"/>
        <id property="連番" column="idouTemp_連番"/>
        <result property="被保険者番号Max連番" column="idouTemp_被保険者番号Max連番"/>
        <result property="支払方法変更_支払方法" column="idouTemp_支払方法変更_支払方法" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="支払方法変更_給付費減額" column="idouTemp_支払方法変更_給付費減額" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="後期高齢者情報" column="idouTemp_後期高齢者情報" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="生活保護受給者" column="idouTemp_生活保護受給者" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="特定入所者" column="idouTemp_特定入所者" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="社福減免" column="idouTemp_社福減免" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="利用者負担額減額" column="idouTemp_利用者負担額減額" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="標準負担" column="idouTemp_標準負担" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="利用者負担割合明細" column="idouTemp_利用者負担割合明細" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="居宅計画" column="idouTemp_居宅計画" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="住所地特例" column="idouTemp_住所地特例" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="宛名" column="idouTemp_宛名" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="受給者台帳" column="idouTemp_受給者台帳" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="受給者台帳" column="idouTemp_受給者台帳" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="二次予防事業対象者" column="idouTemp_二次予防事業対象者" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="総合事業対象者" column="idouTemp_総合事業対象者" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="被保険者台帳管理" column="idouTemp_被保険者台帳管理" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
    </resultMap>
    <resultMap id="resultMap_社福減免Entity" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.ShafukugemmenEntity" autoMapping="true">
        <id property="証記載保険者番号" column="証記載保険者番号" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShoKisaiHokenshaNoTypeHandler"/>
        <id property="被保険者番号" column="被保険者番号" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler"/>
        <id property="連番" column="連番"/>
        <result property="減免_減額種類" column="減免_減額種類" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="適用開始日" column="適用開始日" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="適用終了日" column="適用終了日" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="軽減率" column="軽減率" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
    </resultMap>
    <resultMap id="resultMap_標準負担Entity" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.HyojunFutanEntity" autoMapping="true">
        <id property="証記載保険者番号" column="証記載保険者番号" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShoKisaiHokenshaNoTypeHandler"/>
        <id property="被保険者番号" column="被保険者番号" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler"/>
        <id property="連番" column="連番"/>
        <result property="減免_減額種類" column="減免_減額種類" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="適用開始日" column="適用開始日" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="適用終了日" column="適用終了日" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="負担額" column="負担額" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.DecimalTypeHandler"/>
        <result property="申請日" column="申請日" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
    </resultMap>
    <resultMap id="resultMap_居宅計画Entity" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.KyotakuEntity" autoMapping="true">
        <result property="居宅計画種類" column="居宅計画種類" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="被保険者番号" column="被保険者番号" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler"/>
        <result property="適用開始日" column="適用開始日" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="適用終了日" column="適用終了日" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="計画事業者番号" column="計画事業者番号" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.JigyoshaNoTypeHandler"/>
        <result property="委託先事業者番号" column="委託先事業者番号" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.JigyoshaNoTypeHandler"/>
        <result property="居宅サービス計画作成区分コード" column="居宅サービス計画作成区分コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="暫定区分" column="暫定区分" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="申請日" column="申請日" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
    </resultMap>
    
    <select id="selectTestData" resultMap="resultMap_TestData" 
            fetchSize="500" resultOrdered="true">
        SELECT 
            <include refid="allColumns_IdouTemp" />
        FROM 
            "IdouTemp"
        WHERE 
            "IdouTemp"."被保険者番号" = '2016092401'
    </select>
    
    <resultMap id="resultMap_TestData" type="jp.co.ndensan.reams.db.dbc.entity.db.relate.jukyushaidorenrakuhyoout.IdouTempEntity" autoMapping="true">
        <association property="異動一時" resultMap="resultMap_IdouTblEntity"/>
    </resultMap>
</mapper>