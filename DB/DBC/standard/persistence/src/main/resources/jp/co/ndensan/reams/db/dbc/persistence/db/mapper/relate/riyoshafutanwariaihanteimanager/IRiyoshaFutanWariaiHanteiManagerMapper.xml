<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 利用者負担割合判定検索処理のマッピング用XMLです。 -->
<!-- @reamsid_L DBC-5010-040 quxiaodong -->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbc.persistence.db.mapper.relate.riyoshafutanwariaihanteimanager.IRiyoshaFutanWariaiHanteiManagerMapper">
    <select resultOrdered="true" id="get生活保護受給者entity"
            parameterType="jp.co.ndensan.reams.db.dbc.definition.mybatisprm.riyoshafutanwariaihanteimanager.RiyoshaFutanWariaiHanteiManagerParameter"
            resultType="jp.co.ndensan.reams.ur.urd.entity.db.basic.seikatsuhogo.UrT0508SeikatsuHogoJukyushaEntity"
            fetchSize="500">
        SELECT A.*
        FROM
        rgur."UrT0508SeikatsuHogoJukyusha" AS A
        WHERE
        A."shikibetsuCode" =#{識別コード}
        AND  A."gyomuCode" ='DB'
        AND  (A."jukyuKaishiYMD"<![CDATA[<=]]> #{対象終了日}
        AND COALESCE(#{対象開始日}<![CDATA[<=]]>NULLIF(A."jukyuHaishiYMD", '99999999')))
        ORDER BY A."jukyuKaishiYMD"
    </select>

    <select resultOrdered="true" id="get介護所得情報"
            parameterType="jp.co.ndensan.reams.db.dbc.definition.mybatisprm.riyoshafutanwariaihanteimanager.RiyoshaFutanWariaiHanteiParameter"
            resultType="jp.co.ndensan.reams.db.dbz.entity.db.basic.DbV2512KaigoShotokuNewestEntity"
            fetchSize="500">
        SELECT B.*
        FROM
        rgdb."DbV2512KaigoShotokuNewest" AS B
        WHERE
        B."shikibetsuCode" = #{識別コード}
        AND  B."shotokuNendo" = #{所得年度}
        ORDER BY B."shotokuNendo" DESC
    </select>
</mapper>