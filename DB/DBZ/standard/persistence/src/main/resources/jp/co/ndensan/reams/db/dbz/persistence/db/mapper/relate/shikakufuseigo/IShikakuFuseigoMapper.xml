<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 資格不整合一覧情報のマッピング用XMLです。 -->
<!-- @reamsid_L DBB-0630-020 chengsanyuan -->

<mapper namespace="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.relate.shikakufuseigo.IShikakuFuseigoMapper">
    <resultMap id="shikakuResult" type="jp.co.ndensan.reams.db.dbz.entity.db.relate.shikakufuseigo.ShikakuFuseigoEntity">
        <association property="dbt1014Entity" resultMap="jp.co.ndensan.reams.db.dbz.entity.db.basic.DbT1014SeigoseiCheckEntity"/>
        <association property="ft200Entity" resultMap="jp.co.ndensan.reams.ua.uax.persistence.db.mapper.IUaFt200FindShikibetsuTaishoFunctionMapper.UaFt200FindShikibetsuTaishoEntity"/>
    </resultMap>    
    <select id="get被保険者資格不整合一覧" 
                resultType="shikakuResult"
                parameterType="jp.co.ndensan.reams.db.dbz.definition.mybatisprm.shikakufuseigo.ShikakuFuseigoMybatisParameter" 
                fetchSize="500">
        SELECT
            DbT1014SeigoseiCheck.*,
            <include refid="jp.co.ndensan.reams.ua.uax.persistence.db.mapper.IUaFt200FindShikibetsuTaishoFunctionMapper.columns_ShikibetsuTaisho" />
        FROM
            rgdb."DbT1014SeigoseiCheck" AS DbT1014SeigoseiCheck 
            INNER JOIN
                <include refid="jp.co.ndensan.reams.ua.uax.persistence.db.mapper.IUaFt200FindShikibetsuTaishoFunctionMapper.tableName_PsmShikibetsuTaisho" />
                AS <include refid="jp.co.ndensan.reams.ua.uax.persistence.db.mapper.IUaFt200FindShikibetsuTaishoFunctionMapper.as_ShikibetsuTaisho" /> 
              ON DbT1014SeigoseiCheck."shikibetsuCode" = <include refid="jp.co.ndensan.reams.ua.uax.persistence.db.mapper.IUaFt200FindShikibetsuTaishoFunctionMapper.as_ShikibetsuTaisho" />."shikibetsuCode"
        WHERE
              DbT1014SeigoseiCheck."daichoShubetsu" IN('1','2','3')
              OR DbT1014SeigoseiCheck."fuseigoRiyuCode" IN ('11','12','13','21','22','23','31','32','33','42','51','52','53','54','61','62','63','64')
          ORDER BY hihokenshaNo,shikibetsuCode
    </select>
    
    <resultMap id="shikakufuseigo" type="jp.co.ndensan.reams.db.dbz.entity.db.basic.DbT1014SeigoseiCheckEntity">
        <association property="dbt1014Entity" resultMap="jp.co.ndensan.reams.db.dbz.entity.db.basic.DbT1014SeigoseiCheckEntity"/>
    </resultMap>    
    <select id="get整合性チェック情報" 
                resultType="shikakufuseigo"
                parameterType="jp.co.ndensan.reams.db.dbz.definition.mybatisprm.shikakufuseigo.ShikakuFuseigoMybatisParameter" 
                fetchSize="500">
        SELECT
            DbT1014SeigoseiCheck.*,
        FROM
            rgdb."DbT1014SeigoseiCheck" AS DbT1014SeigoseiCheck 
            INNER JOIN
                <include refid="jp.co.ndensan.reams.ua.uax.persistence.db.mapper.IUaFt200FindShikibetsuTaishoFunctionMapper.tableName_PsmShikibetsuTaisho" />
                AS <include refid="jp.co.ndensan.reams.ua.uax.persistence.db.mapper.IUaFt200FindShikibetsuTaishoFunctionMapper.as_ShikibetsuTaisho" /> 
              ON DbT1014SeigoseiCheck."shikibetsuCode" = <include refid="jp.co.ndensan.reams.ua.uax.persistence.db.mapper.IUaFt200FindShikibetsuTaishoFunctionMapper.as_ShikibetsuTaisho" />."shikibetsuCode"
        WHERE
              DbT1014SeigoseiCheck."daichoShubetsu" IN('1','2','3')
              OR DbT1014SeigoseiCheck."fuseigoRiyuCode" IN ('11','12','13','21','22','23','31','32','33','42','51','52','53','54','61','62','63','64')
          ORDER BY hihokenshaNo,shikibetsuCode
    </select>
</mapper>
    