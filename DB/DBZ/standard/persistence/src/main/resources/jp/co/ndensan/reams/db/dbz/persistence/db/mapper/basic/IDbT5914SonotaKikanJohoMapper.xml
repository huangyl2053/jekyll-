<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： DbT5914SonotaKikanJohoマスタとエンティティのマッピング用XMLです。 -->
<!-- 作者： n1070 久保裕是 -->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5914SonotaKikanJohoMapper">
    
    <!-- 概要： 削除されたデータ以外を全件取得するSQLです。 -->
    <sql id="noDeleted_DbT5914SonotaKikanJoho">
     SELECT
         <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5914SonotaKikanJohoMapper.allColumns_DbT5914SonotaKikanJoho" />
     FROM
         rgdb."DbT5914SonotaKikanJoho"
     WHERE
         rgdb."DbT5914SonotaKikanJoho"."isDeleted" = FALSE
    </sql>

    <sql id="allColumns_DbT5914SonotaKikanJoho">
         "DbT5914SonotaKikanJoho"."shoKisaiHokenshaNo" as "dbT5914SonotaKikanJoho_shoKisaiHokenshaNo",
         "DbT5914SonotaKikanJoho"."sonotaKikanCode" as "dbT5914SonotaKikanJoho_sonotaKikanCode",
         "DbT5914SonotaKikanJoho"."insertDantaiCd" as "dbT5914SonotaKikanJoho_insertDantaiCd",
         "DbT5914SonotaKikanJoho"."insertTimestamp" as "dbT5914SonotaKikanJoho_insertTimestamp",
         "DbT5914SonotaKikanJoho"."insertReamsLoginId" as "dbT5914SonotaKikanJoho_insertReamsLoginId",
         "DbT5914SonotaKikanJoho"."insertContextId" as "dbT5914SonotaKikanJoho_insertContextId",
         "DbT5914SonotaKikanJoho"."isDeleted" as "dbT5914SonotaKikanJoho_isDeleted",
         "DbT5914SonotaKikanJoho"."updateCount" as "dbT5914SonotaKikanJoho_updateCount",
         "DbT5914SonotaKikanJoho"."lastUpdateTimestamp" as "dbT5914SonotaKikanJoho_lastUpdateTimestamp",
         "DbT5914SonotaKikanJoho"."lastUpdateReamsLoginId" as "dbT5914SonotaKikanJoho_lastUpdateReamsLoginId",
         "DbT5914SonotaKikanJoho"."kikanMeisho" as "dbT5914SonotaKikanJoho_kikanMeisho",
         "DbT5914SonotaKikanJoho"."kikanMeishoKana" as "dbT5914SonotaKikanJoho_kikanMeishoKana",
         "DbT5914SonotaKikanJoho"."yubinNo" as "dbT5914SonotaKikanJoho_yubinNo",
         "DbT5914SonotaKikanJoho"."jusho" as "dbT5914SonotaKikanJoho_jusho",
         "DbT5914SonotaKikanJoho"."jushoKana" as "dbT5914SonotaKikanJoho_jushoKana",
         "DbT5914SonotaKikanJoho"."telNo" as "dbT5914SonotaKikanJoho_telNo",
         "DbT5914SonotaKikanJoho"."chosaItakuKubun" as "dbT5914SonotaKikanJoho_chosaItakuKubun",
         "DbT5914SonotaKikanJoho"."waritsukeTeiin" as "dbT5914SonotaKikanJoho_waritsukeTeiin",
         "DbT5914SonotaKikanJoho"."waritsukeChiku" as "dbT5914SonotaKikanJoho_waritsukeChiku",
         "DbT5914SonotaKikanJoho"."kikanKubun" as "dbT5914SonotaKikanJoho_kikanKubun",
         "DbT5914SonotaKikanJoho"."haishiFlag" as "dbT5914SonotaKikanJoho_haishiFlag",
         "DbT5914SonotaKikanJoho"."kinyuKikanCode" as "dbT5914SonotaKikanJoho_kinyuKikanCode",
         "DbT5914SonotaKikanJoho"."kinyuKikanShitenCode" as "dbT5914SonotaKikanJoho_kinyuKikanShitenCode",
         "DbT5914SonotaKikanJoho"."yokinShubetsu" as "dbT5914SonotaKikanJoho_yokinShubetsu",
         "DbT5914SonotaKikanJoho"."kozaNo" as "dbT5914SonotaKikanJoho_kozaNo",
         "DbT5914SonotaKikanJoho"."kozaMeigininKana" as "dbT5914SonotaKikanJoho_kozaMeigininKana",
         "DbT5914SonotaKikanJoho"."kozaMeiginin" as "dbT5914SonotaKikanJoho_kozaMeiginin"
    </sql>


    <!--テーブルDbT5914SonotaKikanJohoの項目をDbT5914SonotaKikanJohoEntityの項目にマッピングします。-->
    <resultMap id="ResultMap_DbT5914SonotaKikanJohoEntity" type="jp.co.ndensan.reams.db.dbz.entity.db.basic.DbT5914SonotaKikanJohoEntity" autoMapping="true">
        <id property="shoKisaiHokenshaNo" column="dbT5914SonotaKikanJoho_shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShoKisaiHokenshaNoTypeHandler"/>
        <id property="sonotaKikanCode" column="dbT5914SonotaKikanJoho_sonotaKikanCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="insertDantaiCd" column="dbT5914SonotaKikanJoho_insertDantaiCd" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="insertTimestamp" column="dbT5914SonotaKikanJoho_insertTimestamp" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RDateTimeTypeHandler"/>
        <result property="insertReamsLoginId" column="dbT5914SonotaKikanJoho_insertReamsLoginId" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="insertContextId" column="dbT5914SonotaKikanJoho_insertContextId" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.UUIDTypeHandler"/>
        <result property="isDeleted" column="dbT5914SonotaKikanJoho_isDeleted" />
        <result property="updateCount" column="dbT5914SonotaKikanJoho_updateCount" />
        <result property="lastUpdateTimestamp" column="dbT5914SonotaKikanJoho_lastUpdateTimestamp" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RDateTimeTypeHandler"/>
        <result property="lastUpdateReamsLoginId" column="dbT5914SonotaKikanJoho_lastUpdateReamsLoginId" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="kikanMeisho" column="dbT5914SonotaKikanJoho_kikanMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="kikanMeishoKana" column="dbT5914SonotaKikanJoho_kikanMeishoKana" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="yubinNo" column="dbT5914SonotaKikanJoho_yubinNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.YubinNoTypeHandler"/>
        <result property="jusho" column="dbT5914SonotaKikanJoho_jusho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="jushoKana" column="dbT5914SonotaKikanJoho_jushoKana" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="telNo" column="dbT5914SonotaKikanJoho_telNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.TelNoTypeHandler"/>
        <result property="chosaItakuKubun" column="dbT5914SonotaKikanJoho_chosaItakuKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="waritsukeTeiin" column="dbT5914SonotaKikanJoho_waritsukeTeiin" />
        <result property="waritsukeChiku" column="dbT5914SonotaKikanJoho_waritsukeChiku" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.ChikuCodeTypeHandler"/>
        <result property="kikanKubun" column="dbT5914SonotaKikanJoho_kikanKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="haishiFlag" column="dbT5914SonotaKikanJoho_haishiFlag" />
        <result property="kinyuKikanCode" column="dbT5914SonotaKikanJoho_kinyuKikanCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.KinyuKikanCodeTypeHandler"/>
        <result property="kinyuKikanShitenCode" column="dbT5914SonotaKikanJoho_kinyuKikanShitenCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.KinyuKikanShitenCodeTypeHandler"/>
        <result property="yokinShubetsu" column="dbT5914SonotaKikanJoho_yokinShubetsu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="kozaNo" column="dbT5914SonotaKikanJoho_kozaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="kozaMeigininKana" column="dbT5914SonotaKikanJoho_kozaMeigininKana" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaKanaMeishoTypeHandler"/>
        <result property="kozaMeiginin" column="dbT5914SonotaKikanJoho_kozaMeiginin" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaMeishoTypeHandler"/>
    </resultMap>
    
    <select resultOrdered="true" id="getSoNoTaKiKanJohoList"
            resultMap="ResultMap_DbT5914SonotaKikanJohoEntity"
            parameterType="jp.co.ndensan.reams.db.dbz.definition.mybatisprm.sonotakikanguide.SoNoTaKikanGuideParameter" fetchSize="500">
             SELECT
                DbT5914SonotaKikanJoho.*	
            FROM	
                (<include refid="noDeleted_DbT5914SonotaKikanJoho" />) AS DbT5914SonotaKikanJoho
         <where>
            <if test="is含まない">
                AND
                DbT5914SonotaKikanJoho."dbT5914SonotaKikanJoho_haishiFlag" = true
            </if>
            <if test="is証記載保険者番号Flag">
                AND
                DbT5914SonotaKikanJoho."dbT5914SonotaKikanJoho_shoKisaiHokenshaNo" = #{証記載保険者番号}
            </if>
            <if test="isその他機関コードFromFlag">
                AND
                #{その他機関コードFrom} <![CDATA[<=]]> dbT5914SonotaKi."dbT5914SonotaKikanJoho_sonotaKikanCode"
            </if>
            <if test="isその他機関コードToFlag">
                AND
                DbT5914SonotaKikanJoho."dbT5914SonotaKikanJoho_sonotaKikanCode" <![CDATA[<=]]> #{その他機関コードTo}
            </if>
            <if test="isその他機関名称Flag">
                AND
                DbT5914SonotaKikanJoho."dbT5914SonotaKikanJoho_kikanMeisho"  LIKE '%' || #{その他機関名称} || '%'
            </if>
            <if test="is調査委託先区分Flag">
                AND
                DbT5914SonotaKikanJoho."dbT5914SonotaKikanJoho_chosaItakuKubun"  LIKE '%' || #{調査委託先区分} || '%'
            </if>
        </where>
        ORDER BY	
                DbT5914SonotaKikanJoho."dbT5914SonotaKikanJoho_shoKisaiHokenshaNo",
                DbT5914SonotaKikanJoho."dbT5914SonotaKikanJoho_sonotaKikanCode"
        LIMIT #{最大表示件数}
    </select>

</mapper>
