<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.relate.hihokenshoshikakushohakko.IHihokenshoShikakushoHakkoMapper">
    <select id="限度額データ取得" resultType="jp.co.ndensan.reams.db.dbz.entity.db.hihokenshoshikakushohakko.ServiceTypeListEntity" fetchSize="500">
        SELECT
        "A"."shikyuGendoTaniSu" AS "限度額",
        "A"."serviceShuruiCode" AS "サービス種類コード",
        "B"."serviceShuruiMeisho" AS "サービス種類名称"
        FROM
        rgdb."DbT7111ServiceShuruiShikyuGendoGaku" AS "A"
        LEFT JOIN
        rgdb."DbT7130KaigoServiceShurui" AS "B"
        ON
        "A"."serviceShuruiCode" = "B"."serviceShuruiCd"
        AND "B"."teikyoKaishiYM" <= "A"."tekiyoKaishuYM"
        AND "A"."tekiyoKaishuYM" <= "B"."teikyoshuryoYM"
        WHERE
        "A"."yoKaigoJotaiKubun" = '1'
        ORDER BY
        "サービス種類コード" ASC
    </select>
</mapper>
