<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- @reamsid_L DBD-3610-050 jinge -->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.relate.kyufugengakulist.IShunoJokyoHaakuMapper">
    <resultMap id="ResultMap_ShunoTainoJokyoHaakuEntity" type="jp.co.ndensan.reams.db.dbd.entity.db.relate.kyufugengakulist.ShunoTainoJokyoHaakuEntity" autoMapping="true">
        <id property="収納状況TmpTblEntity.tmp_hihokenshaNo" column="tmp_hihokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler" />
        <id property="収納状況TmpTblEntity.tmp_choteiNendo" column="tmp_choteiNendo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearTypeHandler" />
        <id property="収納状況TmpTblEntity.tmp_fukaNendo" column="tmp_fukaNendo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearTypeHandler" />
        <id property="収納状況TmpTblEntity.tmp_tsuchishoNo" column="tmp_tsuchishoNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.TsuchishoNoTypeHandler" />
        <id property="収納状況TmpTblEntity.tmp_kibetsu" column="tmp_kibetsu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <id property="対象者TmpTblEntity.hihokenshaNo2" column="hihokenshaNo2" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler" />
        <id property="支払方法変更滞納Entity.shoKisaiHokenshaNo" column="dbT4022ShiharaiHohoHenkoTaino_shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShoKisaiHokenshaNoTypeHandler"/>
        <id property="支払方法変更滞納Entity.hihokenshaNo" column="dbT4022ShiharaiHohoHenkoTaino_hihokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler"/>
        <id property="支払方法変更滞納Entity.kanriKubun" column="dbT4022ShiharaiHohoHenkoTaino_kanriKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <id property="支払方法変更滞納Entity.rirekiNo" column="dbT4022ShiharaiHohoHenkoTaino_rirekiNo" />
        <association property="収納状況TmpTblEntity" resultMap="ResultMap_収納状況TmpTblEntity"/>
        <association property="対象者TmpTblEntity" resultMap="ResultMap_対象者TmpTblEntity"/>
        <association property="支払方法変更滞納Entity" resultMap="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT4022ShiharaiHohoHenkoTainoMapper.ResultMap_DbT4022ShiharaiHohoHenkoTainoEntity"/>
    </resultMap>
    
    <select id="get収納滞納状況把握情報"  resultMap="ResultMap_ShunoTainoJokyoHaakuEntity" resultOrdered="true" fetchSize="500">
        SELECT
        収納状況一時テーブル.*,
        対象者情報一時テーブル.*,
        <include refid="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT4022ShiharaiHohoHenkoTainoMapper.allColumns_DbT4022ShiharaiHohoHenkoTaino" />
        FROM
        "ShunoJokyoTemp" AS 収納状況一時テーブル
        INNER JOIN 
        "TaishoshaJohoTemp" AS 対象者情報一時テーブル
        ON 
        収納状況一時テーブル."tmp_hihokenshaNo" = 対象者情報一時テーブル."hihokenshaNo2"
        LEFT JOIN
        rgdb."DbT4022ShiharaiHohoHenkoTaino" AS "DbT4022ShiharaiHohoHenkoTaino"
        ON 
        "DbT4022ShiharaiHohoHenkoTaino"."hihokenshaNo" = 収納状況一時テーブル."tmp_hihokenshaNo"
        AND "DbT4022ShiharaiHohoHenkoTaino"."choteiNendo" = 収納状況一時テーブル."tmp_choteiNendo"
        AND "DbT4022ShiharaiHohoHenkoTaino"."fukaNendo" = 収納状況一時テーブル."tmp_fukaNendo"
        AND "DbT4022ShiharaiHohoHenkoTaino"."shuno_Ki_Tsuki" = 収納状況一時テーブル."tmp_kibetsu"
        AND "DbT4022ShiharaiHohoHenkoTaino"."tsuchishoNo" = 収納状況一時テーブル."tmp_tsuchishoNo"
        AND "DbT4022ShiharaiHohoHenkoTaino"."Tokucho_fuchoKubun" = 収納状況一時テーブル."tmp_tokucho_fuchoKubun"
        ORDER BY "tmp_hihokenshaNo" ASC, "tmp_nokigen" ASC
    </select>
    
    <resultMap id="ResultMap_収納状況TmpTblEntity" type="jp.co.ndensan.reams.db.dbd.entity.db.relate.kyufugengakulist.temptable.ShunoJokyoTempTableEntity" autoMapping="true">
        <id column="tmp_hihokenshaNo" />
        <id column="tmp_choteiNendo" />
        <id column="tmp_fukaNendo" />
        <id column="tmp_tsuchishoNo" />
        <id column="tmp_kibetsu" />
        <result property="tmp_hihokenshaNo" column="tmp_hihokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler"/>
        <result property="tmp_choteiNendo" column="tmp_choteiNendo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearTypeHandler"/>
        <result property="tmp_fukaNendo" column="tmp_fukaNendo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearTypeHandler"/>
        <result property="tmp_tokucho_fuchoKubun" column="tmp_tokucho_fuchoKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="tmp_tsuchishoNo" column="tmp_tsuchishoNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.TsuchishoNoTypeHandler"/>
        <result property="tmp_kibetsu" column="tmp_kibetsu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="tmp_choteigaku" column="tmp_choteigaku" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.DecimalTypeHandler"  />
        <result property="tmp_shunyugaku" column="tmp_shunyugaku" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.DecimalTypeHandler" />
        <result property="tmp_minogaku" column="tmp_minogaku" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.DecimalTypeHandler" />
        <result property="tmp_nokigen" column="tmp_nokigen" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RDateTypeHandler"/>
        <result property="tmp_shunyuYMD" column="tmp_shunyuYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RDateTypeHandler"/>
        <result property="tmp_tokusokujoHakkoYMD" column="tmp_tokusokujoHakkoYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RDateTypeHandler"/>
        <result property="tmp_jikoKisanYMD" column="tmp_jikoKisanYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="tmp_jikoKisanJiyu" column="tmp_jikoKisanJiyu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="tmp_minoKannoKubun" column="tmp_minoKannoKubun"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="tmp_jikoKubun" column="tmp_jikoKubun"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
    </resultMap>
    
     <resultMap id="ResultMap_対象者TmpTblEntity" type="jp.co.ndensan.reams.db.dbd.entity.db.relate.kyufugengakulist.temptable.TaishoshaJohoTempTableEntity" autoMapping="true">
         <id column="hihokenshaNo2" />
         <result property="hihokenshaNo2" column="hihokenshaNo2" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler"/>
     </resultMap>
       
</mapper>