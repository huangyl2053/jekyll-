<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- @reamsid_L DBD-3610-050 jinge -->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.relate.kyufugengakulist.IShunoJokyoHaakuMapper">
    <resultMap id="ResultMap_ShunoTainoJokyoHaakuEntity" type="jp.co.ndensan.reams.db.dbd.entity.db.relate.kyufugengakulist.ShunoTainoJokyoHaakuEntity" autoMapping="true">
        <id property="収納状況TmpTblEntity.tmp_hihokenshaNo" column="tmp_hihokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler" />
        <id property="収納状況TmpTblEntity.tmp_choteiNendo" column="tmp_choteiNendo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearTypeHandler" />
        <id property="収納状況TmpTblEntity.tmp_fukaNendo" column="tmp_fukaNendo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearTypeHandler" />
        <id property="収納状況TmpTblEntity.tmp_tsuchishoNo" column="tmp_tsuchishoNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.TsuchishoNoTypeHandler" />
        <id property="収納状況TmpTblEntity.tmp_kibetsu" column="tmp_kibetsu" />
        <id property="対象者TmpTblEntity.hihokenshaNo2" column="hihokenshaNo2" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler" />
        <id property="支払方法変更滞納Entity.shoKisaiHokenshaNo" column="dbT4022ShiharaiHohoHenkoTaino_shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShoKisaiHokenshaNoTypeHandler"/>
        <id property="支払方法変更滞納Entity.hihokenshaNo" column="dbT4022ShiharaiHohoHenkoTaino_hihokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.HihokenshaNoTypeHandler"/>
        <id property="支払方法変更滞納Entity.kanriKubun" column="dbT4022ShiharaiHohoHenkoTaino_kanriKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <id property="支払方法変更滞納Entity.rirekiNo" column="dbT4022ShiharaiHohoHenkoTaino_rirekiNo" />
        <association property="収納状況TmpTblEntity" javaType="jp.co.ndensan.reams.db.dbd.entity.db.relate.kyufugengakulist.temptable.ShunoJokyoTempTableEntity"/>
        <association property="対象者TmpTblEntity" javaType="jp.co.ndensan.reams.db.dbd.entity.db.relate.kyufugengakulist.temptable.TaishoshaJohoTempTableEntity"/>
        <association property="支払方法変更滞納Entity" resultMap="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT4022ShiharaiHohoHenkoTainoMapper.ResultMap_DbT4022ShiharaiHohoHenkoTainoEntity"/>
    </resultMap>
    
    <select id="get収納滞納状況把握情報"  resultMap="ResultMap_ShunoTainoJokyoHaakuEntity" resultOrdered="true" fetchSize="500">
        SELECT
        収納状況一時テーブル.*,
        対象者情報一時テーブル.*,
        <include refid="jp.co.ndensan.reams.db.dbd.persistence.db.mapper.basic.IDbT4022ShiharaiHohoHenkoTainoMapper.allColumns_DbT4022ShiharaiHohoHenkoTaino" />
        FROM
        "ShunoJokyoTemp" AS 収納状況一時テーブル
        INNER JOIN 
        "TaishoshaJohoTemp" AS 対象者情報一時テーブル
        ON 
        収納状況一時テーブル."tmp_hihokenshaNo" = 対象者情報一時テーブル."hihokenshaNo2"
        LEFT JOIN
        rgdb."DbT4022ShiharaiHohoHenkoTaino" AS "DbT4022ShiharaiHohoHenkoTaino"
        ON 
        "DbT4022ShiharaiHohoHenkoTaino"."hihokenshaNo" = 収納状況一時テーブル."tmp_hihokenshaNo"
        AND "DbT4022ShiharaiHohoHenkoTaino"."choteiNendo" = 収納状況一時テーブル."tmp_choteiNendo"
        AND "DbT4022ShiharaiHohoHenkoTaino"."fukaNendo" = 収納状況一時テーブル."tmp_fukaNendo"
        AND "DbT4022ShiharaiHohoHenkoTaino"."shuno_Ki_Tsuki" = cast(収納状況一時テーブル."tmp_kibetsu" AS "char")
        AND "DbT4022ShiharaiHohoHenkoTaino"."tsuchishoNo" = 収納状況一時テーブル."tmp_tsuchishoNo"
        AND "DbT4022ShiharaiHohoHenkoTaino"."Tokucho_fuchoKubun" = 収納状況一時テーブル."tmp_tokucho_FuchoKubun"
    </select>
    
</mapper>