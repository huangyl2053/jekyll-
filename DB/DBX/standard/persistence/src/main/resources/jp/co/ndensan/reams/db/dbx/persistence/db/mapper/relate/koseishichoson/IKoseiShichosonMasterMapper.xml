<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 構成市町村マスタのマッピング用XMLです。 -->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.relate.koseishichosonmaster.IKoseiShichosonMasterMapper">


    <resultMap id="resultMap_KoseiShichosonMasterEntity" type="jp.co.ndensan.reams.db.dbz.entity.db.relate.koseishichosonmaster.KoseiShichosonMasterEntity" autoMapping="true">
        <id property="手帳情報Entity.shichonCode" column="bbT7052KoseiShichosonShisho_shichonCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.ShichonCodeTypeHandler"/>
    </resultMap>
    <!--DbT7051KoseiShichoson-->
    <!--DbT7052KoseiShichosonShisho-->
    <select id="getKoseiShichosonEntity"
            resultMap="resultMap_KoseiShichosonMasterEntity"
            parameterType="jp.co.ndensan.reams.db.dbx.definition.mybatisprm.koseishichoson.KoseiShichosonMasterMapperParameter" fetchSize="500">
        SELECT
        bbT7051KoseiShichoson.*,
        bbT7052KoseiShichosonShisho.*
        FROM
        <!--DbT7051KoseiShichoson-->
        (
        SELECT
        <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT7051KoseiShichosonMapper.allColumns_DbT7051KoseiShichoson"/>
        FROM
        rgba."DbT7051KoseiShichoson"
        WHERE
        "shichonCode" = #{shichonCode}
        )AS bbT7051KoseiShichoson
        <!--DbT7052KoseiShichosonShisho-->
        LEFT OUTER JOIN
        (
        SELECT
        <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT7052KoseiShichosonShishoMapper.allColumns_DbT7052KoseiShichosonShisho"/>
        FROM
        rgba."DbT7052KoseiShichosonShisho"
        )AS  bbT7052KoseiShichosonShisho
        ON
        bbT7051KoseiShichoson."bbT7051KoseiShichoson_shichonCode" = bbT7052KoseiShichosonShisho."bbT7052KoseiShichosonShisho_shichonCode"


    </select>
</mapper>
