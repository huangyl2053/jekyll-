<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： DbT7051KoseiShichosonMasterマスタとエンティティのマッピング用XMLです。 -->
<!-- 作者： n1070 久保裕是 -->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbx.persistence.db.mapper.basic.IDbT7051KoseiShichosonMasterMapper">

    <!-- 概要： 削除されたデータ以外を全件取得するSQLです。 -->
    <sql id="noDeleted_DbT7051KoseiShichosonMaster">
        SELECT
        <include refid="jp.co.ndensan.reams.db.dbx.persistence.db.mapper.basic.IDbT7051KoseiShichosonMasterMapper.allColumns_DbT7051KoseiShichosonMaster" />
        FROM
        rgdb."DbT7051KoseiShichosonMaster"
        WHERE
        rgdb."DbT7051KoseiShichosonMaster"."isDeleted" = FALSE
    </sql>

    <sql id="allColumns_DbT7051KoseiShichosonMaster">
        "DbT7051KoseiShichosonMaster"."shichosonShokibetsuID" as "dbT7051KoseiShichosonMaster_shichosonShokibetsuID",
        "DbT7051KoseiShichosonMaster"."insertDantaiCd" as "dbT7051KoseiShichosonMaster_insertDantaiCd",
        "DbT7051KoseiShichosonMaster"."insertTimestamp" as "dbT7051KoseiShichosonMaster_insertTimestamp",
        "DbT7051KoseiShichosonMaster"."insertReamsLoginId" as "dbT7051KoseiShichosonMaster_insertReamsLoginId",
        "DbT7051KoseiShichosonMaster"."insertContextId" as "dbT7051KoseiShichosonMaster_insertContextId",
        "DbT7051KoseiShichosonMaster"."isDeleted" as "dbT7051KoseiShichosonMaster_isDeleted",
        "DbT7051KoseiShichosonMaster"."updateCount" as "dbT7051KoseiShichosonMaster_updateCount",
        "DbT7051KoseiShichosonMaster"."lastUpdateTimestamp" as "dbT7051KoseiShichosonMaster_lastUpdateTimestamp",
        "DbT7051KoseiShichosonMaster"."lastUpdateReamsLoginId" as "dbT7051KoseiShichosonMaster_lastUpdateReamsLoginId",
        "DbT7051KoseiShichosonMaster"."shichosonCode" as "dbT7051KoseiShichosonMaster_shichosonCode",
        "DbT7051KoseiShichosonMaster"."shoKisaiHokenshaNo" as "dbT7051KoseiShichosonMaster_shoKisaiHokenshaNo",
        "DbT7051KoseiShichosonMaster"."kokuhorenKoikiShichosonNo" as "dbT7051KoseiShichosonMaster_kokuhorenKoikiShichosonNo",
        "DbT7051KoseiShichosonMaster"."shichosonMeisho" as "dbT7051KoseiShichosonMaster_shichosonMeisho",
        "DbT7051KoseiShichosonMaster"."todofukenMeisho" as "dbT7051KoseiShichosonMaster_todofukenMeisho",
        "DbT7051KoseiShichosonMaster"."gunMeisho" as "dbT7051KoseiShichosonMaster_gunMeisho",
        "DbT7051KoseiShichosonMaster"."yubinNo" as "dbT7051KoseiShichosonMaster_yubinNo",
        "DbT7051KoseiShichosonMaster"."jusho" as "dbT7051KoseiShichosonMaster_jusho",
        "DbT7051KoseiShichosonMaster"."telNo" as "dbT7051KoseiShichosonMaster_telNo",
        "DbT7051KoseiShichosonMaster"."yusenChikuCode" as "dbT7051KoseiShichosonMaster_yusenChikuCode",
        "DbT7051KoseiShichosonMaster"."tyohyoTodoufukenHyojiUmu" as "dbT7051KoseiShichosonMaster_tyohyoTodoufukenHyojiUmu",
        "DbT7051KoseiShichosonMaster"."tyohyoGunHyojiUmu" as "dbT7051KoseiShichosonMaster_tyohyoGunHyojiUmu",
        "DbT7051KoseiShichosonMaster"."tyohyoShichosonHyojiUmu" as "dbT7051KoseiShichosonMaster_tyohyoShichosonHyojiUmu",
        "DbT7051KoseiShichosonMaster"."tyohyoJushoHenshuHouhou" as "dbT7051KoseiShichosonMaster_tyohyoJushoHenshuHouhou",
        "DbT7051KoseiShichosonMaster"."tyohyoKatagakiHyojiUmu" as "dbT7051KoseiShichosonMaster_tyohyoKatagakiHyojiUmu",
        "DbT7051KoseiShichosonMaster"."gaikokujinHyojiHouhou" as "dbT7051KoseiShichosonMaster_gaikokujinHyojiHouhou",
        "DbT7051KoseiShichosonMaster"."rojinhokenShichosonNo" as "dbT7051KoseiShichosonMaster_rojinhokenShichosonNo",
        "DbT7051KoseiShichosonMaster"."rokenJukyushaNoTaikei" as "dbT7051KoseiShichosonMaster_rokenJukyushaNoTaikei",
        "DbT7051KoseiShichosonMaster"."shotokuHikidashiHoho" as "dbT7051KoseiShichosonMaster_shotokuHikidashiHoho",
        "DbT7051KoseiShichosonMaster"."nofugakuDataRenkeiHoho" as "dbT7051KoseiShichosonMaster_nofugakuDataRenkeiHoho",
        "DbT7051KoseiShichosonMaster"."tokuchoBunpaishuyaku" as "dbT7051KoseiShichosonMaster_tokuchoBunpaishuyaku",
        "DbT7051KoseiShichosonMaster"."ikoYMD" as "dbT7051KoseiShichosonMaster_ikoYMD",
        "DbT7051KoseiShichosonMaster"."kanyuYMD" as "dbT7051KoseiShichosonMaster_kanyuYMD",
        "DbT7051KoseiShichosonMaster"."ridatsuYMD" as "dbT7051KoseiShichosonMaster_ridatsuYMD",
        "DbT7051KoseiShichosonMaster"."gappeiKyuShichosonKubun" as "dbT7051KoseiShichosonMaster_gappeiKyuShichosonKubun",
        "DbT7051KoseiShichosonMaster"."gappeiKyuShichosonHyojiUmu" as "dbT7051KoseiShichosonMaster_gappeiKyuShichosonHyojiUmu",
        "DbT7051KoseiShichosonMaster"."gappeiChiikiNo" as "dbT7051KoseiShichosonMaster_gappeiChiikiNo",
        "DbT7051KoseiShichosonMaster"."unyoHokenshaNo" as "dbT7051KoseiShichosonMaster_unyoHokenshaNo",
        "DbT7051KoseiShichosonMaster"."unyoKaishiYMD" as "dbT7051KoseiShichosonMaster_unyoKaishiYMD",
        "DbT7051KoseiShichosonMaster"."unyoShuryoYMD" as "dbT7051KoseiShichosonMaster_unyoShuryoYMD",
        "DbT7051KoseiShichosonMaster"."unyoKeitaiKubun" as "dbT7051KoseiShichosonMaster_unyoKeitaiKubun"
    </sql>


    <!--テーブルDbT7051KoseiShichosonMasterの項目をDbT7051KoseiShichosonMasterEntityの項目にマッピングします。-->
    <resultMap id="ResultMap_DbT7051KoseiShichosonMasterEntity" type="jp.co.ndensan.reams.db.dbx.entity.db.basic.DbT7051KoseiShichosonMasterEntity" autoMapping="true">
        <id property="shichosonShokibetsuID" column="dbT7051KoseiShichosonMaster_shichosonShokibetsuID" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="insertDantaiCd" column="dbT7051KoseiShichosonMaster_insertDantaiCd" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="insertTimestamp" column="dbT7051KoseiShichosonMaster_insertTimestamp" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RDateTimeTypeHandler"/>
        <result property="insertReamsLoginId" column="dbT7051KoseiShichosonMaster_insertReamsLoginId" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="insertContextId" column="dbT7051KoseiShichosonMaster_insertContextId" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.UUIDTypeHandler"/>
        <result property="isDeleted" column="dbT7051KoseiShichosonMaster_isDeleted" />
        <result property="updateCount" column="dbT7051KoseiShichosonMaster_updateCount" />
        <result property="lastUpdateTimestamp" column="dbT7051KoseiShichosonMaster_lastUpdateTimestamp" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RDateTimeTypeHandler"/>
        <result property="lastUpdateReamsLoginId" column="dbT7051KoseiShichosonMaster_lastUpdateReamsLoginId" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shichosonCode" column="dbT7051KoseiShichosonMaster_shichosonCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.LasdecCodeTypeHandler"/>
        <result property="shoKisaiHokenshaNo" column="dbT7051KoseiShichosonMaster_shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShoKisaiHokenshaNoTypeHandler" />
        <result property="kokuhorenKoikiShichosonNo" column="dbT7051KoseiShichosonMaster_kokuhorenKoikiShichosonNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shichosonMeisho" column="dbT7051KoseiShichosonMaster_shichosonMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="todofukenMeisho" column="dbT7051KoseiShichosonMaster_todofukenMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="gunMeisho" column="dbT7051KoseiShichosonMaster_gunMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="yubinNo" column="dbT7051KoseiShichosonMaster_yubinNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.YubinNoTypeHandler"/>
        <result property="jusho" column="dbT7051KoseiShichosonMaster_jusho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaJushoTypeHandler"/>
        <result property="telNo" column="dbT7051KoseiShichosonMaster_telNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.TelNoTypeHandler"/>
        <result property="yusenChikuCode" column="dbT7051KoseiShichosonMaster_yusenChikuCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="tyohyoTodoufukenHyojiUmu" column="dbT7051KoseiShichosonMaster_tyohyoTodoufukenHyojiUmu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="tyohyoGunHyojiUmu" column="dbT7051KoseiShichosonMaster_tyohyoGunHyojiUmu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="tyohyoShichosonHyojiUmu" column="dbT7051KoseiShichosonMaster_tyohyoShichosonHyojiUmu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="tyohyoJushoHenshuHouhou" column="dbT7051KoseiShichosonMaster_tyohyoJushoHenshuHouhou" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="tyohyoKatagakiHyojiUmu" column="dbT7051KoseiShichosonMaster_tyohyoKatagakiHyojiUmu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="gaikokujinHyojiHouhou" column="dbT7051KoseiShichosonMaster_gaikokujinHyojiHouhou" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="rojinhokenShichosonNo" column="dbT7051KoseiShichosonMaster_rojinhokenShichosonNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="rokenJukyushaNoTaikei" column="dbT7051KoseiShichosonMaster_rokenJukyushaNoTaikei" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shotokuHikidashiHoho" column="dbT7051KoseiShichosonMaster_shotokuHikidashiHoho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="nofugakuDataRenkeiHoho" column="dbT7051KoseiShichosonMaster_nofugakuDataRenkeiHoho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="tokuchoBunpaishuyaku" column="dbT7051KoseiShichosonMaster_tokuchoBunpaishuyaku" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ikoYMD" column="dbT7051KoseiShichosonMaster_ikoYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="kanyuYMD" column="dbT7051KoseiShichosonMaster_kanyuYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="ridatsuYMD" column="dbT7051KoseiShichosonMaster_ridatsuYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="gappeiKyuShichosonKubun" column="dbT7051KoseiShichosonMaster_gappeiKyuShichosonKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="gappeiKyuShichosonHyojiUmu" column="dbT7051KoseiShichosonMaster_gappeiKyuShichosonHyojiUmu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="gappeiChiikiNo" column="dbT7051KoseiShichosonMaster_gappeiChiikiNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="unyoHokenshaNo" column="dbT7051KoseiShichosonMaster_unyoHokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShoKisaiHokenshaNoTypeHandler" />
        <result property="unyoKaishiYMD" column="dbT7051KoseiShichosonMaster_unyoKaishiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="unyoShuryoYMD" column="dbT7051KoseiShichosonMaster_unyoShuryoYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="unyoKeitaiKubun" column="dbT7051KoseiShichosonMaster_unyoKeitaiKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
    </resultMap>

    <select resultOrdered="true" id="getEntity" resultMap="ResultMap_DbT7051KoseiShichosonMasterEntity">
        SELECT
        <include refid="allColumns_DbT7051KoseiShichosonMaster"/>
        FROM
        rgdb."DbT7051KoseiShichosonMaster"
    </select>

    <select resultOrdered="true" id="getKouikiKyuShichosonCodeJohoList" resultMap="ResultMap_DbT7051KoseiShichosonMasterEntity">
        SELECT
        <include refid="allColumns_DbT7051KoseiShichosonMaster"/>
        FROM
        rgdb."DbT7051KoseiShichosonMaster"
        WHERE
        "DbT7051KoseiShichosonMaster"."gappeiKyuShichosonKubun" = '1'
        AND SUBSTRING("DbT7051KoseiShichosonMaster"."gappeiChiikiNo" FROM 1 FOR 1) = #{gappeiChiikiNoItIchiketame}
        ORDER BY "DbT7051KoseiShichosonMaster"."gappeiChiikiNo" DESC
    </select>
    
    <select id="getKoseishichosonList" 
            parameterType="jp.co.ndensan.reams.db.dbx.definition.core.koseishichosonselector.KoseiShiChosonSelectorParamter"
            resultMap="ResultMap_DbT7051KoseiShichosonMasterEntity" resultOrdered="true">
        SELECT  
        A."shichosonCode" AS "dbT7051KoseiShichosonMaster_shichosonCode",
        A."shichosonMeisho" AS "dbT7051KoseiShichosonMaster_shichosonMeisho"
        FROM
        rgdb."DbT7051KoseiShichosonMaster"  AS  A
        WHERE
        A."kanyuYMD" <![CDATA[<=]]> #{systemDate} AND
        case when A."ridatsuYMD" IS NOT NULL THEN
        #{systemDate} <![CDATA[<=]]> A."ridatsuYMD"
        else A."ridatsuYMD" IS NULL
        end 
        ORDER BY A."shichosonCode"
    </select>

</mapper>