<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 介護賦課徴収猶予のマッピング用XMLです。 -->

<mapper namespace="jp.co.ndensan.reams.db.dbb.persistence.db.mapper.relate.choshuyuyo.IChoshuYuyoMapper">
    
    <select id="getChoshuyuyoEntity" resultMap="resultMap_ChoshuYuyoEntity" parameterType="jp.co.ndensan.reams.db.dbb.definition.mybatisprm.choshuyuyo.ChoshuYuyoMapperParameter" fetchSize="500">
        SELECT
        dbT2006ChoshuYuyo.*,
        dbT2007KibetsuChoshu.*
        FROM
        (
        SELECT
        <include refid="jp.co.ndensan.reams.db.dbb.persistence.db.mapper.basic.IDbT2006ChoshuYuyoMapper.allColumns_DbT2006ChoshuYuyo" />
        FROM
        rgdb."DbT2006ChoshuYuyo"
        WHERE
        "choteiNendo" = #{choteiNendo}
        AND
        "fukaNendo" = #{fukaNendo}
        AND
        "tsuchishoNo" = #{tsuchishoNo}
        AND
        "rirekiNo" = #{rirekiNo}
        )
        AS dbT2006ChoshuYuyo
        LEFT JOIN
        (
        SELECT
        <include refid="jp.co.ndensan.reams.db.dbb.persistence.db.mapper.basic.IDbT2007KibetsuChoshuYuyoMapper.allColumns_DbT2007KibetsuChoshuYuyo"/>
        FROM
        rgdb."DbT2007KibetsuChoshuYuyo"
        )
        AS dbT2007KibetsuChoshu
        ON
        dbT2006ChoshuYuyo."dbT2006ChoshuYuyo_choteiNendo" = dbT2007KibetsuChoshu."dbT2007KibetsuChoshuYuyo_choteiNendo"
        AND
        dbT2006ChoshuYuyo."dbT2006ChoshuYuyo_fukaNendo" = dbT2007KibetsuChoshu."dbT2007KibetsuChoshuYuyo_fukaNendo"
        AND
        dbT2006ChoshuYuyo."dbT2006ChoshuYuyo_tsuchishoNo" = dbT2007KibetsuChoshu."dbT2007KibetsuChoshuYuyo_tsuchishoNo"
        AND
        dbT2006ChoshuYuyo."dbT2006ChoshuYuyo_rirekiNo" = dbT2007KibetsuChoshu."dbT2007KibetsuChoshuYuyo_rirekiNo"
        
    </select>

    
    <resultMap id="resultMap_ChoshuYuyoEntity" type="jp.co.ndensan.reams.db.dbb.entity.db.relate.choshuyuyo.ChoshuYuyoEntity" autoMapping="true">
        <id property="介護賦課徴収猶予Entity.choteiNendo" column="dbT2006ChoshuYuyo_choteiNendo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearTypeHandler"/>
        <id property="介護賦課徴収猶予Entity.fukaNendo" column="dbT2006ChoshuYuyo_fukaNendo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearTypeHandler"/>
        <id property="介護賦課徴収猶予Entity.tsuchishoNo" column="dbT2006ChoshuYuyo_tsuchishoNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.TsuchishoNoTypeHandler" />
        <id property="介護賦課徴収猶予Entity.rirekiNo" column="dbT2006ChoshuYuyo_rirekiNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.DecimalTypeHandler"/>
        <association property="介護賦課徴収猶予Entity" 
                     resultMap="jp.co.ndensan.reams.db.dbb.persistence.db.mapper.basic.IDbT2006ChoshuYuyoMapper.ResultMap_DbT2006ChoshuYuyoEntity"/>
        <collection property="介護期別徴収猶予Entity" 
                    resultMap="jp.co.ndensan.reams.db.dbb.persistence.db.mapper.basic.IDbT2007KibetsuChoshuYuyoMapper.ResultMap_DbT2007KibetsuChoshuYuyoEntity"/>
    </resultMap>

</mapper>
