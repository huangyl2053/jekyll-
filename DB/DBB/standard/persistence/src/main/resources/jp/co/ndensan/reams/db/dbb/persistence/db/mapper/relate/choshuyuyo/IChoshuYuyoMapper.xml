<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 介護賦課徴収猶予のマッピング用XMLです。 -->
<!-- @reamsid_L DBB-9999-013 huangh -->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbb.persistence.db.mapper.relate.choshuyuyo.IChoshuYuyoMapper">

    <select id="select介護賦課徴収猶予ByKey" resultMap="resultMap_ChoshuYuyoEntity" fetchSize="500">
        <include refid="selectChoshuYuyoEntity" />
    </select>

    <select id="select介護賦課徴収猶予リストBy主キー1" resultMap="resultMap_ChoshuYuyoEntity" fetchSize="500">
        <include refid="selectChoshuYuyoEntity" />
    </select>

    <sql id="selectChoshuYuyoEntity">
        SELECT
        DbT2006ChoshuYuyo.*,
        DbT2007KibetsuChoshuYuyo.*
        FROM
        (<include refid="jp.co.ndensan.reams.db.dbb.persistence.db.mapper.basic.IDbT2006ChoshuYuyoMapper.noDeleted_DbT2006ChoshuYuyo" />) AS DbT2006ChoshuYuyo
        LEFT JOIN
        (
        SELECT
        <include refid="jp.co.ndensan.reams.db.dbb.persistence.db.mapper.basic.IDbT2007KibetsuChoshuYuyoMapper.allColumns_DbT2007KibetsuChoshuYuyo" />
        FROM
        rgdb."DbT2007KibetsuChoshuYuyo"
        ) AS DbT2007KibetsuChoshuYuyo
        ON
        DbT2006ChoshuYuyo."dbT2006ChoshuYuyo_choteiNendo" = DbT2007KibetsuChoshuYuyo."dbT2007KibetsuChoshuYuyo_choteiNendo" and
        DbT2006ChoshuYuyo."dbT2006ChoshuYuyo_fukaNendo = DbT2007KibetsuChoshuYuyo."dbT2007KibetsuChoshuYuyo_fukaNendo" and
        DbT2006ChoshuYuyo."dbT2006ChoshuYuyo_tsuchishoNo" = DbT2007KibetsuChoshuYuyo."dbT2007KibetsuChoshuYuyo_tsuchishoNo" and
        DbT2006ChoshuYuyo."dbT2006ChoshuYuyo_rirekiNo" = DbT2007KibetsuChoshuYuyo."dbT2007KibetsuChoshuYuyo_rirekiNo"
        <where>
            DbT2006ChoshuYuyo."dbT2006ChoshuYuyo_choteiNendo" = #{調定年度}
            and DbT2006ChoshuYuyo."dbT2006ChoshuYuyo_fukaNendo" = #{賦課年度}
            and DbT2006ChoshuYuyo."dbT2006ChoshuYuyo_tsuchishoNo" = #{通知書番号}
            and DbT2006ChoshuYuyo."dbT2006ChoshuYuyo_rirekiNo" = #{履歴番号}
        </where>
    </sql>

    <resultMap id="resultMap_ChoshuYuyoEntity" type="jp.co.ndensan.reams.db.dbb.entity.db.relate.choshuyuyo.ChoshuYuyoEntity" autoMapping="true">
        <id property="介護賦課徴収猶予Entity.choteiNendo" column="dbT2006ChoshuYuyo_choteiNendo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearTypeHandler"/>
        <id property="介護賦課徴収猶予Entity.fukaNendo" column="dbT2006ChoshuYuyo_fukaNendo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearTypeHandler"/>
        <id property="介護賦課徴収猶予Entity.tsuchishoNo" column="dbT2006ChoshuYuyo_tsuchishoNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.TsuchishoNoTypeHandler"/>
        <id property="介護賦課徴収猶予Entity.rirekiNo" column="dbT2006ChoshuYuyo_rirekiNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.DecimalTypeHandler"/>
        <association property="介護賦課徴収猶予Entity" resultMap="jp.co.ndensan.reams.db.dbb.persistence.db.mapper.basic.IDbT2006ChoshuYuyoMapper.ResultMap_DbT2006ChoshuYuyoEntity"/>
        <collection property="介護期別徴収猶予Entity" resultMap="jp.co.ndensan.reams.db.dbb.persistence.db.mapper.basic.IDbT2007KibetsuChoshuYuyoMapper.ResultMap_DbT2007KibetsuChoshuYuyoEntity"/>
    </resultMap>

</mapper>
