<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： DbT1001HihokenshaDaichoEntityのマッピング用XMLです。 -->
<!-- @reamsid_L DBE-1490-020 duanzhanli -->
<!--SelectMethod : getHihokenshaShutokuJyoho-->
<!--ParentResultMap : resultMap_getHihokenshaShutokuJyoho-->
<mapper namespace="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.renkeidatatorikomi.IDbT5913TempMapper">

    <sql id="allColumns_DbT5913Temp">
        "シーケンシャル番号",
        "機能コード",
        "識別コード",
        "委託先コード",
        "調査員コード",
        "調査員名称",
        "資格コード",
        "状況",
        "調査員名称カナ"
    </sql> 
    <sql id="allColumns_DbT5913ErrorTemp">
        "シーケンシャル番号",
        "機能コード",
        "識別コード",
        "委託先コード",
        "調査員コード",
        "調査員名称",
        "資格コード",
        "資格名称",
        "状況",
        "調査員名称カナ",
        "エラー内容"
    </sql> 
    
    <sql id="allColumns_DbT5913KoroshoTemp">
        "シーケンシャル番号",
        "機能コード",
        "識別コード",
        "委託先コード",
        "調査員コード",
        "調査員名称",
        "資格コード",
        "状況"
    </sql> 
    
    <sql id="allColumns_DbT5913KoroshoErrorTemp">
        "シーケンシャル番号",
        "機能コード",
        "識別コード",
        "委託先コード",
        "調査員コード",
        "調査員名称",
        "資格コード",
        "資格名称",
        "状況",
        "エラー内容"
    </sql> 
    
    <resultMap id="ResultMap_DbT5913TempEntity" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.renkeidatatorikomi.DbT5913TempEntity" autoMapping="true">
        <result property="シーケンシャル番号" column="シーケンシャル番号" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="機能コード" column="機能コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="識別コード" column="識別コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="委託先コード" column="委託先コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="調査員コード" column="調査員コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="調査員名称" column="調査員名称" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="資格コード" column="資格コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="状況" column="状況" />
        <result property="調査員名称カナ" column="調査員名称カナ" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
     </resultMap>  
     
     <resultMap id="ResultMap_DbT5913ErrorTempEntity" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.renkeidatatorikomi.DbT5913ErrorTempEntity" autoMapping="true">
        <result property="シーケンシャル番号" column="シーケンシャル番号" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="機能コード" column="機能コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="識別コード" column="識別コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="委託先コード" column="委託先コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="調査員コード" column="調査員コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="調査員名称" column="調査員名称" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="資格コード" column="資格コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="資格名称" column="資格名称" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="状況" column="状況" />
        <result property="調査員名称カナ" column="調査員名称カナ" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="エラー内容" column="エラー内容" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
     </resultMap>  
     
     <select resultOrdered="true" id="get調査員情報_電算" resultMap="ResultMap_DbT5913TempEntity" fetchSize="500">
        SELECT
            <include refid="allColumns_DbT5913Temp" />
        FROM
            "DbT5913Temp"
     </select>
     
     <select resultOrdered="true" id="get調査員エラー情報_電算" resultMap="ResultMap_DbT5913ErrorTempEntity" fetchSize="500">
        SELECT
            <include refid="allColumns_DbT5913ErrorTemp" />
        FROM
            "DbT5913ErrorTemp"
     </select>
     
     <select resultOrdered="true" id="get調査員情報_厚労省" resultMap="ResultMap_DbT5913TempEntity" fetchSize="500">
        SELECT
            <include refid="allColumns_DbT5913KoroshoTemp" />
        FROM
            "DbT5913Temp"
     </select>
     
     <select resultOrdered="true" id="get調査員エラー情報_厚労省" resultMap="ResultMap_DbT5913ErrorTempEntity" fetchSize="500">
        SELECT
            <include refid="allColumns_DbT5913KoroshoErrorTemp" />
        FROM
            "DbT5913ErrorTemp"
     </select>
   
   <resultMap id="ResultMap_DbT5913ChosainJoho" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.renkeidatatorikomi.DbT5913RelateEntity" autoMapping="true">
        <id column="dbT5913ChosainJoho_shichosonCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.LasdecCodeTypeHandler"/>
        <id column="dbT5913ChosainJoho_ninteiChosaItakusakiCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <id column="dbT5913ChosainJoho_ninteiChosainCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <association property="dbT5913Entity" resultMap="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5913ChosainJohoMapper.ResultMap_DbT5913ChosainJohoEntity"/>
        <association property="dbt5913TempEntity" resultMap="ResultMap_DbT5913TempEntity"/>
    </resultMap>
    <select resultOrdered="true" id="get調査員更新対象情報_電算" resultMap="ResultMap_DbT5913ChosainJoho" 
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.renkeidatatorikomi.RenkeiDataTorikomiMybitisParamter" fetchSize="500">
        SELECT
            <include refid="allColumns_DbT5913Temp" />,
            <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5913ChosainJohoMapper.allColumns_DbT5913ChosainJoho" />
        FROM
            "DbT5913Temp" AS temp
        LEFT JOIN 
            rgdb."DbT5913ChosainJoho"
        ON
            "ninteiChosaItakusakiCode" = temp."委託先コード"
        AND "ninteiChosainCode" = temp."調査員コード"
        AND "shichosonCode" = #{市町村コード}
    </select>
    
    <select resultOrdered="true" id="get調査員更新対象情報_厚労省" resultMap="ResultMap_DbT5913ChosainJoho" 
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.renkeidatatorikomi.RenkeiDataTorikomiMybitisParamter" fetchSize="500">
        SELECT
            <include refid="allColumns_DbT5913KoroshoTemp" />,
            <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5913ChosainJohoMapper.allColumns_DbT5913ChosainJoho" />
        FROM
            "DbT5913Temp" AS temp
        LEFT JOIN 
            rgdb."DbT5913ChosainJoho"
        ON
            "ninteiChosaItakusakiCode" = temp."委託先コード"
        AND "ninteiChosainCode" = temp."調査員コード"
        AND "shichosonCode" = #{市町村コード}
    </select>
    
</mapper>