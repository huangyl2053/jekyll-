<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 構成市町村マスタのマッピング用XMLです。 -->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.koseishichosonmaster.IKoseiShichosonMasterMapper">
<resultMap id="resultMap_KoseiShichosonMasterEntity" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.koseishichosonmaster.KoseiShichosonMasterEntity" autoMapping="true">
        <id property="shichosonShokibetsuID" column="DbT7051KoseiShichosonMaster_shikibetsuCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.ShikibetsuCodeTypeHandler"/>
        <association property="DbT7051KoseiShichosonMasterEntity" resultMap="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.koseishichosonmaster.IKoseiShichosonMasterMapper.resultMap_DbT7051KoseiShichosonMasterEntity"/>
        <collection property="DbT5910NinteichosaItakusakiJohoEntity" resultMap="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.ninteichosaItakusakiJoho.IDbT5910NinteichosaItakusakiJohoEntityMapper.resultMap_DbT5910NinteichosaItakusakiJohoEntity"/>
    </resultMap>
    
    <resultMap id="resultMap_NinteichosaItakusakiJohoEntity" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.ninteichosaItakusakiJohoEntity.NinteichosaItakusakiJohoEntity" autoMapping="true">
        <id property="shichosonShokibetsuID" column="DbT7051KoseiShichosonMaster_shikibetsuCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.ShikibetsuCodeTypeHandler"/>
        <id property="ninteichosaItakusakiCode" column="DbT7051KoseiShichosonMaster_ninteichosaItakusakiCode" typeHandler="jp.co.ndensan.reams.db.dbe.entity.typehandler.NinteichosaItakusakiCodeTypeHandler"/>
        <association property="DbT5913ChosainJohohoEntity" resultMap="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.chosainJohoho.IDbT5910NinteichosaItakusakiJohoEntityMapper.resultMap_DbT5913ChosainJohohoEntity"/>
        <collection property="DbT5910NinteichosaItakusakiJohoEntity" resultMap="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.ninteichosaItakusakiJoho.IDbT5910NinteichosaItakusakiJohoEntityMapper.resultMap_DbT5910NinteichosaItakusakiJohoEntity"/>
    </resultMap>
    
    
    
    <select id="getChosaItakusakiChosainRelateEntity" type="resultMap_KoseiShichosonMasterEntity"
     parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.koseishichosonmaster.KoseiShichosonMasterMapperParameter" fetchSize="500">
    SELECT
    dbT7051KoseiShichosonMaster.*,
    dbT5910NinteichosaItakusakiJoho.*,
    dbT5913ChosainJoho.*
    FROM
    (
    SELECT
    <include refid="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.koseishichosonmaster.DbT7051KoseiShichosonMasterMapper.allColumns_DbT7051KoseiShichosonMaster"/>
    FROM
    rgdb."DbT7051KoseiShichosonMaster"
    WHERE
    shichosonShokibetsuID=#{shichosonShokibetsuID}
    AND
    shichosonCode=#{shichosonCode}
    )AS dbT7051KoseiShichosonMaster
    LEFT OUTER JOIN
    (
    SELECT
    <include refid="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.basic.IDbT5910NinteichosaItakusakiJohoMapper.allColumns_DbT5910NinteichosaItakusakiJoho"/>
    FROM
    rgdb."DbT5910NinteichosaItakusakiJoho"
    )AS dbT5910NinteichosaItakusakiJoho
    ON
    dbT7051KoseiShichosonMaster."dbT7051KoseiShichosonMaster_shichosonCode"=dbT5910NinteichosaItakusakiJoho."dbT5910NinteichosaItakusakiJoho_shichosonCode"
    
     LEFT OUTER JOIN
    (
    SELECT
    <include refid="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.basic.IDbT5913ChosainJohoMapper.allColumns_DbT5913ChosainJoho"/>
    FROM
    rgdb."DbT5913ChosainJoho"
    )AS dbT5913ChosainJoho
    ON
    dbT5913ChosainJoho."dbT5913ChosainJoho_shichosonCode"=dbT5910NinteichosaItakusakiJoho."dbT5910NinteichosaItakusakiJoho_shichosonCode"
    AND
    dbT5913ChosainJoho."dbT5913ChosainJoho_ninteichosaItakusakiCode"=dbT5910NinteichosaItakusakiJoho."dbT5910NinteichosaItakusakiJoho_ninteichosaItakusakiCode"
</select>

</mapper>
