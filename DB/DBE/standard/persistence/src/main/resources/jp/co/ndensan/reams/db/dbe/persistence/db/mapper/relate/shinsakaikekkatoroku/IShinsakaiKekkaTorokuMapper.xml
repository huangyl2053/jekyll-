<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- どのマッパーインターフェースと対応するかを指定する -->
<!-- @reamsid_L DBE-0170-010 wangkun -->

<mapper namespace="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.shinsakaikekkatoroku.IShinsakaiKekkaTorokuMapper">
    <select resultOrdered="true" id="getヘッドエリア内容検索" resultMap="resultMap_ShinsakaiKekkaTorokuRelateEntity"
            parameterType="jp.co.ndensan.reams.uz.uza.lang.RString"  fetchSize="500">
        SELECT
            '第' || DbT5501ShinsakaiKaisaiYoteiJoho."shinsakaiKaisaiNo" || '回審査会' AS "shinsakaiKaisaiMei"
            ,DbT5591GogitaiJoho."gogitaiMei" AS "gogitaiMei"
            ,DbT5501ShinsakaiKaisaiYoteiJoho."shinsakaiWariateZumiNinzu"AS "shinsakaiWariateZumiNinzu"
            ,DbT5511ShinsakaiKaisaiKekkaJoho."shinsakaiJisshiNinzu" AS "shinsakaiJisshiNinzu"
            ,DbT5501ShinsakaiKaisaiYoteiJoho."ShinsakaiShinchokuJokyo" AS "ShinsakaiShinchokuJokyo"
            ,DbT5592ShinsakaiKaisaiBashoJoho."shinsakaiKaisaiBashoName" AS "shinsakaiKaisaiBashoName"
            ,DbT5592ShinsakaiKaisaiBashoJoho."shinsakaiKaisaiChikuCode" AS "shinsakaiKaisaiChikuCode"
            ,DbT5511ShinsakaiKaisaiKekkaJoho."shinsakaiKaisaiYMD" AS "shinsakaiKaisaiYMD"
            ,DbT5511ShinsakaiKaisaiKekkaJoho."shinsakaiKaishiTime" AS "shinsakaiKaishiTime"
            ,DbT5511ShinsakaiKaisaiKekkaJoho."shinsakaiShuryoTime" AS "shinsakaiShuryoTime"
            ,DbT5591GogitaiJoho."gogitaiSeishinkaSonzaiFlag" AS "gogitaiSeishinkaSonzaiFlag"
            ,DbT5501ShinsakaiKaisaiYoteiJoho."shinsakaiKaisaiYoteiYMD" AS "shinsakaiKaisaiYoteiYMD"
        FROM
            rgdb."DbT5501ShinsakaiKaisaiYoteiJoho"  DbT5501ShinsakaiKaisaiYoteiJoho
        LEFT JOIN
            rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" DbT5511ShinsakaiKaisaiKekkaJoho
             ON DbT5511ShinsakaiKaisaiKekkaJoho."shinsakaiKaisaiNo" = DbT5501ShinsakaiKaisaiYoteiJoho."shinsakaiKaisaiNo"
        INNER JOIN
            rgdb."DbT5591GogitaiJoho" DbT5591GogitaiJoho
             ON DbT5591GogitaiJoho."gogitaiNo" = DbT5501ShinsakaiKaisaiYoteiJoho."gogitaiNo"
            AND DbT5591GogitaiJoho."gogitaiYukoKikanKaishiYMD" <![CDATA[<=]]> DbT5501ShinsakaiKaisaiYoteiJoho."shinsakaiKaisaiYoteiYMD"
            AND DbT5591GogitaiJoho."gogitaiYukoKikanShuryoYMD" <![CDATA[>=]]> DbT5501ShinsakaiKaisaiYoteiJoho."shinsakaiKaisaiYoteiYMD"
        LEFT JOIN
            rgdb."DbT5592ShinsakaiKaisaiBashoJoho" DbT5592ShinsakaiKaisaiBashoJoho
             ON DbT5592ShinsakaiKaisaiBashoJoho."shinsakaiKaisaiBashoCode" = DbT5511ShinsakaiKaisaiKekkaJoho."shinsakaiKaisaiBashoCode"
        WHERE
            TRIM(DbT5501ShinsakaiKaisaiYoteiJoho."shinsakaiKaisaiNo") = TRIM(#{開催番号})
    </select>

    <resultMap id="resultMap_ShinsakaiKekkaTorokuRelateEntity" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.shinsakaikekkatoroku.ShinsakaiKekkaTorokuRelateEntity" autoMapping="true">
        <result property="開催番号" column="shinsakaiKaisaiMei" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="合議体名称" column="gogitaiMei" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="介護認定審査会割当済み人数" column="shinsakaiWariateZumiNinzu"/>
        <result property="介護認定審査会実施人数" column="shinsakaiJisshiNinzu"/>
        <result property="進捗状況" column="ShinsakaiShinchokuJokyo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="介護認定審査会開催場所名称" column="shinsakaiKaisaiBashoName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="地区コード" column="shinsakaiKaisaiChikuCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="開催日" column="shinsakaiKaisaiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="開催開始時間" column="shinsakaiKaishiTime" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="開催終了時間" column="shinsakaiShuryoTime" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="合議体精神科医存在フラグ" column="gogitaiSeishinkaSonzaiFlag"/>
        <result property="開催予定日" column="shinsakaiKaisaiYoteiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
    </resultMap>

    <select resultOrdered="true" id="get審査会委員一覧検索" resultMap="resultMap_ShinsakaiKekkaTorokuIChiRanRelateEntity"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.shinsakaikekkatoroku.ShinsakaiKekkaTorokuParameter"   fetchSize="500">
        SELECT
        DbT5502ShinsakaiWariateJoho."shinsakaiOrder"  AS "shinsakaiOrder"
        ,DbT5101NinteiShinseiJoho."shoKisaiHokenshaNo" AS "shoKisaiHokenshaNo"
        ,DbT7051KoseiShichosonMaster."shichosonMeisho" AS "shichosonMeisho"
        ,DbT5101NinteiShinseiJoho."hihokenshaNo" AS "hihokenshaNo"
        ,DbT5101NinteiShinseiJoho."hihokenshaName" AS "hihokenshaName"
        ,DbT5101NinteiShinseiJoho."hihokenshaKubunCode" AS "hihokenshaKubunCode"
        ,DbT5101NinteiShinseiJoho."ninteiShinseiShinseijiKubunCode" AS "ninteiShinseiShinseijiKubunCode"
        ,DbT5101NinteiShinseiJoho."ninteiShinseiHoreiKubunCode" AS "ninteiShinseiHoreiKubunCode"
        ,DbT5101NinteiShinseiJoho."ninteiShinseiYMD" AS "ninteiShinseiYMD"
        ,DbT5101NinteiShinseiJoho."torisageKubunCode" AS "torisageKubunCode"
        ,DbT5101NinteiShinseiJoho."seinengappiYMD" AS "seinengappiYMD"
        ,DbT5101NinteiShinseiJoho."zenkaiYukoKikanEnd" AS "zenkaiYukoKikanEnd"
        ,TB."ichijiHanteiKekkaCode"  AS "zenichijiHanteiKekkaCode"
        ,TB."nijiHanteiYokaigoJotaiKubunCode" AS "zenkaiNijiHanteiYokaigoJotaiKubunCode"
        ,DbT5116IchijiHanteiKekkaJoho."ichijiHanteiKekkaCode" AS "ichijiHanteiKekkaCode"
        ,DbT5102NinteiKekkaJoho."nijiHanteiYokaigoJotaiKubunCode"  AS "nijiHanteiYokaigoJotaiKubunCode"
        ,DbT5502ShinsakaiWariateJoho."hanteiKekkaCode"  AS "hanteiKekkaCode"
        ,DbT5102NinteiKekkaJoho."nijiHanteiYMD"  AS "nijiHanteiYMD"
        ,DbT5101NinteiShinseiJoho."nigoTokuteiShippeiCode" AS "nigoTokuteiShippeiCode"
        ,DbT5102NinteiKekkaJoho."yokaigoJotaizoReiCode"  AS "yokaigoJotaizoReiCode"
        ,DbT5102NinteiKekkaJoho."nijiHanteiNinteiYukoKaishiYMD"  AS "nijiHanteiNinteiYukoKaishiYMD"
        ,DbT5102NinteiKekkaJoho."nijiHanteiNinteiYukoShuryoYMD"  AS "nijiHanteiNinteiYukoShuryoYMD"
        ,DbT5102NinteiKekkaJoho."nijiHanteiNinteiYukoKikan"  AS "nijiHanteiNinteiYukoKikan"
        ,DbT5102NinteiKekkaJoho."shinsakaiMemo"  AS "shinsakaiMemo"
        ,DbT5102NinteiKekkaJoho."shinsakaiIken"  AS "shinsakaiIken"
        ,DbT5102NinteiKekkaJoho."ichijiHanteiKekkaHenkoRiyu"  AS "ichijiHanteiKekkaHenkoRiyu"
        ,DbT5102NinteiKekkaJoho."ninteishinsakaiIkenShurui"  AS "ninteishinsakaiIkenShurui"
        ,DbT5101NinteiShinseiJoho."shinseishoKanriNo"  AS "shinseishoKanriNo"
        ,DbT5101NinteiShinseiJoho."koroshoIfShikibetsuCode" AS "koroshoIfShikibetsuCode"
        FROM
        rgdb."DbT5502ShinsakaiWariateJoho" DbT5502ShinsakaiWariateJoho
        INNER JOIN
        rgdb."DbT5101NinteiShinseiJoho" DbT5101NinteiShinseiJoho
        ON
        DbT5101NinteiShinseiJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        AND
        DbT5101NinteiShinseiJoho."shoriJotaiKubun" IN (#{処理状態区分_通常}, #{処理状態区分_延期})
        AND
        DbT5101NinteiShinseiJoho."logicalDeletedFlag" = false
        INNER JOIN
        rgdb."DbT5105NinteiKanryoJoho"  DbT5105NinteiKanryoJoho
        ON
        DbT5105NinteiKanryoJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        AND DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" IS NOT NULL
        AND DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" IS NOT NULL
        AND DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" IS NOT NULL
        AND DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" IS NOT NULL
        AND DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" IS NOT NULL
        INNER JOIN
        rgdb."DbT7051KoseiShichosonMaster" DbT7051KoseiShichosonMaster
        ON
        DbT7051KoseiShichosonMaster."shoKisaiHokenshaNo" = DbT5101NinteiShinseiJoho."shoKisaiHokenshaNo"
        INNER JOIN
        rgdb."DbT5116IchijiHanteiKekkaJoho" DbT5116IchijiHanteiKekkaJoho
        ON
        DbT5116IchijiHanteiKekkaJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        LEFT JOIN
        rgdb."DbT5102NinteiKekkaJoho" DbT5102NinteiKekkaJoho
        ON
        DbT5102NinteiKekkaJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        LEFT JOIN
        ( SELECT
        DbT5116."ichijiHanteiKekkaCode" AS "ichijiHanteiKekkaCode"
        ,DbT5502."shinseishoKanriNo" AS "shinseishoKanriNo"
        ,DbT5102NinteiKekkaJohoZenkai."nijiHanteiYokaigoJotaiKubunCode"
        FROM
        rgdb."DbT5502ShinsakaiWariateJoho"  DbT5502
        INNER
        JOIN rgdb."DbT5121ShinseiRirekiJoho" DbT5121
        ON
        DbT5121."shinseishoKanriNo" = DbT5502."shinseishoKanriNo"
        LEFT JOIN
        rgdb."DbT5116IchijiHanteiKekkaJoho" DbT5116
        ON
        DbT5116."shinseishoKanriNo" = DbT5121."zenkaiShinseishoKanriNo"
        LEFT JOIN
        rgdb."DbT5102NinteiKekkaJoho" DbT5102NinteiKekkaJohoZenkai
        ON
        DbT5102NinteiKekkaJohoZenkai."shinseishoKanriNo" = DbT5121."zenkaiShinseishoKanriNo"
        WHERE
        TRIM(DbT5502."shinsakaiKaisaiNo") = TRIM(#{開催番号})
        ) AS  TB
        ON
        TB."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        WHERE
        TRIM(DbT5502ShinsakaiWariateJoho."shinsakaiKaisaiNo") = TRIM(#{開催番号})
        ORDER BY
        DbT5502ShinsakaiWariateJoho."shinsakaiOrder"
    </select>

    <resultMap id="resultMap_ShinsakaiKekkaTorokuIChiRanRelateEntity" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.shinsakaikekkatoroku.ShinsakaiKekkaTorokuIChiRanRelateEntity" autoMapping="true">
        <result property="介護認定審査会審査順" column="shinsakaiOrder"/>
        <result property="証記載保険者番号" column="shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="市町村名称" column="shichosonMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="被保険者番号" column="hihokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="被保険者氏名" column="hihokenshaName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaMeishoTypeHandler"/>
        <result property="被保険者区分コード" column="hihokenshaKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="申請区分_申請時_コード" column="ninteiShinseiShinseijiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="申請区分_法令_コード" column="ninteiShinseiHoreiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="認定申請年月日" column="ninteiShinseiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="取下区分コード" column="torisageKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="生年月日" column="seinengappiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="前回認定有効期間_終了" column="zenkaiYukoKikanEnd" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="前回一次判定" column="zenichijiHanteiKekkaCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="要介護認定一次判定結果コード" column="ichijiHanteiKekkaCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="二次判定要介護状態区分コード" column="nijiHanteiYokaigoJotaiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="前回二次判定要介護状態区分コード" column="zenkaiNijiHanteiYokaigoJotaiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="判定結果コード" column="hanteiKekkaCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="二次判定年月日" column="nijiHanteiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="コード_２号特定疾病コード" column="nigoTokuteiShippeiCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="要介護状態像例コード" column="yokaigoJotaizoReiCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="二次判定認定有効開始年月日" column="nijiHanteiNinteiYukoKaishiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="二次判定認定有効終了年月日" column="nijiHanteiNinteiYukoShuryoYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="二次判定認定有効期間" column="nijiHanteiNinteiYukoKikan"/>
        <result property="審査会メモ" column="shinsakaiMemo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="介護認定審査会意見" column="shinsakaiIken" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="一次判定結果変更理由" column="ichijiHanteiKekkaHenkoRiyu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="審査会意見種類" column="ninteishinsakaiIkenShurui" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="申請書管理番号" column="shinseishoKanriNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShinseishoKanriNoTypeHandler"/>
        <result property="厚労省IF識別コード" column="koroshoIfShikibetsuCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
    </resultMap>

    <select resultOrdered="true" id="get介護認定審査会割当情報"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.shinsakaikekkatoroku.ShinsakaiKekkaTorokuParameter"
            resultMap="ResultMap_DbT5502ShinsakaiWariateJohoEntity" fetchSize="500">
        SELECT
        DbT5502ShinsakaiWariateJoho.*
        FROM
        rgdb."DbT5502ShinsakaiWariateJoho" DbT5502ShinsakaiWariateJoho
        INNER JOIN
        rgdb."DbT5101NinteiShinseiJoho" DbT5101NinteiShinseiJoho
        ON
        DbT5101NinteiShinseiJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        AND
        DbT5101NinteiShinseiJoho."shoriJotaiKubun" IN (#{処理状態区分_通常}, #{処理状態区分_延期})
        AND
        DbT5101NinteiShinseiJoho."logicalDeletedFlag" = false
        INNER JOIN
        rgdb."DbT5105NinteiKanryoJoho"  DbT5105NinteiKanryoJoho
        ON
        DbT5105NinteiKanryoJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        AND (DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<>]]> '')
        INNER JOIN
        rgdb."DbT7051KoseiShichosonMaster" DbT7051KoseiShichosonMaster
        ON
        DbT7051KoseiShichosonMaster."shoKisaiHokenshaNo" = DbT5101NinteiShinseiJoho."shoKisaiHokenshaNo"
        INNER JOIN
        rgdb."DbT5116IchijiHanteiKekkaJoho" DbT5116IchijiHanteiKekkaJoho
        ON
        DbT5116IchijiHanteiKekkaJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        LEFT JOIN
        rgdb."DbT5102NinteiKekkaJoho" DbT5102NinteiKekkaJoho
        ON
        DbT5102NinteiKekkaJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        LEFT JOIN
        ( SELECT
        DbT5116."ichijiHanteiKekkaCode" AS "ichijiHanteiKekkaCode"
        ,DbT5502."shinseishoKanriNo" AS "shinseishoKanriNo"
        FROM
        rgdb."DbT5502ShinsakaiWariateJoho"  DbT5502
        INNER
        JOIN rgdb."DbT5121ShinseiRirekiJoho" DbT5121
        ON
        DbT5121."shinseishoKanriNo" = DbT5502."shinseishoKanriNo"
        LEFT JOIN
        rgdb."DbT5116IchijiHanteiKekkaJoho" DbT5116
        ON
        DbT5116."shinseishoKanriNo" = DbT5121."zenkaiShinseishoKanriNo"
        ) AS  TB
        ON
        TB."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        WHERE
        TRIM(DbT5502ShinsakaiWariateJoho."shinsakaiKaisaiNo") = TRIM(#{開催番号})
        ORDER BY
        DbT5502ShinsakaiWariateJoho."shinsakaiOrder"
    </select>

    <resultMap id="ResultMap_DbT5502ShinsakaiWariateJohoEntity" type="jp.co.ndensan.reams.db.dbz.entity.db.basic.DbT5502ShinsakaiWariateJohoEntity" autoMapping="true">
        <id property="shinsakaiKaisaiNo" column="dbT5502ShinsakaiWariateJoho_shinsakaiKaisaiNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <id property="shinseishoKanriNo" column="dbT5502ShinsakaiWariateJoho_shinseishoKanriNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShinseishoKanriNoTypeHandler"/>
        <result property="insertDantaiCd" column="dbT5502ShinsakaiWariateJoho_insertDantaiCd" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="insertTimestamp" column="dbT5502ShinsakaiWariateJoho_insertTimestamp" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RDateTimeTypeHandler"/>
        <result property="insertReamsLoginId" column="dbT5502ShinsakaiWariateJoho_insertReamsLoginId" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="insertContextId" column="dbT5502ShinsakaiWariateJoho_insertContextId" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.UUIDTypeHandler"/>
        <result property="isDeleted" column="dbT5502ShinsakaiWariateJoho_isDeleted" />
        <result property="updateCount" column="dbT5502ShinsakaiWariateJoho_updateCount" />
        <result property="lastUpdateTimestamp" column="dbT5502ShinsakaiWariateJoho_lastUpdateTimestamp" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RDateTimeTypeHandler"/>
        <result property="lastUpdateReamsLoginId" column="dbT5502ShinsakaiWariateJoho_lastUpdateReamsLoginId" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shinsakaiKaisaiYMD" column="dbT5502ShinsakaiWariateJoho_shinsakaiKaisaiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="shinsakaiWariateYMD" column="dbT5502ShinsakaiWariateJoho_shinsakaiWariateYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="shinsakaiOrder" column="dbT5502ShinsakaiWariateJoho_shinsakaiOrder" />
        <result property="shinsakaiOrderKakuteiFlag" column="dbT5502ShinsakaiWariateJoho_shinsakaiOrderKakuteiFlag" />
        <result property="shinsakaiJidoWaritsukeFlag" column="dbT5502ShinsakaiWariateJoho_shinsakaiJidoWaritsukeFlag" />
        <result property="shinsakaiShiryoSakuseiYMD" column="dbT5502ShinsakaiWariateJoho_shinsakaiShiryoSakuseiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="shinsakaiShiryoSofuYMD" column="dbT5502ShinsakaiWariateJoho_shinsakaiShiryoSofuYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="hanteiKekkaCode" column="dbT5502ShinsakaiWariateJoho_hanteiKekkaCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
    </resultMap>

    <select resultOrdered="true" id="get要介護認定申請情報"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.shinsakaikekkatoroku.ShinsakaiKekkaTorokuParameter"
            resultType="jp.co.ndensan.reams.db.dbz.entity.db.basic.DbT5101NinteiShinseiJohoEntity" fetchSize="500">
        SELECT
        DbT5101NinteiShinseiJoho.*
        FROM
        rgdb."DbT5502ShinsakaiWariateJoho" DbT5502ShinsakaiWariateJoho
        INNER JOIN
        rgdb."DbT5101NinteiShinseiJoho" DbT5101NinteiShinseiJoho
        ON
        DbT5101NinteiShinseiJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        AND
        DbT5101NinteiShinseiJoho."shoriJotaiKubun" IN (#{処理状態区分_通常}, #{処理状態区分_延期})
        AND
        DbT5101NinteiShinseiJoho."logicalDeletedFlag" = false
        INNER JOIN
        rgdb."DbT5105NinteiKanryoJoho"  DbT5105NinteiKanryoJoho
        ON
        DbT5105NinteiKanryoJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        AND (DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<>]]> '')
        INNER JOIN
        rgdb."DbT7051KoseiShichosonMaster" DbT7051KoseiShichosonMaster
        ON
        DbT7051KoseiShichosonMaster."shoKisaiHokenshaNo" = DbT5101NinteiShinseiJoho."shoKisaiHokenshaNo"
        INNER JOIN
        rgdb."DbT5116IchijiHanteiKekkaJoho" DbT5116IchijiHanteiKekkaJoho
        ON
        DbT5116IchijiHanteiKekkaJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        LEFT JOIN
        rgdb."DbT5102NinteiKekkaJoho" DbT5102NinteiKekkaJoho
        ON
        DbT5102NinteiKekkaJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        LEFT JOIN
        ( SELECT
        DbT5116."ichijiHanteiKekkaCode" AS "ichijiHanteiKekkaCode"
        ,DbT5502."shinseishoKanriNo" AS "shinseishoKanriNo"
        FROM
        rgdb."DbT5502ShinsakaiWariateJoho"  DbT5502
        INNER
        JOIN rgdb."DbT5121ShinseiRirekiJoho" DbT5121
        ON
        DbT5121."shinseishoKanriNo" = DbT5502."shinseishoKanriNo"
        LEFT JOIN
        rgdb."DbT5116IchijiHanteiKekkaJoho" DbT5116
        ON
        DbT5116."shinseishoKanriNo" = DbT5121."zenkaiShinseishoKanriNo"
        ) AS  TB
        ON
        TB."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        WHERE
        TRIM(DbT5502ShinsakaiWariateJoho."shinsakaiKaisaiNo") = TRIM(#{開催番号})
        ORDER BY
        DbT5502ShinsakaiWariateJoho."shinsakaiOrder"
    </select>

    <select resultOrdered="true" id="get要介護認定結果情報"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.shinsakaikekkatoroku.ShinsakaiKekkaTorokuParameter"
            resultType="jp.co.ndensan.reams.db.dbz.entity.db.basic.DbT5102NinteiKekkaJohoEntity" fetchSize="500">
        SELECT
        DbT5102NinteiKekkaJoho.*
        FROM
        rgdb."DbT5502ShinsakaiWariateJoho" DbT5502ShinsakaiWariateJoho
        INNER JOIN
        rgdb."DbT5101NinteiShinseiJoho" DbT5101NinteiShinseiJoho
        ON
        DbT5101NinteiShinseiJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        AND
        DbT5101NinteiShinseiJoho."shoriJotaiKubun" IN (#{処理状態区分_通常}, #{処理状態区分_延期})
        AND
        DbT5101NinteiShinseiJoho."logicalDeletedFlag" = false
        INNER JOIN
        rgdb."DbT5105NinteiKanryoJoho"  DbT5105NinteiKanryoJoho
        ON
        DbT5105NinteiKanryoJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        AND (DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<>]]> '')
        INNER JOIN
        rgdb."DbT7051KoseiShichosonMaster" DbT7051KoseiShichosonMaster
        ON
        DbT7051KoseiShichosonMaster."shoKisaiHokenshaNo" = DbT5101NinteiShinseiJoho."shoKisaiHokenshaNo"
        INNER JOIN
        rgdb."DbT5116IchijiHanteiKekkaJoho" DbT5116IchijiHanteiKekkaJoho
        ON
        DbT5116IchijiHanteiKekkaJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        LEFT JOIN
        rgdb."DbT5102NinteiKekkaJoho" DbT5102NinteiKekkaJoho
        ON
        DbT5102NinteiKekkaJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        LEFT JOIN
        ( SELECT
        DbT5116."ichijiHanteiKekkaCode" AS "ichijiHanteiKekkaCode"
        ,DbT5502."shinseishoKanriNo" AS "shinseishoKanriNo"
        FROM
        rgdb."DbT5502ShinsakaiWariateJoho"  DbT5502
        INNER
        JOIN rgdb."DbT5121ShinseiRirekiJoho" DbT5121
        ON
        DbT5121."shinseishoKanriNo" = DbT5502."shinseishoKanriNo"
        LEFT JOIN
        rgdb."DbT5116IchijiHanteiKekkaJoho" DbT5116
        ON
        DbT5116."shinseishoKanriNo" = DbT5121."zenkaiShinseishoKanriNo"
        ) AS  TB
        ON
        TB."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        WHERE
        TRIM(DbT5502ShinsakaiWariateJoho."shinsakaiKaisaiNo") = TRIM(#{開催番号})
        ORDER BY
        DbT5502ShinsakaiWariateJoho."shinsakaiOrder"
    </select>
    <resultMap id="resultMap_NiJiHanTeiRelate" type="jp.co.ndensan.reams.db.dbz.entity.db.relate.yokaigoninteitasklist.ShinSaKaiToRoKuRelate" autoMapping="true">
        <association property="要介護認定完了情報EntityLsit" resultMap="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5105NinteiKanryoJohoMapper.ResultMap_DbT5105NinteiKanryoJohoEntity"/>
    </resultMap>

    <select resultOrdered="true" id="get前二次判定" resultMap="resultMap_NiJiHanTeiRelate"
            parameterType="jp.co.ndensan.reams.db.dbz.definition.mybatisprm.yokaigoninteitasklist.YokaigoNinteiTaskListParameter" fetchSize="500">
        SELECT
           <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5105NinteiKanryoJohoMapper.allColumns_DbT5105NinteiKanryoJoho" />
        FROM
            rgdb."DbT5101NinteiShinseiJoho" DbT5101
            INNER  JOIN  rgdb."DbT7051KoseiShichosonMaster" DbT7051
                ON  DbT7051."shoKisaiHokenshaNo" = DbT5101."shoKisaiHokenshaNo"
            INNER  JOIN  rgdb."DbT5105NinteiKanryoJoho"
                ON  "DbT5105NinteiKanryoJoho"."shinseishoKanriNo" = DbT5101."shinseishoKanriNo"
            INNER  JOIN  rgdb."DbT5102NinteiKekkaJoho" DbT5102
                ON  DbT5102."shinseishoKanriNo" = DbT5101."shinseishoKanriNo"
            INNER  JOIN  rgdb."DbT5502ShinsakaiWariateJoho" DbT5502
                ON  DbT5502."shinseishoKanriNo" = DbT5101."shinseishoKanriNo"
            INNER  JOIN  rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" DbT5501
                ON  DbT5501."shinsakaiKaisaiNo" = DbT5502."shinsakaiKaisaiNo"
            INNER  JOIN  rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" DbT5511
                ON  DbT5511."shinsakaiKaisaiNo" = DbT5502."shinsakaiKaisaiNo"
        WHERE
                ("DbT5105NinteiKanryoJoho"."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
            AND "DbT5105NinteiKanryoJoho"."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<>]]> '')
            AND ("DbT5105NinteiKanryoJoho"."ninteichosaIraiKanryoYMD" IS NOT NULL
            AND "DbT5105NinteiKanryoJoho"."ninteichosaIraiKanryoYMD" <![CDATA[<>]]> '')
            AND ("DbT5105NinteiKanryoJoho"."ninteichosaKanryoYMD" IS NOT NULL
            AND "DbT5105NinteiKanryoJoho"."ninteichosaKanryoYMD" <![CDATA[<>]]> '')
            AND ("DbT5105NinteiKanryoJoho"."ikenshoSakuseiIraiKanryoYMD" IS NOT NULL
            AND "DbT5105NinteiKanryoJoho"."ikenshoSakuseiIraiKanryoYMD" <![CDATA[<>]]> '')
            AND ("DbT5105NinteiKanryoJoho"."ikenshoTorokuKanryoYMD" IS NOT NULL
            AND "DbT5105NinteiKanryoJoho"."ikenshoTorokuKanryoYMD" <![CDATA[<>]]> '')
            AND ("DbT5105NinteiKanryoJoho"."ichijiHanteiKanryoYMD" IS NOT NULL
            AND "DbT5105NinteiKanryoJoho"."ichijiHanteiKanryoYMD" <![CDATA[<>]]> '')
            AND ("DbT5105NinteiKanryoJoho"."ninteiShinsakaiWariateKanryoYMD" IS NOT NULL
            AND "DbT5105NinteiKanryoJoho"."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<>]]> '')
            AND ("DbT5105NinteiKanryoJoho"."ninteiShinsakaiKanryoYMD" IS NULL
            OR  "DbT5105NinteiKanryoJoho"."ninteiShinsakaiKanryoYMD" = '')
            AND ("DbT5105NinteiKanryoJoho"."maskingKanryoYMD" IS NOT NULL
            AND "DbT5105NinteiKanryoJoho"."maskingKanryoYMD" <![CDATA[<>]]> '')
            AND ("DbT5105NinteiKanryoJoho"."centerSoshinYMD" IS NULL
            OR  "DbT5105NinteiKanryoJoho"."centerSoshinYMD" = '')
            AND DbT5101."shoriJotaiKubun" in (#{通常},#{延期})
            AND DbT5101."logicalDeletedFlag" = FALSE
        <if test="状態区分 == 1" >
            AND (DbT5102."nijiHanteiKekkaInputYMD" is NULL
            OR  DbT5102."nijiHanteiKekkaInputYMD" = '')
        </if>
        <if test="状態区分 == 2" >
            AND (DbT5102."nijiHanteiKekkaInputYMD" is NOT NULL
            AND  DbT5102."nijiHanteiKekkaInputYMD" <![CDATA[<>]]> '')
        </if>
        ORDER BY  DbT5101."hihokenshaKana",
                  DbT5101."ninteiShinseiYMD",
                  DbT5101."shoKisaiHokenshaNo"
    </select>
    <select resultOrdered="true" id="get二次判定" resultMap="resultMap_NiJiHanTeiRelateEntity"
            parameterType="jp.co.ndensan.reams.db.dbz.definition.mybatisprm.yokaigoninteitasklist.YokaigoNinteiTaskListParameter" fetchSize="500">
        SELECT
            DbT5101."shinseishoKanriNo",
            DbT5101."shoKisaiHokenshaNo",
            DbT5101."koroshoIfShikibetsuCode",
            DbT5101."hihokenshaNo",
            DbT5101."hihokenshaName",
            DbT5101."ninteiShinseiShinseijiKubunCode",
            DbT5101."ninteiShinseiHoreiKubunCode",
            DbT5101."ninteiShinseiYMD",
            DbT5101."shoriJotaiKubun",
            DbT5101."saiChosaIraiKaisu",
            DbT5101."saiSakuseiIraiKaisu",
            DbT5101."shinsakaiYusenWaritsukeKubunCode",
            DbT7051."shichosonMeisho",
            DbT5105."maskingKanryoYMD",
            DbT5105."ninteiShinsakaiKanryoYMD",
            DbT5105."ninteiShinsakaiWariateKanryoYMD",
            DbT5102."nijiHanteiKekkaInputYMD",
            DbT5102."nijiHanteiKekkaInputHoho",
            DbT5102."nijiHanteiYokaigoJotaiKubunCode",
            DbT5102."nijiHanteiNinteiYukoKikan",
            DbT5102."shinsakaiKaisaiNo" AS shinsakaiKaisaiNo_temp,
            DbT5102."nijiHanteiYMD",
            <choose>
                <when test='"1".equals(状態区分.toString()) or "2".equals(状態区分.toString())'>
                    DbT5501."shinsakaiKaisaiYoteiYMD",
                    DbT5501."shinsakaiKaishiYoteiTime",
                    DbT5501."shinsakaiKaisaiNo",
                    DbT5501."gogitaiNo",
                    DbT5511."shinsakaiKaisaiYMD"
                </when>
                <otherwise>
                    CASE DbT5102."shinseishoKanriNo" WHEN NULL THEN DbT5501a."shinsakaiKaisaiYoteiYMD"
                         ELSE DbT5501b."shinsakaiKaisaiYoteiYMD" END AS "shinsakaiKaisaiYoteiYMD",
                    CASE DbT5102."shinseishoKanriNo" WHEN NULL THEN DbT5501a."shinsakaiKaishiYoteiTime"
                         ELSE DbT5501b."shinsakaiKaishiYoteiTime" END AS "shinsakaiKaishiYoteiTime",
                    CASE DbT5102."shinseishoKanriNo" WHEN NULL THEN DbT5501a."shinsakaiKaisaiNo"
                         ELSE DbT5501b."shinsakaiKaisaiNo" END AS "shinsakaiKaisaiNo",
                    CASE DbT5102."shinseishoKanriNo" WHEN NULL THEN DbT5501a."gogitaiNo"
                         ELSE DbT5501b."gogitaiNo" END AS "gogitaiNo",
                    CASE DbT5102."shinseishoKanriNo" WHEN NULL THEN DbT5511a."shinsakaiKaisaiYMD"
                         ELSE DbT5511b."shinsakaiKaisaiYMD" END AS "shinsakaiKaisaiYMD"
                </otherwise>
            </choose>
        FROM
            rgdb."DbT5101NinteiShinseiJoho" DbT5101
            INNER  JOIN  rgdb."DbT7051KoseiShichosonMaster" DbT7051
                ON  DbT7051."shoKisaiHokenshaNo" = DbT5101."shoKisaiHokenshaNo"
            INNER  JOIN  rgdb."DbT5105NinteiKanryoJoho" DbT5105
                ON  DbT5105."shinseishoKanriNo" = DbT5101."shinseishoKanriNo"
            <choose>
                    <when test='"1".equals(状態区分.toString())'>
                        LEFT JOIN rgdb."DbT5102NinteiKekkaJoho" DbT5102
                            ON  DbT5102."shinseishoKanriNo" = DbT5101."shinseishoKanriNo"
                        INNER JOIN rgdb."DbT5502ShinsakaiWariateJoho" DbT5502
                            ON  DbT5502."shinseishoKanriNo" = DbT5101."shinseishoKanriNo"
                        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" DbT5501
                            ON  DbT5501."shinsakaiKaisaiNo" = DbT5502."shinsakaiKaisaiNo"
                        INNER JOIN rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" DbT5511
                            ON  DbT5511."shinsakaiKaisaiNo" = DbT5502."shinsakaiKaisaiNo"
                    </when>
                    <when test='"2".equals(状態区分.toString())'>
                        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" DbT5102
                          ON DbT5102."shinseishoKanriNo" = DbT5101."shinseishoKanriNo"
                        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" DbT5501
                          ON DbT5501."shinsakaiKaisaiNo" = DbT5102."shinsakaiKaisaiNo"
                        INNER JOIN rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" DbT5511
                          ON DbT5511."shinsakaiKaisaiNo" = DbT5102."shinsakaiKaisaiNo"
                    </when>
                    <otherwise>
                        LEFT JOIN rgdb."DbT5102NinteiKekkaJoho" DbT5102
                          ON DbT5102."shinseishoKanriNo" = DbT5101."shinseishoKanriNo"
                        INNER JOIN rgdb."DbT5502ShinsakaiWariateJoho" DbT5502
                          ON DbT5502."shinseishoKanriNo" = DbT5101."shinseishoKanriNo"
                        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" DbT5501a
                          ON DbT5501a."shinsakaiKaisaiNo" = DbT5502."shinsakaiKaisaiNo"
                        INNER JOIN rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" DbT5511a
                          ON DbT5511a."shinsakaiKaisaiNo" = DbT5502."shinsakaiKaisaiNo"
                        LEFT  JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" DbT5501b
                          ON DbT5501b."shinsakaiKaisaiNo" = DbT5102."shinsakaiKaisaiNo"
                        LEFT  JOIN rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" DbT5511b
                          ON DbT5511b."shinsakaiKaisaiNo" = DbT5102."shinsakaiKaisaiNo"
                    </otherwise>
            </choose>
        WHERE
                (DbT5105."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
            AND DbT5105."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<>]]> '')
            AND (DbT5105."ninteichosaIraiKanryoYMD" IS NOT NULL
            AND DbT5105."ninteichosaIraiKanryoYMD" <![CDATA[<>]]> '')
            AND (DbT5105."ninteichosaKanryoYMD" IS NOT NULL
            AND DbT5105."ninteichosaKanryoYMD" <![CDATA[<>]]> '')
            AND (DbT5105."ikenshoSakuseiIraiKanryoYMD" IS NOT NULL
            AND DbT5105."ikenshoSakuseiIraiKanryoYMD" <![CDATA[<>]]> '')
            AND (DbT5105."ikenshoTorokuKanryoYMD" IS NOT NULL
            AND DbT5105."ikenshoTorokuKanryoYMD" <![CDATA[<>]]> '')
            AND (DbT5105."ichijiHanteiKanryoYMD" IS NOT NULL
            AND DbT5105."ichijiHanteiKanryoYMD" <![CDATA[<>]]> '')
            AND (DbT5105."ninteiShinsakaiWariateKanryoYMD" IS NOT NULL
            AND DbT5105."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<>]]> '')
            AND (DbT5105."ninteiShinsakaiKanryoYMD" IS NULL
            OR  DbT5105."ninteiShinsakaiKanryoYMD" = '')
            AND (DbT5105."maskingKanryoYMD" IS NOT NULL
            AND DbT5105."maskingKanryoYMD" <![CDATA[<>]]> '')
            AND (DbT5105."centerSoshinYMD" IS NULL
            OR  DbT5105."centerSoshinYMD" = '')
            AND DbT5101."shoriJotaiKubun" in (#{通常},#{延期})
            AND DbT5101."logicalDeletedFlag" = FALSE
            <choose>
                <when test='"1".equals(状態区分.toString())'>
                    AND (
                        DbT5102."nijiHanteiKekkaInputYMD" is NULL
                     OR DbT5102."nijiHanteiKekkaInputYMD" = ''
                    )
                    AND (
                        DbT5502."hanteiKekkaCode" IS NULL
                     OR DbT5502."hanteiKekkaCode" = ''
                    )
                </when>
                <when test='"2".equals(状態区分.toString())'>
                    AND (DbT5102."nijiHanteiKekkaInputYMD" is NOT NULL
                    AND  DbT5102."nijiHanteiKekkaInputYMD" <![CDATA[<>]]> '')
                </when>
                <otherwise>
                    AND (
                           DbT5502."hanteiKekkaCode" IS NULL
                        OR DbT5502."hanteiKekkaCode" = ''
                        OR (
                             DbT5102."nijiHanteiKekkaInputYMD" IS NOT NULL
                         AND DbT5102."nijiHanteiKekkaInputYMD" <![CDATA[<>]]> ''
                        )
                    )
                </otherwise>
            </choose>
        ORDER BY  DbT5101."hihokenshaKana",
                  DbT5101."ninteiShinseiYMD",
                  DbT5101."shoKisaiHokenshaNo"
    </select>

    <resultMap id="resultMap_NiJiHanTeiRelateEntity" type="jp.co.ndensan.reams.db.dbz.entity.db.relate.yokaigoninteitasklist.NiJiHanTeiRelateEntity" autoMapping="true">
        <result property="shinseishoKanriNo"  column="shinseishoKanriNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShinseishoKanriNoTypeHandler"/>
        <result property="shoKisaiHokenshaNo"  column="shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShoKisaiHokenshaNoTypeHandler"/>
        <result property="koroshoIfShikibetsuCode"  column="koroshoIfShikibetsuCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="hihokenshaNo"  column="hihokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="hihokenshaName"  column="hihokenshaName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaMeishoTypeHandler"/>
        <result property="shinseijiKubunCode"  column="ninteiShinseiShinseijiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="ninteiShinseiHoreiKubunCode"  column="ninteiShinseiHoreiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="ninteiShinseiYMD"  column="ninteiShinseiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="shoriJotaiKubun"  column="shoriJotaiKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="saiChosaIraiKaisu"  column="saiChosaIraiKaisu" />
        <result property="saiSakuseiIraiKaisu"  column="saiSakuseiIraiKaisu" />
        <result property="yusenWaritsukeKubunCode"  column="shinsakaiYusenWaritsukeKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="shichosonMeisho"  column="shichosonMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="maskingKanryoYMD"  column="maskingKanryoYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="ninteiShinsakaiKanryoYMD"  column="ninteiShinsakaiKanryoYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="kaiWariateKanryoYMD"  column="ninteiShinsakaiWariateKanryoYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="shinsakaiKaisaiYoteiYMD"  column="shinsakaiKaisaiYoteiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="shinsakaiKaishiYoteiTime"  column="shinsakaiKaishiYoteiTime" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shinsakaiKaisaiNo"  column="shinsakaiKaisaiNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="gogitaiNo"  column="gogitaiNo" />
        <result property="nijiHanteiYMD"  column="nijiHanteiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="nijiHanteiKekkaInputYMD"  column="nijiHanteiKekkaInputYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="nijiHanteiKekkaInputHoho"  column="nijiHanteiKekkaInputHoho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="yokaigoJotaiKubunCode"  column="nijiHanteiYokaigoJotaiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="nijiHanteiNinteiYukoKikan"  column="nijiHanteiNinteiYukoKikan" />
        <result property="shinsakaiKaisaiNo_temp"  column="shinsakaiKaisaiNo_temp" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shinsakaiKaisaiYMD"  column="shinsakaiKaisaiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
    </resultMap>

    <select resultOrdered="true" id="get要介護認定完了情報"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.shinsakaikekkatoroku.ShinsakaiKekkaTorokuParameter"
            resultType="jp.co.ndensan.reams.db.dbz.entity.db.basic.DbT5105NinteiKanryoJohoEntity" fetchSize="500">
        SELECT
        DbT5105NinteiKanryoJoho.*
        FROM
        rgdb."DbT5502ShinsakaiWariateJoho" DbT5502ShinsakaiWariateJoho
        INNER JOIN
        rgdb."DbT5101NinteiShinseiJoho" DbT5101NinteiShinseiJoho
        ON
        DbT5101NinteiShinseiJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        AND
        DbT5101NinteiShinseiJoho."shoriJotaiKubun" IN (#{処理状態区分_通常}, #{処理状態区分_延期})
        AND
        DbT5101NinteiShinseiJoho."logicalDeletedFlag" = false
        INNER JOIN
        rgdb."DbT5105NinteiKanryoJoho"  DbT5105NinteiKanryoJoho
        ON
        DbT5105NinteiKanryoJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        AND (DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."maskingKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."maskingKanryoYMD" <![CDATA[<>]]> '')
        AND (DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" IS NOT NULL AND DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<>]]> '')
        INNER JOIN
        rgdb."DbT7051KoseiShichosonMaster" DbT7051KoseiShichosonMaster
        ON
        DbT7051KoseiShichosonMaster."shoKisaiHokenshaNo" = DbT5101NinteiShinseiJoho."shoKisaiHokenshaNo"
        INNER JOIN
        rgdb."DbT5116IchijiHanteiKekkaJoho" DbT5116IchijiHanteiKekkaJoho
        ON
        DbT5116IchijiHanteiKekkaJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        LEFT JOIN
        rgdb."DbT5102NinteiKekkaJoho" DbT5102NinteiKekkaJoho
        ON
        DbT5102NinteiKekkaJoho."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        LEFT JOIN
        ( SELECT
        DbT5116."ichijiHanteiKekkaCode" AS "ichijiHanteiKekkaCode"
        ,DbT5502."shinseishoKanriNo" AS "shinseishoKanriNo"
        FROM
        rgdb."DbT5502ShinsakaiWariateJoho"  DbT5502
        INNER
        JOIN rgdb."DbT5121ShinseiRirekiJoho" DbT5121
        ON
        DbT5121."shinseishoKanriNo" = DbT5502."shinseishoKanriNo"
        LEFT JOIN
        rgdb."DbT5116IchijiHanteiKekkaJoho" DbT5116
        ON
        DbT5116."shinseishoKanriNo" = DbT5121."zenkaiShinseishoKanriNo"
        ) AS  TB
        ON
        TB."shinseishoKanriNo" = DbT5502ShinsakaiWariateJoho."shinseishoKanriNo"
        WHERE
        TRIM(DbT5502ShinsakaiWariateJoho."shinsakaiKaisaiNo") = TRIM(#{開催番号})
        ORDER BY
        DbT5502ShinsakaiWariateJoho."shinsakaiOrder"
    </select>

    <select resultOrdered="true" id="get連番" resultType="int" parameterType="jp.co.ndensan.reams.uz.uza.lang.RString" fetchSize="500">
        SELECT
        COALESCE(MAX(DbT5512ShinsakaiOnseiJoho."renban"), 0) AS "renban"
        FROM
        rgdb."DbT5512ShinsakaiOnseiJoho" DbT5512ShinsakaiOnseiJoho
        WHERE
        DbT5512ShinsakaiOnseiJoho."shinsakaiKaisaiNo" = TRIM(#{開催番号})
    </select>

    <select id="get削除候補s" parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.shinsakaikekkatoroku.ShinsakaiKekkaTorokuParameter" fetchSize="500"
            resultMap="resultMap_get削除候補s" resultOrdered="true">
        WITH targets AS (
            SELECT
                DbT5502."shinseishoKanriNo" AS "shinseishoKanriNo"
            FROM
                rgdb."DbT5502ShinsakaiWariateJoho" DbT5502
            WHERE
                DbT5502."shinsakaiKaisaiNo" = TRIM(#{開催番号})
        )
        SELECT
            targets."shinseishoKanriNo" AS "shinseishoKanriNo",
            DbT5101."shoKisaiHokenshaNo" AS "shoKisaiHokenshaNo",
            DbT5101."hihokenshaNo" AS "hihokenshaNo",
            DbT5115."imageSharedFileId" AS "sharedFileID",
            <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5201NinteichosaIraiJohoMapper.allColumns_DbT5201NinteichosaIraiJoho" />,
            <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5301ShujiiIkenshoIraiJohoMapper.allColumns_DbT5301ShujiiIkenshoIraiJoho" />,
            <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5116IchijiHanteiKekkaJohoMapper.allColumns_DbT5116IchijiHanteiKekkaJoho" />
        FROM
            targets AS targets
        INNER JOIN
            rgdb."DbT5101NinteiShinseiJoho" AS DbT5101
            ON DbT5101."shinseishoKanriNo" = targets."shinseishoKanriNo"
        LEFT JOIN
            rgdb."DbT5201NinteichosaIraiJoho" AS "DbT5201NinteichosaIraiJoho"
            ON "DbT5201NinteichosaIraiJoho"."shinseishoKanriNo" = targets."shinseishoKanriNo"
            AND NOT EXISTS (
                SELECT
                    *
                FROM
                    rgdb."DbT5201NinteichosaIraiJoho"
                WHERE
                     "shinseishoKanriNo" = "DbT5201NinteichosaIraiJoho"."shinseishoKanriNo"
                 AND "ninteichosaIraiRirekiNo" <![CDATA[<]]> "DbT5201NinteichosaIraiJoho"."ninteichosaIraiRirekiNo"
            )
        LEFT JOIN
            rgdb."DbT5301ShujiiIkenshoIraiJoho" AS "DbT5301ShujiiIkenshoIraiJoho"
            ON "DbT5301ShujiiIkenshoIraiJoho"."shinseishoKanriNo" = targets."shinseishoKanriNo"
            AND NOT EXISTS (
                SELECT
                    *
                FROM
                    rgdb."DbT5301ShujiiIkenshoIraiJoho"
                WHERE
                     "shinseishoKanriNo" = "DbT5301ShujiiIkenshoIraiJoho"."shinseishoKanriNo"
                 AND "ikenshoIraiRirekiNo" <![CDATA[<]]> "DbT5301ShujiiIkenshoIraiJoho"."ikenshoIraiRirekiNo"
            )
        LEFT JOIN
            rgdb."DbT5116IchijiHanteiKekkaJoho" AS "DbT5116IchijiHanteiKekkaJoho"
            ON "DbT5116IchijiHanteiKekkaJoho"."shinseishoKanriNo" = targets."shinseishoKanriNo"
        LEFT JOIN
            rgdb."DbT5115Image" AS DbT5115
            ON DbT5115."shinseishoKanriNo" = targets."shinseishoKanriNo"
    </select>

    <resultMap id="resultMap_get削除候補s" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.shinsakaikekkatoroku.ShinsakaiKekkaTorokuDeletionCandidateEntity">
        <id property="shinseishoKanriNo" column="shinseishoKanriNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShinseishoKanriNoTypeHandler"/>
        <result property="shoKaisaiHokenshaNo" column="shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="hihokenshaNo" column="hihokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="sharedFileID" column="sharedFileID" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RDateTimeTypeHandler"/>
        <collection property="chosaIrai" resultMap="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5201NinteichosaIraiJohoMapper.ResultMap_DbT5201NinteichosaIraiJohoEntity"/>
        <collection property="ikenshoIrai" resultMap="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5301ShujiiIkenshoIraiJohoMapper.ResultMap_DbT5301ShujiiIkenshoIraiJohoEntity"/>
        <collection property="ichijiHantei" resultMap="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5116IchijiHanteiKekkaJohoMapper.ResultMap_DbT5116IchijiHanteiKekkaJohoEntity"/>
    </resultMap>
</mapper>
