<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 要介護認定申請情報のマッピング用XMLです。 -->
<!-- @reamsid_L DBE-3000-230 sunhaidi -->
<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.ikenshoprint.IChosaIraishoAndChosahyoAndIkenshoPrintMapper">
    <resultMap id="resultMap_select認定調査依頼情報" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintEntity" autoMapping="true">
        <result property="hihokenshaNo" column="hihokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="hihokenshaName" column="hihokenshaName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="seibetsu" column="seibetsu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ninteiShinseiYMD" column="ninteiShinseiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shinseishoKanriNo" column="shinseishoKanriNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ninteichosaItakusakiCode" column="ninteichosaItakusakiCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ninteichosaIraiRirekiNo" column="ninteichosaIraiRirekiNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="jigyoshaMeisho" column="jigyoshaMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ninteiChosainCode" column="ninteiChosainCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="chosainShimei" column="chosainShimei" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shujiiIryokikanCode" column="shujiiIryokikanCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ikenshoIraiRirekiNo" column="ikenshoIraiRirekiNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="iryoKikanMeisho" column="iryoKikanMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shujiiCode" column="shujiiCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shujiiName" column="shujiiName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="hihokenshaKana" column="hihokenshaKana" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="seinengappiYMD" column="seinengappiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="yubinNo" column="yubinNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="jusho" column="jusho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="telNo" column="telNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="homonChosasakiYubinNo" column="homonChosasakiYubinNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="homonChosasakiJusho" column="homonChosasakiJusho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="homonChosasakiName" column="homonChosasakiName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="homonChosasakiTelNo" column="homonChosasakiTelNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ninteichosaIraiYMD" column="ninteichosaIraiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ninteichosaKigenYMD" column="ninteichosaKigenYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="itakusakiYubinNo" column="itakusakiYubinNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="itakusakiJusho" column="itakusakiJusho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ninteiShinseiShinseijiKubun" column="ninteiShinseiShinseijiKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="jigyoshaNo" column="jigyoshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="daihyoshaName" column="daihyoshaName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shoKisaiHokenshaNo" column="shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="age" column="age" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="zenkaiNinteiYMD" column="zenkaiNinteiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="zenYokaigoKubunCode" column="zenYokaigoKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="renrakusakiJusho" column="renrakusakiJusho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="renrakusakiYubinNo" column="renrakusakiYubinNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="renrakusakiTelNo" column="renrakusakiTelNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="renrakusakiKeitaiTelNo" column="renrakusakiKeitaiTelNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="renrakusakiShimei" column="renrakusakiShimei" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="renrakusakiTuzukigara" column="renrakusakiTuzukigara" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="koroshoIfShikibetsuCode" column="koroshoIfShikibetsuCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ninchishoSeikatsuJiritsudo" column="ninchishoSeikatsuJiritsudo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shogaiSeikatsuJiritsudo" column="shogaiSeikatsuJiritsudo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ichijiHanteiKekkaCode" column="ichijiHanteiKekkaCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="nijiHanteiYokaigoJotaiKubun" column="nijiHanteiYokaigoJotaiKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="nijiHanteiYMD" column="nijiHanteiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="remban" column="remban" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="researchItem" column="researchItem" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ikenshoSakuseiIraiYMD" column="ikenshoSakuseiIraiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ikenshoSakuseiKigenYMD" column="ikenshoSakuseiKigenYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ikenshoIraiKubun" column="ikenshoIraiKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="iryoKikanYubinNo" column="iryoKikanYubinNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="iryoKikanJusho" column="iryoKikanJusho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shichosonCode" column="shichosonCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="iryoKikanTelNo" column="iryoKikanTelNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="iryoKikanFaxNo" column="iryoKikanFaxNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="hokenshaName" column="hokenshaName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="ikenshoSakuseiKaisuKubun" column="ikenshoSakuseiKaisuKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="zaitakuShisetsuKubun" column="zaitakuShisetsuKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
    </resultMap>
    <select id="select認定調査依頼情報" resultMap="resultMap_select認定調査依頼情報" 
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintParameter" fetchSize="500">
          SELECT 
                  A."hihokenshaNo"
                 ,A."hihokenshaName"
                 ,A."seibetsu"
                 ,A."ninteiShinseiYMD"
                 ,A."shinseishoKanriNo"
                 ,B."ninteichosaItakusakiCode"
                 ,B."ninteichosaIraiRirekiNo"
                 ,C."jigyoshaMeisho"
                 ,B."ninteiChosainCode"
                 ,D."chosainShimei"
            FROM
                 rgdb."DbT5101NinteiShinseiJoho" AS A
                 INNER JOIN 
                 rgdb."DbT7051KoseiShichosonMaster" AS A1
                 ON A."shoKisaiHokenshaNo" = A1."shoKisaiHokenshaNo"
                 LEFT JOIN 
                 rgdb."DbT5201NinteichosaIraiJoho" AS B
                 ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
                 AND B."logicalDeletedFlag" = FALSE
                 AND NOT EXISTS (
                        SELECT 'X' 
                         FROM rgdb."DbT5201NinteichosaIraiJoho" AS B1
                         WHERE 
                              B."shinseishoKanriNo" = B1."shinseishoKanriNo"
                              AND B1."logicalDeletedFlag" = FALSE
                              AND B."ninteichosaIraiRirekiNo" <![CDATA[<]]> B1."ninteichosaIraiRirekiNo"

                 )
                 LEFT JOIN 
                  rgdb."DbT5910NinteichosaItakusakiJoho" AS C
                  ON B."ninteichosaItakusakiCode" = C."ninteichosaItakusakiCode"
                  AND C."shichosonCode" = A1."shichosonCode"
                  AND C."jokyoFlag" = TRUE
                 LEFT JOIN 
                  rgdb."DbT5913ChosainJoho" AS D
                  ON B."ninteichosaItakusakiCode" = D."ninteiChosaItakusakiCode"
                  AND B."ninteiChosainCode"  = D."ninteiChosainCode" 
                  AND D."shichosonCode" = A1."shichosonCode"
                  AND D."jokyoFlag" = TRUE
            WHERE
                 A."shinseishoKanriNo" IN 
                 <foreach collection="申請書管理番号リスト" item="code" open="(" separator="," close=")">
                     #{code} 
                 </foreach>
                 <if test="uses証記載保険者番号">
                     AND A."shoKisaiHokenshaNo" = #{証記載保険者番号}
                 </if>
             AND A."logicalDeletedFlag" = FALSE
            ORDER BY A."shinseishoKanriNo"
    
    </select>
    <select id="select主治医意見書依頼情報" resultMap="resultMap_select認定調査依頼情報"
              parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintParameter"            fetchSize="500">
         SELECT 
                A."hihokenshaNo"
               ,A."hihokenshaName"
               ,A."seibetsu"
               ,A."ninteiShinseiYMD"
               ,A."shinseishoKanriNo"
               ,B."shujiiIryokikanCode"
               ,B."ikenshoIraiRirekiNo"
               ,C."iryoKikanMeisho"
               ,B."shujiiCode"
               ,D."shujiiName"
         FROM
              rgdb."DbT5101NinteiShinseiJoho" AS A
              INNER JOIN 
              rgdb."DbT7051KoseiShichosonMaster" AS A1
              ON A."shoKisaiHokenshaNo" = A1."shoKisaiHokenshaNo"
              LEFT JOIN 
              rgdb."DbT5301ShujiiIkenshoIraiJoho" AS B
              ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
              AND B."logicalDeletedFlag" = FALSE
              AND NOT EXISTS (
                     SELECT 'X' 
                      FROM rgdb."DbT5301ShujiiIkenshoIraiJoho" AS B1
                      WHERE 
                           B."shinseishoKanriNo" = B1."shinseishoKanriNo"
                           AND B1."logicalDeletedFlag" = FALSE
                           AND B."ikenshoIraiRirekiNo" <![CDATA[<]]> B1."ikenshoIraiRirekiNo"

              )
              LEFT JOIN 
               rgdb."DbT5911ShujiiIryoKikanJoho" AS C
               ON B."shujiiIryokikanCode" = C."shujiiIryokikanCode"
               AND C."shichosonCode" = A1."shichosonCode"
               AND C."jokyoFlag" = TRUE
              LEFT JOIN 
               rgdb."DbT5912ShujiiJoho" AS D
               ON B."shujiiIryokikanCode" = D."shujiiIryokikanCode"
               AND B."shujiiCode"  = D."shujiiCode" 
               AND D."shichosonCode" = A1."shichosonCode"
               AND D."jokyoFlag" = TRUE
         WHERE
              A."shinseishoKanriNo" IN 
              <foreach collection="申請書管理番号リスト" item="code" open="(" separator="," close=")">
                     #{code} 
              </foreach>
              <if test="uses証記載保険者番号">
                     AND A."shoKisaiHokenshaNo" = #{証記載保険者番号}
              </if>
          AND A."logicalDeletedFlag" = FALSE
         ORDER BY A."shinseishoKanriNo"
    </select>
    
     <select id="select認定調査依頼書" resultMap="resultMap_select認定調査依頼情報"
              parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintParameter" fetchSize="500">
             SELECT 
                  A."hihokenshaNo"
                 ,A."hihokenshaKana"
                 ,A."hihokenshaName"
                 ,A."seinengappiYMD"
                 ,A."seibetsu"
                 ,A."yubinNo"
                 ,A."jusho"
                 ,A."telNo"
                 ,A."homonChosasakiYubinNo"
                 ,A."homonChosasakiJusho"
                 ,A."homonChosasakiName"
                 ,A."homonChosasakiTelNo"
                 ,A."ninteiShinseiYMD"
                 ,A."shinseishoKanriNo"
                 ,B."ninteichosaIraiYMD"
                 ,B."ninteichosaKigenYMD"
                 ,C."yubinNo" AS "itakusakiYubinNo"
                 ,C."jusho" AS "itakusakiJusho"
                 ,C."jigyoshaMeisho"
                 ,D."chosainShimei"
            FROM
                 rgdb."DbT5101NinteiShinseiJoho" AS A
                 INNER JOIN 
                 rgdb."DbT7051KoseiShichosonMaster" AS A1
                 ON A."shoKisaiHokenshaNo" = A1."shoKisaiHokenshaNo"
                 LEFT JOIN 
                 rgdb."DbT5201NinteichosaIraiJoho" AS B
                 ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
                 AND B."logicalDeletedFlag" = FALSE
                 AND NOT EXISTS (
                        SELECT 'X' 
                         FROM rgdb."DbT5201NinteichosaIraiJoho" AS B1
                         WHERE 
                              B."shinseishoKanriNo" = B1."shinseishoKanriNo"
                              AND B1."logicalDeletedFlag" = FALSE
                              AND B."ninteichosaIraiRirekiNo" <![CDATA[<]]> B1."ninteichosaIraiRirekiNo"

                 )
                 LEFT JOIN 
                  rgdb."DbT5910NinteichosaItakusakiJoho" AS C
                  ON B."ninteichosaItakusakiCode" = C."ninteichosaItakusakiCode"
                  AND C."shichosonCode" = A1."shichosonCode"
                  AND C."jokyoFlag" = TRUE
                 LEFT JOIN 
                  rgdb."DbT5913ChosainJoho" AS D
                  ON B."ninteichosaItakusakiCode" = D."ninteiChosaItakusakiCode"
                  AND B."ninteiChosainCode"  = D."ninteiChosainCode" 
                  AND D."shichosonCode" = A1."shichosonCode"
                  AND D."jokyoFlag" = TRUE
            WHERE
                 A."shinseishoKanriNo" = #{申請書管理番号}
             AND A."logicalDeletedFlag" = FALSE
     </select>
    <select id="select認定調査依頼一覧表" resultMap="resultMap_select認定調査依頼情報"
               parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintParameter" fetchSize="500">
           SELECT 
                  A."hihokenshaNo"
                 ,A."ninteiShinseiYMD"
                 ,A."hihokenshaKana"
                 ,A."hihokenshaName"
                 ,A."ninteiShinseiShinseijiKubunCode" AS "ninteiShinseiShinseijiKubun"
                 ,A."seibetsu"
                 ,A."seinengappiYMD"
                 ,A."jusho"
                 ,A."telNo"
                 ,B."ninteichosaIraiYMD"
                 ,B."ninteichosaKigenYMD"
                 ,C."yubinNo" AS "itakusakiYubinNo"
                 ,C."jusho" AS "itakusakiJusho"
                 ,C."jigyoshaNo"
                 ,C."jigyoshaMeisho"
                 ,C."daihyoshaName"
                 ,D."chosainShimei"
            FROM
                 rgdb."DbT5101NinteiShinseiJoho" AS A
                 INNER JOIN 
                 rgdb."DbT7051KoseiShichosonMaster" AS A1
                 ON A."shoKisaiHokenshaNo" = A1."shoKisaiHokenshaNo"
                 LEFT JOIN 
                 rgdb."DbT5201NinteichosaIraiJoho" AS B
                 ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
                 AND B."logicalDeletedFlag" = FALSE
                 AND NOT EXISTS (
                        SELECT 'X' 
                         FROM rgdb."DbT5201NinteichosaIraiJoho" AS B1
                         WHERE 
                              B."shinseishoKanriNo" = B1."shinseishoKanriNo"
                              AND B1."logicalDeletedFlag" = FALSE
                              AND B."ninteichosaIraiRirekiNo" <![CDATA[<]]> B1."ninteichosaIraiRirekiNo"

                 )
                 LEFT JOIN 
                  rgdb."DbT5910NinteichosaItakusakiJoho" AS C
                  ON B."ninteichosaItakusakiCode" = C."ninteichosaItakusakiCode"
                  AND C."shichosonCode" = A1."shichosonCode"
                  AND C."jokyoFlag" = TRUE
                 LEFT JOIN 
                  rgdb."DbT5913ChosainJoho" AS D
                  ON B."ninteichosaItakusakiCode" = D."ninteiChosaItakusakiCode"
                  AND B."ninteiChosainCode"  = D."ninteiChosainCode" 
                  AND D."shichosonCode" = A1."shichosonCode"
                  AND D."jokyoFlag" = TRUE
            WHERE
                  A."shinseishoKanriNo" IN 
                  <foreach collection="申請書管理番号リスト" item="code" open="(" separator="," close=")">
                       #{code} 
                  </foreach>
             AND A."logicalDeletedFlag" = FALSE
           ORDER BY 
                  A."shinseishoKanriNo"
      </select>
      <select id="select認定調査票_概況調査" resultMap="resultMap_select認定調査依頼情報"
              parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintParameter"            fetchSize="500">
            SELECT 
                  A."shinseishoKanriNo"
                 ,A."shoKisaiHokenshaNo"
                 ,A."ninteiShinseiYMD"
                 ,A."hihokenshaNo"
                 ,A."hihokenshaKana"
                 ,A."hihokenshaName"
                 ,A."seibetsu"
                 ,A."jusho"
                 ,A."yubinNo"
                 ,A."telNo"
                 ,A."seinengappiYMD"
                 ,A."age"
                 ,A."zenkaiNinteiYMD"
                 ,A."zenYokaigoKubunCode"
                 ,B."ninteichosaItakusakiCode"
                 ,B."ninteiChosainCode"
                 ,C."jigyoshaMeisho"
                 ,D."chosainShimei"
                 ,E."renrakusakiJusho"
                 ,E."renrakusakiYubinNo"
                 ,E."renrakusakiTelNo"
                 ,E."renrakusakiKeitaiTelNo"
                 ,E."renrakusakiShimei"
                 ,E."renrakusakiTuzukigara"
            FROM
                 rgdb."DbT5101NinteiShinseiJoho" AS A
                 INNER JOIN 
                 rgdb."DbT7051KoseiShichosonMaster" AS A1
                 ON A."shoKisaiHokenshaNo" = A1."shoKisaiHokenshaNo"
                 LEFT JOIN 
                 rgdb."DbT5201NinteichosaIraiJoho" AS B
                 ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
                 AND B."logicalDeletedFlag" = FALSE
                 AND NOT EXISTS (
                        SELECT 'X' 
                         FROM rgdb."DbT5201NinteichosaIraiJoho" AS B1
                         WHERE 
                              B."shinseishoKanriNo" = B1."shinseishoKanriNo"
                              AND B1."logicalDeletedFlag" = FALSE
                              AND B."ninteichosaIraiRirekiNo" <![CDATA[<]]> B1."ninteichosaIraiRirekiNo"

                 )
                 LEFT JOIN 
                  rgdb."DbT5910NinteichosaItakusakiJoho" AS C
                  ON B."ninteichosaItakusakiCode" = C."ninteichosaItakusakiCode"
                  AND C."shichosonCode" = A1."shichosonCode"
                  AND C."jokyoFlag" = TRUE
                 LEFT JOIN 
                  rgdb."DbT5913ChosainJoho" AS D
                  ON B."ninteichosaItakusakiCode" = D."ninteiChosaItakusakiCode"
                  AND B."ninteiChosainCode"  = D."ninteiChosainCode" 
                  AND D."shichosonCode" = A1."shichosonCode"
                  AND D."jokyoFlag" = TRUE
                 LEFT JOIN 
                  rgdb."DbT5150RenrakusakiJoho" AS E
                  ON A."shinseishoKanriNo" = E."shinseishoKanriNo"
                  AND NOT EXISTS (
                        SELECT 'X' 
                         FROM rgdb."DbT5150RenrakusakiJoho" AS E1
                         WHERE 
                              E."shinseishoKanriNo" = E1."shinseishoKanriNo"
                              AND E."renban" <![CDATA[<]]> E1."renban"

                 )
            WHERE
                 A."shinseishoKanriNo" = #{申請書管理番号}
             AND A."logicalDeletedFlag" = FALSE

      </select>
      
       <select id="select認定調査票差異チェック票" resultMap="resultMap_select認定調査依頼情報"
              parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintParameter"            fetchSize="500">
            SELECT 
                  A."hihokenshaNo"
                 ,A."hihokenshaName"
                 ,A."seinengappiYMD"
                 ,A."age"
                 ,A."koroshoIfShikibetsuCode"
                 ,C."ninchishoNichijoSeikatsuJiritsudoCode" AS "ninchishoSeikatsuJiritsudo"
                 ,C."shogaiNichijoSeikatsuJiritsudoCode"  AS "shogaiSeikatsuJiritsudo"
                 ,D."ichijiHanteiKekkaCode"
                 ,E."nijiHanteiYokaigoJotaiKubunCode" AS nijiHanteiYokaigoJotaiKubun
                 ,E."nijiHanteiYMD"
                 ,F."remban"
                 ,F."researchItem"
            FROM
                 rgdb."DbT5101NinteiShinseiJoho" AS A
                 LEFT JOIN 
                 rgdb."DbT5121ShinseiRirekiJoho" AS B
                 ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
                 LEFT JOIN 
                  rgdb."DbT5203NinteichosahyoKihonChosa" AS C
                  ON B."zenkaiShinseishoKanriNo" = C."shinseishoKanriNo"
                  AND NOT EXISTS (
                        SELECT 'X' 
                         FROM rgdb."DbT5203NinteichosahyoKihonChosa" AS C1
                         WHERE 
                              C."shinseishoKanriNo" = C1."shinseishoKanriNo"
                              AND C."ninteichosaRirekiNo" <![CDATA[<]]>  C1."ninteichosaRirekiNo"

                 )
                 AND C."koroshoIfShikibetsuCode" = A."koroshoIfShikibetsuCode"
                 INNER JOIN 
                  rgdb."DbT5116IchijiHanteiKekkaJoho" AS D
                  ON C."shinseishoKanriNo" = D."shinseishoKanriNo"
                 INNER JOIN 
                  rgdb."DbT5102NinteiKekkaJoho" AS E
                  ON C."shinseishoKanriNo" = E."shinseishoKanriNo"
                 INNER JOIN 
                  rgdb."DbT5211NinteichosahyoChosaItem" AS F
                  ON C."shinseishoKanriNo" = F."shinseishoKanriNo"
                  AND  NOT EXISTS (
                        SELECT 'X' 
                         FROM rgdb."DbT5211NinteichosahyoChosaItem" AS F1
                         WHERE 
                              F."shinseishoKanriNo" = F1."shinseishoKanriNo"
                              AND F."remban" = F1."remban"
                              AND F."ninteichosaRirekiNo" <![CDATA[<]]> F1."ninteichosaRirekiNo"

                 )
                 AND F."koroshoIfShikibetsuCode" = A."koroshoIfShikibetsuCode"
            WHERE
                 A."shinseishoKanriNo" = #{申請書管理番号}
             AND A."logicalDeletedFlag" = FALSE
       </select>
       
      <select id="select意見書作成依頼書" resultMap="resultMap_select認定調査依頼情報"
                parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintParameter"            fetchSize="500">
           SELECT 
                A."shoKisaiHokenshaNo"
               ,A."hihokenshaNo"
               ,A."hihokenshaKana"
               ,A."hihokenshaName"
               ,A."seinengappiYMD"
               ,A."seibetsu"
               ,A."yubinNo"
               ,A."jusho"
               ,A."ninteiShinseiYMD"
               ,A."ninteiShinseiShinseijiKubunCode" AS "ninteiShinseiShinseijiKubun"
               ,A."shinseishoKanriNo"
               ,B."ikenshoSakuseiIraiYMD"
               ,B."ikenshoSakuseiKigenYMD"
               ,B."ikenshoIraiKubun"
               ,C."yubinNo" AS "iryoKikanYubinNo"
               ,C."jusho" AS "iryoKikanJusho"
               ,C."iryoKikanMeisho"
               ,D."shujiiName"
         FROM
              rgdb."DbT5101NinteiShinseiJoho" AS A
              INNER JOIN 
              rgdb."DbT7051KoseiShichosonMaster" AS A1
              ON A."shoKisaiHokenshaNo" = A1."shoKisaiHokenshaNo"
              LEFT JOIN 
              rgdb."DbT5301ShujiiIkenshoIraiJoho" AS B
              ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
              AND B."logicalDeletedFlag" = FALSE
              AND NOT EXISTS (
                     SELECT 'X' 
                      FROM rgdb."DbT5301ShujiiIkenshoIraiJoho" AS B1
                      WHERE 
                           B."shinseishoKanriNo" = B1."shinseishoKanriNo"
                           AND B1."logicalDeletedFlag" = FALSE
                           AND B."ikenshoIraiRirekiNo" <![CDATA[<]]> B1."ikenshoIraiRirekiNo"

              )
              LEFT JOIN 
               rgdb."DbT5911ShujiiIryoKikanJoho" AS C
               ON B."shujiiIryokikanCode" = C."shujiiIryokikanCode"
               AND C."shichosonCode" = A1."shichosonCode"
               AND C."jokyoFlag" = TRUE
              LEFT JOIN 
               rgdb."DbT5912ShujiiJoho" AS D
               ON B."shujiiIryokikanCode" = D."shujiiIryokikanCode"
               AND B."shujiiCode"  = D."shujiiCode" 
               AND D."shichosonCode" = A1."shichosonCode"
               AND D."jokyoFlag" = TRUE
         WHERE
              A."shinseishoKanriNo" = #{申請書管理番号}
          AND A."logicalDeletedFlag" = FALSE
        
        </select>
        
         <select id="select意見書作成依頼一覧表" resultMap="resultMap_select認定調査依頼情報"
                 parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintParameter"            fetchSize="500">
                SELECT 
                    A."hihokenshaNo"
                   ,A."hihokenshaKana"
                   ,A."hihokenshaName"
                   ,A."seinengappiYMD"
                   ,A."seibetsu"
                   ,A."jusho"
                   ,B."ikenshoSakuseiIraiYMD"
                   ,B."ikenshoSakuseiKigenYMD"
                   ,B."shujiiIryokikanCode"
                   ,C."yubinNo" AS "iryoKikanYubinNo"
                   ,C."jusho" AS "iryoKikanJusho"
                   ,C."iryoKikanMeisho"
                   ,C."daihyoshaName"
                   ,D."shujiiName"
             FROM
                  rgdb."DbT5101NinteiShinseiJoho" AS A
                  INNER JOIN 
                  rgdb."DbT7051KoseiShichosonMaster" AS A1
                  ON A."shoKisaiHokenshaNo" = A1."shoKisaiHokenshaNo"
                  LEFT JOIN 
                  rgdb."DbT5301ShujiiIkenshoIraiJoho" AS B
                  ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
                  AND B."logicalDeletedFlag" = FALSE
                  AND NOT EXISTS (
                         SELECT 'X' 
                          FROM rgdb."DbT5301ShujiiIkenshoIraiJoho" AS B1
                          WHERE 
                               B."shinseishoKanriNo" = B1."shinseishoKanriNo"
                               AND B1."logicalDeletedFlag" = FALSE
                               AND B."ikenshoIraiRirekiNo" <![CDATA[<]]> B1."ikenshoIraiRirekiNo"

                  )
                  LEFT JOIN 
                   rgdb."DbT5911ShujiiIryoKikanJoho" AS C
                   ON B."shujiiIryokikanCode" = C."shujiiIryokikanCode"
                   AND C."shichosonCode" = A1."shichosonCode"
                   AND C."jokyoFlag" = TRUE
                  LEFT JOIN 
                   rgdb."DbT5912ShujiiJoho" AS D
                   ON B."shujiiIryokikanCode" = D."shujiiIryokikanCode"
                   AND B."shujiiCode"  = D."shujiiCode" 
                   AND D."shichosonCode" = A1."shichosonCode"
                   AND D."jokyoFlag" = TRUE
             WHERE
                  A."shinseishoKanriNo" IN
                  <foreach collection="申請書管理番号リスト" item="code" open="(" separator="," close=")">
                       #{code} 
                  </foreach>
              AND A."logicalDeletedFlag" = FALSE
              ORDER BY A."shinseishoKanriNo"
         
         </select>
         
        <select id="select主治医意見書記入用紙" resultMap="resultMap_select認定調査依頼情報"
                   parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintParameter"            fetchSize="500">
                    SELECT 
                      A."shinseishoKanriNo"
                     ,A."shoKisaiHokenshaNo"
                     ,A."hihokenshaNo"
                     ,A."hihokenshaKana"
                     ,A."hihokenshaName"
                     ,A."seinengappiYMD"
                     ,A."age"
                     ,A."seibetsu"
                     ,A."ninteiShinseiYMD"
                     ,A."jusho"
                     ,A."yubinNo"
                     ,A."telNo"
                     ,A."shujiiIryokikanCode"
                     ,A"shujiiCode"
                     ,B."shichosonCode"
                     ,C."iryoKikanMeisho"
                     ,C."jusho" AS "iryoKikanJusho"
                     ,C."telNo" AS "iryoKikanTelNo"
                     ,C."faxNo" AS "iryoKikanFaxNo"
                     ,D."shujiiName"
               FROM
                    rgdb."DbT5101NinteiShinseiJoho" AS A
                    INNER JOIN 
                    rgdb."DbT7051KoseiShichosonMaster" AS B
                    ON A."shoKisaiHokenshaNo" = B."shoKisaiHokenshaNo"
                    LEFT JOIN 
                     rgdb."DbT5911ShujiiIryoKikanJoho" AS C
                     ON C."shujiiIryokikanCode" = A."shujiiIryokikanCode"
                     AND C."shichosonCode" = B."shichosonCode"
                     AND C."jokyoFlag" = TRUE
                    LEFT JOIN 
                     rgdb."DbT5912ShujiiJoho" AS D
                     ON A."shujiiIryokikanCode" = D."shujiiIryokikanCode"
                     AND A."shujiiCode"  = D."shujiiCode" 
                     AND D."shichosonCode" = B."shichosonCode"
                     AND D."jokyoFlag" = TRUE
               WHERE
                    A."shinseishoKanriNo" = #{申請書管理番号}
                AND A."logicalDeletedFlag" = FALSE
         </select>
         
            <select id="select主治医意見書作成料請求書" resultMap="resultMap_select認定調査依頼情報"
                   parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintParameter"            fetchSize="500">
               SELECT 
                    A."shinseishoKanriNo"
                   ,A."hihokenshaNo"
                   ,A."hihokenshaKana"
                   ,A."hihokenshaName"
                   ,A."seinengappiYMD"
                   ,A."seibetsu"
                   ,C."shichosonMeisho" AS "hokenshaName"
                   ,D."ikenshoSakuseiKaisuKubun"
                   ,D."zaitakuShisetsuKubun"
                   ,E."iryoKikanMeisho"
                   ,E."yubinNo" AS "iryoKikanYubinNo"
                   ,E."jusho" AS "iryoKikanJusho"
                   ,E."telNo" AS "iryoKikanTelNo"
                   ,E."daihyoshaName"
             FROM
                  rgdb."DbT5101NinteiShinseiJoho" AS A
                  INNER JOIN 
                  rgdb."DbT5105NinteiKanryoJoho" AS B
                  ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
                  AND B."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
                  AND B."ninteiShinsakaiWariateKanryoYMD" IS NULL
                  AND B."ninteiShinsakaiKanryoYMD" IS NULL
                  AND B."centerSoshinYMD" IS NULL
                  LEFT JOIN 
                   rgdb."DbT7051KoseiShichosonMaster" AS C
                   ON A."shoKisaiHokenshaNo" = C."shoKisaiHokenshaNo"
                  LEFT JOIN 
                   rgdb."DbT5302ShujiiIkenshoJoho" AS D
                   ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
                   AND NOT EXISTS (
                              SELECT 'X' FROM 
                                 rgdb."DbT5302ShujiiIkenshoJoho" AS D1
                                 WHERE D."shinseishoKanriNo" = D1."shinseishoKanriNo"
                                 AND D."ikenshoIraiRirekiNo" <![CDATA[<]]> D1."ikenshoIraiRirekiNo"

                   )
                  LEFT JOIN 
                   rgdb."DbT5911ShujiiIryoKikanJoho" AS E
                   ON E."shujiiIryokikanCode" = A."shujiiIryokikanCode"
                   AND E."shichosonCode" = C."shichosonCode"
                   AND E."jokyoFlag" = FALSE
             WHERE
                  A."shinseishoKanriNo" = #{申請書管理番号}
              AND A."logicalDeletedFlag" = FALSE
         </select>
         
          <select id="select介護保険診断命令書" resultMap="resultMap_select認定調査依頼情報"
                  parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.ikenshoprint.ChosaIraishoAndChosahyoAndIkenshoPrintParameter"            fetchSize="500">
                SELECT 
                        A."hihokenshaNo"
                       ,A."hihokenshaName"
                       ,A."shinseishoKanriNo"
                       ,C."yubinNo" AS "iryoKikanYubinNo"
                       ,C."jusho" AS "iryoKikanJusho"
                       ,C."telNo" AS "iryoKikanTelNo"
                       ,C."iryoKikanMeisho"
                       ,C."daihyoshaName"
                       ,D."shujiiName"
                 FROM
                      rgdb."DbT5101NinteiShinseiJoho" AS A
                      INNER JOIN 
                      rgdb."DbT7051KoseiShichosonMaster" AS A1
                      ON A."shoKisaiHokenshaNo" = A1."shoKisaiHokenshaNo"
                      LEFT JOIN 
                      rgdb."DbT5301ShujiiIkenshoIraiJoho" AS B
                      ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
                      AND B."logicalDeletedFlag" = FALSE
                      AND NOT EXISTS (
                             SELECT 'X' 
                              FROM rgdb."DbT5301ShujiiIkenshoIraiJoho" AS B1
                              WHERE 
                                   B."shinseishoKanriNo" = B1."shinseishoKanriNo"
                                   AND B1."logicalDeletedFlag" = FALSE
                                   AND B."ikenshoIraiRirekiNo" <![CDATA[<]]> B1."ikenshoIraiRirekiNo"

                      )
                      LEFT JOIN 
                       rgdb."DbT5911ShujiiIryoKikanJoho" AS C
                       ON B."shujiiIryokikanCode" = C."shujiiIryokikanCode"
                       AND C."shichosonCode" = A1."shichosonCode"
                       AND C."jokyoFlag" = TRUE
                      LEFT JOIN 
                       rgdb."DbT5912ShujiiJoho" AS D
                       ON B."shujiiIryokikanCode" = D."shujiiIryokikanCode"
                       AND B."shujiiCode"  = D."shujiiCode" 
                       AND D."shichosonCode" = A1."shichosonCode"
                       AND D."jokyoFlag" = TRUE
                 WHERE
                      A."shinseishoKanriNo" = #{申請書管理番号}
                  AND A."logicalDeletedFlag" = FALSE
       </select>
</mapper>
