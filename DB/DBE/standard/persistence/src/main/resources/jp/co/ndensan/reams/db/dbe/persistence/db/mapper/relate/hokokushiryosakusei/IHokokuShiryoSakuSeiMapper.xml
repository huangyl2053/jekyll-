<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 報告資料発行のマッピング用XMLです。 -->
<!-- @reamsid_L DBE-1450-010 wangxiaodong -->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.hokokushiryosakusei.IHokokuShiryoSakuSeiMapper">

    <select resultOrdered="true" id="getJisshiJokyoTokei"
            resultMap="hokokushiryosakusei_JisshiJokyoTokei"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.JisshiJokyoTokeiMyBatisParameter"
            fetchSize="500">
        SELECT * FROM
        ((SELECT F."shichosonCode"
        , 0 AS niTeiJokyo
        , F."shichosonMeisho"
        , A."shoKisaiHokenshaNo"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>
        ,COUNT(A."shoKisaiHokenshaNo") AS countKensu
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(B."ninteiShinseiJohoTorokuKanryoYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <if test="isEmptyTaishoGeppiTo">
                            AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinseiJohoTorokuKanryoYMD"
                        </if>
                        <if test="!isEmptyTaishoGeppiTo">
                            AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinseiJohoTorokuKanryoYMD"
                            AND B."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </if>
                    </when>
                    <otherwise>
                        AND B."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        <if test="isShinseiji">
            AND A."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND A."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>
        GROUP BY
        F."shichosonCode"
        ,F."shichosonMeisho"
        ,A."shoKisaiHokenshaNo"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>
        ORDER BY
        F."shichosonCode"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>)
        UNION ALL
        (SELECT F."shichosonCode"
        , 1 AS niTeiJokyo
        , F."shichosonMeisho"
        , A."shoKisaiHokenshaNo"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>
        ,COUNT(A."shoKisaiHokenshaNo") AS countKensu
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5202NinteichosahyoGaikyoChosa" G
        ON A."shinseishoKanriNo" = G."shinseishoKanriNo"
        AND G."ninteichosaRirekiNo" = (
        SELECT MAX("ninteichosaRirekiNo")
        FROM rgdb."DbT5202NinteichosahyoGaikyoChosa"
        WHERE "shinseishoKanriNo" = A."shinseishoKanriNo")
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(G."ninteichosaJisshiYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <if test="isEmptyTaishoGeppiTo">
                            AND #{taishoGeppiFrom} <![CDATA[<=]]> G."ninteichosaJisshiYMD"
                        </if>
                        <if test="!isEmptyTaishoGeppiTo">
                            AND #{taishoGeppiFrom} <![CDATA[<=]]> G."ninteichosaJisshiYMD"
                            AND G."ninteichosaJisshiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </if>
                    </when>
                    <otherwise>
                        AND G."ninteichosaJisshiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        <if test="isShinseiji">
            AND A."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND A."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>
        GROUP BY
        F."shichosonCode"
        ,F."shichosonMeisho"
        ,A."shoKisaiHokenshaNo"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>
        ORDER BY
        F."shichosonCode"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>)
        UNION ALL
        (SELECT F."shichosonCode"
        , 2 AS niTeiJokyo
        , F."shichosonMeisho"
        , A."shoKisaiHokenshaNo"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>
        ,COUNT(A."shoKisaiHokenshaNo") AS countKensu
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" H
        ON D."shinsakaiKaisaiNo" = H."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(B."ninteiShinsakaiWariateKanryoYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <if test="isEmptyTaishoGeppiTo">
                            AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinsakaiWariateKanryoYMD"
                        </if>
                        <if test="!isEmptyTaishoGeppiTo">
                            AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinsakaiWariateKanryoYMD"
                            AND B."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </if>
                    </when>
                    <otherwise>
                        AND B."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        <if test="isShinseiji">
            AND A."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND A."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>
        GROUP BY
        F."shichosonCode"
        ,F."shichosonMeisho"
        ,A."shoKisaiHokenshaNo"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>
        ORDER BY
        F."shichosonCode"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>)
        UNION ALL
        (SELECT F."shichosonCode"
        , 3 AS niTeiJokyo
        , F."shichosonMeisho"
        , A."shoKisaiHokenshaNo"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>
        ,COUNT(A."shoKisaiHokenshaNo") AS countKensu
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" C
        ON A."shinseishoKanriNo" = C."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(C."nijiHanteiYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <if test="isEmptyTaishoGeppiTo">
                            AND #{taishoGeppiFrom} <![CDATA[<=]]> C."nijiHanteiYMD"
                        </if>
                        <if test="!isEmptyTaishoGeppiTo">
                            AND #{taishoGeppiFrom} <![CDATA[<=]]> C."nijiHanteiYMD"
                            AND C."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </if>
                    </when>
                    <otherwise>
                        AND C."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        <if test="isShinseiji">
            AND A."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND A."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>
        GROUP BY
        F."shichosonCode"
        ,F."shichosonMeisho"
        ,A."shoKisaiHokenshaNo"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>
        ORDER BY
        F."shichosonCode"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>)) jisshiJokyoTokei
        ORDER BY "shichosonCode"
        , niTeiJokyo
        <if test="isShinseiji">
            , "ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            , "ninteiShinseiHoreiKubunCode"
        </if>
    </select>

    <select resultOrdered="true" id="getGogitaiNo"
            resultMap="hokokushiryosakusei_gogitaiNo"
            parameterType="jp.co.ndensan.reams.uz.uza.lang.FlexibleDate"
            fetchSize="500">
        SELECT DISTINCT ON (dbt5591."gogitaiNo") "gogitaiNo"
        ,dbt5591."gogitaiMei"
        FROM rgdb."DbT5591GogitaiJoho" dbt5591
        WHERE dbt5591."gogitaiYukoKikanKaishiYMD" <![CDATA[<=]]> #{systemDate}
        AND #{systemDate} <![CDATA[<=]]> dbt5591."gogitaiYukoKikanShuryoYMD"
    </select>

    <select resultOrdered="true" id="getJigyoJyokyoHokokuHeader"
            resultMap="hokokushiryosakusei_JigyoJyokyoHokokuHeader"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.JigyoJyokyoHokokuMyBatisParameter"
            fetchSize="500">
        SELECT SUBSTR(B."nijiHanteiYMD", 1, 6) AS nijiHanteiYM
        ,B."nijiHanteiYokaigoJotaiKubunCode"
        ,A."hihokenshaKubunCode"
        ,A."age"
        ,A."shoKisaiHokenshaNo"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>
        ,C."shichosonCode"
        ,C."shichosonMeisho"
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" C
        ON A."shoKisaiHokenshaNo" =  C."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND D."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND D."ninteichosaIraiKanryoYMD" IS NOT NULL
        AND D."ninteichosaKanryoYMD" IS NOT NULL
        AND D."ikenshoSakuseiIraiKanryoYMD" IS NOT NULL
        AND D."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND D."ichijiHanteiKanryoYMD" IS NOT NULL
        AND D."maskingKanryoYMD" IS NOT NULL
        AND D."ninteiShinsakaiWariateKanryoYMD" IS NOT NULL
        AND D."ninteiShinsakaiKanryoYMD" IS NOT NULL
        AND A."hihokenshaKubunCode" IN ('1', '2')
        AND B."nijiHanteiYokaigoJotaiKubunCode" IN ('01', '12', '13', '21', '22', '23', '24', '25')
        <if test="!isEmptyHokensyaNo">
            AND A."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test="isTaishoTsukiKubun">
                <if test="!isTaishoGeppiKubun">
                    AND SUBSTR(B."nijiHanteiYMD", 1, 6) = #{taishoNendoYM}
                </if>
            </when>
            <otherwise>
                <if test="isTaishoGeppiKubun">
                    <choose>
                        <when test="!isEmptyTaishoGeppiFrom">
                            <choose>
                                <when test="!isEmptyTaishoGeppiTo">
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> B."nijiHanteiYMD"
                                    AND B."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                                </when>
                                <otherwise>
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> B."nijiHanteiYMD"
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            AND B."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </otherwise>
                    </choose>
                </if>
            </otherwise>
        </choose>
        <if test="isShinseiji">
            AND A."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND A."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>
        ORDER BY
        C."shichosonCode"
        ,A."shoKisaiHokenshaNo"
        ,A."hihokenshaKubunCode"
        ,A."age"
        <if test="isShinseiji">
            ,A."ninteiShinseiShinseijiKubunCode"
        </if>
        <if test="isHorei">
            ,A."ninteiShinseiHoreiKubunCode"
        </if>
    </select>

    <select resultOrdered="true" id="getJigyoJyokyoHokoku"
            resultMap="hokokushiryosakusei_JigyoJyokyoHokoku"
            fetchSize="500">
        SELECT A."nijiHanteiYM"
        ,A."shichosonCode"
        ,A."shichosonMeisho"
        ,A."shoKisaiHokenshaNo"
        ,A."nijiHanteiYokaigoJotaiKubunCode"
        ,A."hihokenshaKubunCode"
        ,COUNT(0) AS countHokensha
        FROM "JigyoJyokyoHokokuTemp" A
        GROUP BY
        A."nijiHanteiYM"
        ,A."shichosonCode"
        ,A."shichosonMeisho"
        ,A."shoKisaiHokenshaNo"
        ,A."nijiHanteiYokaigoJotaiKubunCode"
        ,A."hihokenshaKubunCode"
        ORDER BY
        A."nijiHanteiYM"
        ,A."shichosonCode"
        ,A."hihokenshaKubunCode"
        ,A."nijiHanteiYokaigoJotaiKubunCode"
    </select>

    <select resultOrdered="true" id="getSinsakaiHanteiJyokyoHeader"
            resultMap="hokokushiryosakusei_SinsakaiHanteiJyokyoHeader"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.SinsakaiHanteiJyokyoMyBatisParameter"
            fetchSize="500">
        SELECT S.* ,
        (SELECT COUNT(G."shinsakaiKaisaiNo")
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" G
        INNER JOIN rgdb."DbT5502ShinsakaiWariateJoho" dbt5502
        ON G."shinsakaiKaisaiNo" = dbt5502."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT5101NinteiShinseiJoho" dbt5101
        ON dbt5502."shinseishoKanriNo" = dbt5101."shinseishoKanriNo"
        WHERE
        <choose>
            <when test="!isEmptyGogitaiNo">
                G."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                G."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        <if test="!isEmptyHokensyaNo">
            AND dbt5101."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test="isTaishoTsukiKubun">
                <if test="!isTaishoGeppiKubun">
                    AND SUBSTR(G."shinsakaiKaisaiYMD", 1, 6) = #{taishoNendoYM}
                </if>
            </when>
            <otherwise>
                <if test="isTaishoGeppiKubun">
                    <choose>
                        <when test="!isEmptyTaishoGeppiFrom">
                            <choose>
                                <when test="!isEmptyTaishoGeppiTo">
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> G."shinsakaiKaisaiYMD"
                                    AND G."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                                </when>
                                <otherwise>
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> G."shinsakaiKaisaiYMD"
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            AND G."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </otherwise>
                    </choose>
                </if>
            </otherwise>
        </choose>
        ) AS shinsakaiKaisaiNoCount
        FROM
        (SELECT
        MIN(A."shinsakaiKaisaiYMD") AS shinsakaiKaisaiYMDMin,
        MAX(A."shinsakaiKaisaiYMD") AS shinsakaiKaisaiYMDMax
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" A
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" B
        ON A."shinsakaiKaisaiNo" = B."shinsakaiKaisaiNo"
        LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" C
        ON B."shinseishoKanriNo" = C."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" D
        ON D."shinseishoKanriNo" = C."shinseishoKanriNo"
        WHERE D."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND D."ninteichosaKanryoYMD" IS NOT NULL
        AND D."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND D."ichijiHanteiKanryoYMD" IS NOT NULL
        AND D."maskingKanryoYMD" IS NOT NULL
        AND D."ninteiShinsakaiKanryoYMD" IS NOT NULL
        <if test="!isEmptyHokensyaNo">
            AND C."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <choose>
            <when test="isTaishoTsukiKubun">
                <if test="!isTaishoGeppiKubun">
                    AND SUBSTR(A."shinsakaiKaisaiYMD", 1, 6) = #{taishoNendoYM}
                </if>
            </when>
            <otherwise>
                <if test="isTaishoGeppiKubun">
                    <choose>
                        <when test="!isEmptyTaishoGeppiFrom">
                            <choose>
                                <when test="!isEmptyTaishoGeppiTo">
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
                                    AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                                </when>
                                <otherwise>
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </otherwise>
                    </choose>
                </if>
            </otherwise>
        </choose>
        <choose>
            <when test="!isEmptyGogitaiNo">
                AND A."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                AND A."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        <if test="isShinseiji">
            AND C."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND C."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>) AS S
    </select>

    <select resultOrdered="true" id="getSinsakaiHanteiJyokyo"
            resultMap="hokokushiryosakusei_SinsakaiHanteiJyokyo"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.SinsakaiHanteiJyokyoMyBatisParameter"
            fetchSize="500">
        SELECT E."ichijiHanteiKekkaNinchishoKasanCode"
        , D."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(C."hihokenshaNo") AS hihokenshaCount
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" A
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" B
        ON A."shinsakaiKaisaiNo" = B."shinsakaiKaisaiNo"
        LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" C
        ON B."shinseishoKanriNo" = C."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" D
        ON C."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5116IchijiHanteiKekkaJoho" E
        ON C."shinseishoKanriNo" = E."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" F
        ON C."shinseishoKanriNo" = F."shinseishoKanriNo"
        WHERE
        <choose>
            <when test="!isEmptyGogitaiNo">
                A."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                A."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
        AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
        AND F."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND F."ninteichosaKanryoYMD" IS NOT NULL
        AND F."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND F."ichijiHanteiKanryoYMD" IS NOT NULL
        AND F."maskingKanryoYMD" IS NOT NULL
        AND F."ninteiShinsakaiKanryoYMD" IS NOT NULL
        AND E."ichijiHanteiKekkaNinchishoKasanCode" IN ('01', '12', '13', '21', '22', '23', '24', '25')
        AND D."nijiHanteiYokaigoJotaiKubunCode" IN ('01', '12', '13', '21', '22', '23', '24', '25', '31')
        <if test="!isEmptyHokensyaNo">
            AND C."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <if test="isShinseiji">
            AND C."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND C."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>
        GROUP BY
        E."ichijiHanteiKekkaNinchishoKasanCode"
        , D."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        E."ichijiHanteiKekkaNinchishoKasanCode"
        , D."nijiHanteiYokaigoJotaiKubunCode"
    </select>

    <select resultOrdered="true" id="getJotaikubumbetsuhanteiHeader"
            resultMap="hokokushiryosakusei_SinsakaiHanteiJyokyoHeader"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.SinsakaiHanteiJyokyoMyBatisParameter"
            fetchSize="500">
        SELECT S.* ,
        (SELECT COUNT(G."shinsakaiKaisaiNo")
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" G
        INNER JOIN rgdb."DbT5502ShinsakaiWariateJoho" dbt5502
        ON G."shinsakaiKaisaiNo" = dbt5502."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT5101NinteiShinseiJoho" dbt5101
        ON dbt5502."shinseishoKanriNo" = dbt5101."shinseishoKanriNo"
        WHERE
        <choose>
            <when test="!isEmptyGogitaiNo">
                G."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                G."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        <if test="!isEmptyHokensyaNo">
            AND dbt5101."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test="isTaishoTsukiKubun">
                <if test="!isTaishoGeppiKubun">
                    AND SUBSTR(G."shinsakaiKaisaiYMD", 1, 6) = #{taishoNendoYM}
                </if>
            </when>
            <otherwise>
                <if test="isTaishoGeppiKubun">
                    <choose>
                        <when test="!isEmptyTaishoGeppiFrom">
                            <choose>
                                <when test="!isEmptyTaishoGeppiTo">
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> G."shinsakaiKaisaiYMD"
                                    AND G."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                                </when>
                                <otherwise>
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> G."shinsakaiKaisaiYMD"
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            AND G."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </otherwise>
                    </choose>
                </if>
            </otherwise>
        </choose>
        ) AS shinsakaiKaisaiNoCount
        FROM
        (SELECT
        MIN(A."shinsakaiKaisaiYMD") AS shinsakaiKaisaiYMDMin
        ,MAX(A."shinsakaiKaisaiYMD") AS shinsakaiKaisaiYMDMax
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" A
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" B
        ON A."shinsakaiKaisaiNo" = B."shinsakaiKaisaiNo"
        LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" C
        ON B."shinseishoKanriNo" = C."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" D
        ON D."shinseishoKanriNo" = C."shinseishoKanriNo"
        WHERE D."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND D."ninteichosaKanryoYMD" IS NOT NULL
        AND D."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND D."ichijiHanteiKanryoYMD" IS NOT NULL
        AND D."maskingKanryoYMD" IS NOT NULL
        AND D."ninteiShinsakaiKanryoYMD" IS NOT NULL
        <if test="!isEmptyHokensyaNo">
            AND C."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <choose>
            <when test="isTaishoTsukiKubun">
                <if test="!isTaishoGeppiKubun">
                    AND SUBSTR(A."shinsakaiKaisaiYMD", 1, 6) = #{taishoNendoYM}
                </if>
            </when>
            <otherwise>
                <if test="isTaishoGeppiKubun">
                    <choose>
                        <when test="!isEmptyTaishoGeppiFrom">
                            <choose>
                                <when test="!isEmptyTaishoGeppiTo">
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
                                    AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                                </when>
                                <otherwise>
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </otherwise>
                    </choose>
                </if>
            </otherwise>
        </choose>
        <choose>
            <when test="!isEmptyGogitaiNo">
                AND A."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                AND A."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        <if test="isShinseiji">
            AND C."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND C."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>
        ) AS S
    </select>

    <select resultOrdered="true" id="getShinsahanteinoHenkojokyoHeader"
            resultMap="hokokushiryosakusei_SinsakaiHanteiJyokyoHeader"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.ShinsahanteinoHenkojokyoMyBatisParameter"
            fetchSize="500">
        SELECT S.* ,
        (SELECT COUNT(G."shinsakaiKaisaiNo")
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" G
        INNER JOIN rgdb."DbT5502ShinsakaiWariateJoho" dbt5502
        ON G."shinsakaiKaisaiNo" = dbt5502."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT5101NinteiShinseiJoho" dbt5101
        ON dbt5502."shinseishoKanriNo" = dbt5101."shinseishoKanriNo"
        WHERE
        <choose>
            <when test="!isEmptyGogitaiNo">
                G."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                G."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        <if test="!isEmptyHokensyaNo">
            AND dbt5101."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test="isTaishoTsukiKubun">
                <if test="!isTaishoGeppiKubun">
                    AND SUBSTR(G."shinsakaiKaisaiYMD", 1, 6) = #{taishoNendoYM}
                </if>
            </when>
            <otherwise>
                <if test="isTaishoGeppiKubun">
                    <choose>
                        <when test="!isEmptyTaishoGeppiFrom">
                            <choose>
                                <when test="!isEmptyTaishoGeppiTo">
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> G."shinsakaiKaisaiYMD"
                                    AND G."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                                </when>
                                <otherwise>
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> G."shinsakaiKaisaiYMD"
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            AND G."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </otherwise>
                    </choose>
                </if>
            </otherwise>
        </choose>
        ) AS shinsakaiKaisaiNoCount
        FROM
        (SELECT
        MIN(A."shinsakaiKaisaiYMD") AS shinsakaiKaisaiYMDMin
        ,MAX(A."shinsakaiKaisaiYMD") AS shinsakaiKaisaiYMDMax
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" A
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" B
        ON A."shinsakaiKaisaiNo" = B."shinsakaiKaisaiNo"
        LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" C
        ON B."shinseishoKanriNo" = C."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" D
        ON D."shinseishoKanriNo" = C."shinseishoKanriNo"
        WHERE D."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND D."ninteichosaKanryoYMD" IS NOT NULL
        AND D."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND D."ichijiHanteiKanryoYMD" IS NOT NULL
        AND D."maskingKanryoYMD" IS NOT NULL
        AND D."ninteiShinsakaiKanryoYMD" IS NOT NULL
        <if test="!isEmptyHokensyaNo">
            AND C."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <choose>
            <when test="isTaishoTsukiKubun">
                <if test="!isTaishoGeppiKubun">
                    AND SUBSTR(A."shinsakaiKaisaiYMD", 1, 6) = #{taishoNendoYM}
                </if>
            </when>
            <otherwise>
                <if test="isTaishoGeppiKubun">
                    <choose>
                        <when test="!isEmptyTaishoGeppiFrom">
                            <choose>
                                <when test="!isEmptyTaishoGeppiTo">
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
                                    AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                                </when>
                                <otherwise>
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </otherwise>
                    </choose>
                </if>
            </otherwise>
        </choose>
        <choose>
            <when test="!isEmptyGogitaiNo">
                AND A."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                AND A."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        <if test="isShinseiji">
            AND C."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND C."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>
        ) AS S
    </select>

    <select resultOrdered="true" id="getShinsahanteinoHenkojokyo"
            resultMap="hokokushiryosakusei_SinsakaiHanteiJyokyo"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.ShinsahanteinoHenkojokyoMyBatisParameter"
            fetchSize="500">
        SELECT D."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(C."hihokenshaNo") AS hihokenshaCount
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" A
        INNER JOIN rgdb."DbT5502ShinsakaiWariateJoho" B
        ON A."shinsakaiKaisaiNo" = B."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT5101NinteiShinseiJoho" C
        ON B."shinseishoKanriNo" = C."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" D
        ON C."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" E
        ON C."shinseishoKanriNo" = E."shinseishoKanriNo"
        WHERE
        <choose>
            <when test="!isEmptyGogitaiNo">
                A."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                A."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
        AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
        AND E."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND E."ninteichosaKanryoYMD" IS NOT NULL
        AND E."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND E."ichijiHanteiKanryoYMD" IS NOT NULL
        AND E."maskingKanryoYMD" IS NOT NULL
        AND E."ninteiShinsakaiKanryoYMD" IS NOT NULL
        AND D."nijiHanteiYMD" IS NOT NULL
        AND D."nijiHanteiYokaigoJotaiKubunCode" IN ('01', '12', '13', '21', '22', '23', '24', '25')
        <if test="!isEmptyHokensyaNo">
            AND C."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <if test="isShinseiji">
            <choose>
                <when test='"1".equals(ninteiShinseiKubun.toString())'>
                    AND C."ninteiShinseiShinseijiKubunCode" = '1'
                </when>
                <when test='"2".equals(ninteiShinseiKubun.toString())'>
                    AND C."ninteiShinseiShinseijiKubunCode" = '2'
                </when>
                <when test='"3".equals(ninteiShinseiKubun.toString())'>
                    AND C."ninteiShinseiShinseijiKubunCode" = '3'
                </when>
            </choose>
        </if>
        <if test="isHorei">
            <choose>
                <when test='"1".equals(ninteiShinseiKubun.toString())'>
                    AND C."ninteiShinseiHoreiKubunCode" = '1'
                </when>
                <when test='"2".equals(ninteiShinseiKubun.toString())'>
                    AND C."ninteiShinseiHoreiKubunCode" = '2'
                </when>
                <when test='"3".equals(ninteiShinseiKubun.toString())'>
                    AND C."ninteiShinseiHoreiKubunCode" = '3'
                </when>
            </choose>
        </if>
        <if test="!isShinseiji and !isHorei">
            <choose>
                <when test='"1".equals(ninteiShinseiKubun.toString())'>
                    AND (C."ninteiShinseiShinseijiKubunCode" = '1'
                    OR C."ninteiShinseiHoreiKubunCode" = '1')
                </when>
                <when test='"2".equals(ninteiShinseiKubun.toString())'>
                    AND (C."ninteiShinseiShinseijiKubunCode" = '2'
                    OR C."ninteiShinseiHoreiKubunCode" = '2')
                </when>
                <when test='"3".equals(ninteiShinseiKubun.toString())'>
                    AND (C."ninteiShinseiShinseijiKubunCode" = '3'
                    OR C."ninteiShinseiHoreiKubunCode" = '3')
                </when>
            </choose>
        </if>
        <choose>
            <when test="yukoKikan == 3">
                AND D."nijiHanteiNinteiYukoKikan" = 3
            </when>
            <when test="yukoKikan == 6">
                AND D."nijiHanteiNinteiYukoKikan" = 6
            </when>
            <when test="yukoKikan == 12">
                AND D."nijiHanteiNinteiYukoKikan" = 12
            </when>
            <when test="yukoKikan == 24">
                AND D."nijiHanteiNinteiYukoKikan" = 24
            </when>
            <otherwise>
                AND D."nijiHanteiNinteiYukoKikan" NOT IN (3, 6, 12, 24)
            </otherwise>
        </choose>
        GROUP BY D."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY D."nijiHanteiYokaigoJotaiKubunCode"
    </select>

    <select resultOrdered="true" id="getShinsahanteinoHenkojokyoYukoKikanEntyo"
            resultMap="hokokushiryosakusei_SinsakaiHanteiJyokyo"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.ShinsahanteinoHenkojokyoMyBatisParameter"
            fetchSize="500">
        SELECT D."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(C."hihokenshaNo") AS hihokenshaCount
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" A
        INNER JOIN rgdb."DbT5502ShinsakaiWariateJoho" B
        ON A."shinsakaiKaisaiNo" = B."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT5101NinteiShinseiJoho" C
        ON B."shinseishoKanriNo" = C."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" D
        ON C."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" E
        ON C."shinseishoKanriNo" = E."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5121ShinseiRirekiJoho" H
        ON C."shinseishoKanriNo" = H."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" I
        ON I."shinseishoKanriNo" = H."zenkaiShinseishoKanriNo"
        WHERE
        <choose>
            <when test="!isEmptyGogitaiNo">
                A."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                A."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
        AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
        AND E."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND E."ninteichosaKanryoYMD" IS NOT NULL
        AND E."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND E."ichijiHanteiKanryoYMD" IS NOT NULL
        AND E."maskingKanryoYMD" IS NOT NULL
        AND E."ninteiShinsakaiKanryoYMD" IS NOT NULL
        AND D."nijiHanteiYMD" IS NOT NULL
        <if test="!isEmptyHokensyaNo">
            AND C."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <if test="isShinseiji">
            <choose>
                <when test='"0".equals(ninteiShinseiKubun.toString())'>
                    AND C."ninteiShinseiShinseijiKubunCode" IN ('1', '3')
                </when>
                <when test='"2".equals(ninteiShinseiKubun.toString())'>
                    AND C."ninteiShinseiShinseijiKubunCode" = '2'
                </when>
            </choose>
        </if>
        <if test="isHorei">
            <choose>
                <when test='"0".equals(ninteiShinseiKubun.toString())'>
                    AND C."ninteiShinseiHoreiKubunCode" IN ('1', '3')
                </when>
                <when test='"2".equals(ninteiShinseiKubun.toString())'>
                    AND C."ninteiShinseiHoreiKubunCode" = '2'
                </when>
            </choose>
        </if>
        <if test="!isShinseiji and !isHorei">
            <choose>
                <when test='"0".equals(ninteiShinseiKubun.toString())'>
                    AND (C."ninteiShinseiShinseijiKubunCode" IN ('1', '3')
                    OR C."ninteiShinseiHoreiKubunCode" IN ('1', '3'))
                </when>
                <when test='"2".equals(ninteiShinseiKubun.toString())'>
                    AND (C."ninteiShinseiShinseijiKubunCode" = '2'
                    OR C."ninteiShinseiHoreiKubunCode" = '2')
                </when>
            </choose>
        </if>
        <choose>
            <when test='"0".equals(ninteiShinseiKubun.toString())'>
                AND D."nijiHanteiYokaigoJotaiKubunCode" IN ('01', '12', '13', '21', '22', '23', '24', '25')
                AND 6 <![CDATA[<=]]> D."nijiHanteiNinteiYukoKikan"
                AND D."nijiHanteiNinteiYukoKikan" <![CDATA[<=]]> 12
            </when>
            <otherwise>
                <choose>
                    <when test="isJissiZumi">
                        AND (I."nijiHanteiYokaigoJotaiKubunCode" <![CDATA[<>]]> '01'
                        AND D."nijiHanteiYokaigoJotaiKubunCode" <![CDATA[<>]]> '01'
                        AND 12 <![CDATA[<=]]> D."nijiHanteiNinteiYukoKikan"
                        AND D."nijiHanteiNinteiYukoKikan" <![CDATA[<=]]> 24)
                    </when>
                    <otherwise>
                        <choose>
                            <when test='"0".equals(jyotaiHenkoKubun.toString())'>
                                AND (I."nijiHanteiYokaigoJotaiKubunCode" IN ('12', '13')
                                AND D."nijiHanteiYokaigoJotaiKubunCode" IN ('12', '13')
                                AND D."nijiHanteiNinteiYukoKikan" = 12)
                            </when>
                            <when test='"1".equals(jyotaiHenkoKubun.toString())'>
                                AND (I."nijiHanteiYokaigoJotaiKubunCode" IN ('12', '13')
                                AND D."nijiHanteiYokaigoJotaiKubunCode" IN ('21', '22', '23', '24', '25')
                                AND 6 <![CDATA[<=]]> D."nijiHanteiNinteiYukoKikan"
                                AND D."nijiHanteiNinteiYukoKikan" <![CDATA[<=]]> 12)
                            </when>
                            <when test='"2".equals(jyotaiHenkoKubun.toString())'>
                                AND (I."nijiHanteiYokaigoJotaiKubunCode" IN ('21', '22', '23', '24', '25')
                                AND D."nijiHanteiYokaigoJotaiKubunCode" IN ('12', '13')
                                AND 6 <![CDATA[<=]]> D."nijiHanteiNinteiYukoKikan"
                                AND D."nijiHanteiNinteiYukoKikan" <![CDATA[<=]]> 12)
                            </when>
                            <when test='"3".equals(jyotaiHenkoKubun.toString())'>
                                AND (I."nijiHanteiYokaigoJotaiKubunCode" IN ('21', '22', '23', '24', '25')
                                AND D."nijiHanteiYokaigoJotaiKubunCode" IN ('21', '22', '23', '24', '25')
                                AND 12 <![CDATA[<=]]> D."nijiHanteiNinteiYukoKikan"
                                AND D."nijiHanteiNinteiYukoKikan" <![CDATA[<=]]> 24)
                            </when>
                        </choose>
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY D."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY D."nijiHanteiYokaigoJotaiKubunCode"
    </select>

    <select resultOrdered="true" id="getShinsakaishukeihyoHanteiBetsuHeader"
            resultMap="hokokushiryosakusei_SinsakaiHanteiJyokyoHeader"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.ShinsakaishukeihyoHanteiBetsuMyBatisParameter"
            fetchSize="500">
        SELECT S.* ,
        (SELECT COUNT(G."shinsakaiKaisaiNo")
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" G
        INNER JOIN rgdb."DbT5502ShinsakaiWariateJoho" dbt5502
        ON G."shinsakaiKaisaiNo" = dbt5502."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT5101NinteiShinseiJoho" dbt5101
        ON dbt5502."shinseishoKanriNo" = dbt5101."shinseishoKanriNo"
        WHERE
        <choose>
            <when test="!isEmptyGogitaiNo">
                G."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                G."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        <if test="!isEmptyHokensyaNo">
            AND dbt5101."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test="isTaishoTsukiKubun">
                <if test="!isTaishoGeppiKubun">
                    AND SUBSTR(G."shinsakaiKaisaiYMD", 1, 6) = #{taishoNendoYM}
                </if>
            </when>
            <otherwise>
                <if test="isTaishoGeppiKubun">
                    <choose>
                        <when test="!isEmptyTaishoGeppiFrom">
                            <choose>
                                <when test="!isEmptyTaishoGeppiTo">
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> G."shinsakaiKaisaiYMD"
                                    AND G."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                                </when>
                                <otherwise>
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> G."shinsakaiKaisaiYMD"
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            AND G."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </otherwise>
                    </choose>
                </if>
            </otherwise>
        </choose>
        ) AS shinsakaiKaisaiNoCount
        FROM
        (SELECT
        MIN(A."shinsakaiKaisaiYMD") AS shinsakaiKaisaiYMDMin
        ,MAX(A."shinsakaiKaisaiYMD") AS shinsakaiKaisaiYMDMax
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" A
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" B
        ON A."shinsakaiKaisaiNo" = B."shinsakaiKaisaiNo"
        LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" C
        ON B."shinseishoKanriNo" = C."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" D
        ON D."shinseishoKanriNo" = C."shinseishoKanriNo"
        WHERE D."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND D."ninteichosaKanryoYMD" IS NOT NULL
        AND D."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND D."ichijiHanteiKanryoYMD" IS NOT NULL
        AND D."maskingKanryoYMD" IS NOT NULL
        AND D."ninteiShinsakaiKanryoYMD" IS NOT NULL
        <if test="!isEmptyHokensyaNo">
            AND C."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <choose>
            <when test="isTaishoTsukiKubun">
                <if test="!isTaishoGeppiKubun">
                    AND SUBSTR(A."shinsakaiKaisaiYMD", 1, 6) = #{taishoNendoYM}
                </if>
            </when>
            <otherwise>
                <if test="isTaishoGeppiKubun">
                    <choose>
                        <when test="!isEmptyTaishoGeppiFrom">
                            <choose>
                                <when test="!isEmptyTaishoGeppiTo">
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
                                    AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                                </when>
                                <otherwise>
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </otherwise>
                    </choose>
                </if>
            </otherwise>
        </choose>
        <choose>
            <when test="!isEmptyGogitaiNo">
                AND A."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                AND A."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        <if test="isShinseiji">
            AND C."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND C."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>
        ) AS S
    </select>

    <select resultOrdered="true" id="getShinsakaishukeihyoHanteiBetsu"
            resultMap="hokokushiryosakusei_ShinsakaishukeihyoHanteiBetsu"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.ShinsakaishukeihyoHanteiBetsuMyBatisParameter"
            fetchSize="500">
        SELECT I."nijiHanteiYokaigoJotaiKubunCode" AS zenkaiNijiHantei
        , D."nijiHanteiYokaigoJotaiKubunCode" AS konkaiNijiHantei
        , COUNT(C."hihokenshaNo") AS hihokenshaCount
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" A
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" B
        ON A."shinsakaiKaisaiNo" = B."shinsakaiKaisaiNo"
        LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" C
        ON B."shinseishoKanriNo" = C."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" D
        ON C."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" E
        ON C."shinseishoKanriNo" = E."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5121ShinseiRirekiJoho" H
        ON C."shinseishoKanriNo" = H."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" I
        ON I."shinseishoKanriNo" = H."zenkaiShinseishoKanriNo"
        WHERE #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
        AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
        AND E."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND E."ninteichosaKanryoYMD" IS NOT NULL
        AND E."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND E."ichijiHanteiKanryoYMD" IS NOT NULL
        AND E."maskingKanryoYMD" IS NOT NULL
        AND E."ninteiShinsakaiKanryoYMD" IS NOT NULL
        AND D."nijiHanteiYokaigoJotaiKubunCode" IN ('01', '12', '13', '21', '22', '23', '24', '25')
        AND I."nijiHanteiYokaigoJotaiKubunCode" IN ('01', '12', '13', '21', '22', '23', '24', '25')
        <if test="!isEmptyHokensyaNo">
            AND C."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <choose>
            <when test="!isEmptyGogitaiNo">
                AND A."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                AND A."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        GROUP BY I."nijiHanteiYokaigoJotaiKubunCode"
        ,D."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY I."nijiHanteiYokaigoJotaiKubunCode"
        ,D."nijiHanteiYokaigoJotaiKubunCode"
    </select>

    <select resultOrdered="true" id="getShinsakaiShukeihyoShinseiBetsu"
            resultMap="hokokushiryosakusei_ShinsakaiShukeihyoShinseiBetsu"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.ShinsakaiShukeihyoShinseiBetsuMyBatisParameter"
            fetchSize="500">
        SELECT * FROM
        ((SELECT F."shichosonCode"
        , 1 AS niTeiShinseiKubun
        , 0 AS niTeiJokyo
        , F."shichosonMeisho"
        , A."ninteiShinseiShinseijiKubunCode"
        , '0' AS "ninteiShinseiHoreiKubunCode"
        , COUNT(A."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND A."ninteiShinseiShinseijiKubunCode" IN('1', '2', '3', '5')
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(B."ninteiShinseiJohoTorokuKanryoYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinseiJohoTorokuKanryoYMD"
                                AND B."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                            </when>
                            <otherwise>
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinseiJohoTorokuKanryoYMD"
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND B."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY F."shichosonCode"
        , F."shichosonMeisho"
        , A."ninteiShinseiShinseijiKubunCode"
        ORDER BY F."shichosonCode"
        , A."ninteiShinseiShinseijiKubunCode")
        UNION ALL
        (SELECT F."shichosonCode"
        , 1 AS niTeiShinseiKubun
        , 1 AS niTeiJokyo
        , F."shichosonMeisho"
        , A."ninteiShinseiShinseijiKubunCode"
        , '0' AS "ninteiShinseiHoreiKubunCode"
        , COUNT(A."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND A."ninteiShinseiShinseijiKubunCode" IN('1', '2', '3', '5')
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(B."ninteichosaKanryoYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteichosaKanryoYMD"
                                AND B."ninteichosaKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                            </when>
                            <otherwise>
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteichosaKanryoYMD"
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND B."ninteichosaKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY F."shichosonCode"
        , F."shichosonMeisho"
        , A."ninteiShinseiShinseijiKubunCode"
        ORDER BY F."shichosonCode"
        , A."ninteiShinseiShinseijiKubunCode")
        UNION ALL
        (SELECT F."shichosonCode"
        , 1 AS niTeiShinseiKubun
        , 2 AS niTeiJokyo
        , F."shichosonMeisho"
        , A."ninteiShinseiShinseijiKubunCode"
        , '0' AS "ninteiShinseiHoreiKubunCode"
        , COUNT(A."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND A."ninteiShinseiShinseijiKubunCode" IN('1', '2', '3', '5')
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(B."ikenshoTorokuKanryoYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ikenshoTorokuKanryoYMD"
                                AND B."ikenshoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                            </when>
                            <otherwise>
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ikenshoTorokuKanryoYMD"
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND B."ikenshoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY F."shichosonCode"
        , F."shichosonMeisho"
        , A."ninteiShinseiShinseijiKubunCode"
        ORDER BY F."shichosonCode"
        , A."ninteiShinseiShinseijiKubunCode")
        UNION ALL
        (SELECT F."shichosonCode"
        , 1 AS niTeiShinseiKubun
        , 3 AS niTeiJokyo
        , F."shichosonMeisho"
        , A."ninteiShinseiShinseijiKubunCode"
        , '0' AS "ninteiShinseiHoreiKubunCode"
        , COUNT(A."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND A."ninteiShinseiShinseijiKubunCode" IN('1', '2', '3', '5')
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(B."ninteiShinsakaiWariateKanryoYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinsakaiWariateKanryoYMD"
                                AND B."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                            </when>
                            <otherwise>
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinsakaiWariateKanryoYMD"
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND B."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY F."shichosonCode"
        , F."shichosonMeisho"
        , A."ninteiShinseiShinseijiKubunCode"
        ORDER BY F."shichosonCode"
        , A."ninteiShinseiShinseijiKubunCode")
        UNION ALL
        (SELECT F."shichosonCode"
        , 1 AS niTeiShinseiKubun
        , 4 AS niTeiJokyo
        , F."shichosonMeisho"
        , A."ninteiShinseiShinseijiKubunCode"
        , '0' AS "ninteiShinseiHoreiKubunCode"
        , COUNT(A."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" C
        ON A."shinseishoKanriNo" = C."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND A."ninteiShinseiShinseijiKubunCode" IN('1', '2', '3', '5')
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(C."nijiHanteiYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> C."nijiHanteiYMD"
                                AND C."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                            </when>
                            <otherwise>
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> C."nijiHanteiYMD"
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND C."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY F."shichosonCode"
        , F."shichosonMeisho"
        , A."ninteiShinseiShinseijiKubunCode"
        ORDER BY F."shichosonCode"
        , A."ninteiShinseiShinseijiKubunCode")
        UNION ALL
        (SELECT F."shichosonCode"
        , 2 AS niTeiShinseiKubun
        , 0 AS niTeiJokyo
        , F."shichosonMeisho"
        , '0' AS "ninteiShinseiShinseijiKubunCode"
        , A."ninteiShinseiHoreiKubunCode"
        , COUNT(A."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND A."ninteiShinseiHoreiKubunCode" IN('1', '2', '3')
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(B."ninteiShinseiJohoTorokuKanryoYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinseiJohoTorokuKanryoYMD"
                                AND B."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                            </when>
                            <otherwise>
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinseiJohoTorokuKanryoYMD"
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND B."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY F."shichosonCode"
        , F."shichosonMeisho"
        , A."ninteiShinseiHoreiKubunCode"
        ORDER BY F."shichosonCode"
        , A."ninteiShinseiHoreiKubunCode")
        UNION ALL
        (SELECT F."shichosonCode"
        , 2 AS niTeiShinseiKubun
        , 1 AS niTeiJokyo
        , F."shichosonMeisho"
        , '0' AS "ninteiShinseiShinseijiKubunCode"
        , A."ninteiShinseiHoreiKubunCode"
        , COUNT(A."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND A."ninteiShinseiHoreiKubunCode" IN('1', '2', '3')
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(B."ninteichosaKanryoYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteichosaKanryoYMD"
                                AND B."ninteichosaKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                            </when>
                            <otherwise>
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteichosaKanryoYMD"
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND B."ninteichosaKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY F."shichosonCode"
        , F."shichosonMeisho"
        , A."ninteiShinseiHoreiKubunCode"
        ORDER BY F."shichosonCode"
        , A."ninteiShinseiHoreiKubunCode")
        UNION ALL
        (SELECT F."shichosonCode"
        , 2 AS niTeiShinseiKubun
        , 2 AS niTeiJokyo
        , F."shichosonMeisho"
        , '0' AS "ninteiShinseiShinseijiKubunCode"
        , A."ninteiShinseiHoreiKubunCode"
        , COUNT(A."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND A."ninteiShinseiHoreiKubunCode" IN('1', '2', '3')
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(B."ikenshoTorokuKanryoYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ikenshoTorokuKanryoYMD"
                                AND B."ikenshoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                            </when>
                            <otherwise>
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ikenshoTorokuKanryoYMD"
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND B."ikenshoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY F."shichosonCode"
        , F."shichosonMeisho"
        , A."ninteiShinseiHoreiKubunCode"
        ORDER BY F."shichosonCode"
        , A."ninteiShinseiHoreiKubunCode")
        UNION ALL
        (SELECT F."shichosonCode"
        , 2 AS niTeiShinseiKubun
        , 3 AS niTeiJokyo
        , F."shichosonMeisho"
        , '0' AS "ninteiShinseiShinseijiKubunCode"
        , A."ninteiShinseiHoreiKubunCode"
        , COUNT(A."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND A."ninteiShinseiHoreiKubunCode" IN('1', '2', '3')
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(B."ninteiShinsakaiWariateKanryoYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinsakaiWariateKanryoYMD"
                                AND B."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                            </when>
                            <otherwise>
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinsakaiWariateKanryoYMD"
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND B."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY F."shichosonCode"
        , F."shichosonMeisho"
        , A."ninteiShinseiHoreiKubunCode"
        ORDER BY F."shichosonCode"
        , A."ninteiShinseiHoreiKubunCode")
        UNION ALL
        (SELECT F."shichosonCode"
        , 2 AS niTeiShinseiKubun
        , 4 AS niTeiJokyo
        , F."shichosonMeisho"
        , '0' AS "ninteiShinseiShinseijiKubunCode"
        , A."ninteiShinseiHoreiKubunCode"
        , COUNT(A."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" C
        ON A."shinseishoKanriNo" = C."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND A."ninteiShinseiHoreiKubunCode" IN('1', '2', '3')
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(C."nijiHanteiYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> C."nijiHanteiYMD"
                                AND C."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                            </when>
                            <otherwise>
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> C."nijiHanteiYMD"
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND C."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY F."shichosonCode"
        , F."shichosonMeisho"
        , A."ninteiShinseiHoreiKubunCode"
        ORDER BY F."shichosonCode"
        , A."ninteiShinseiHoreiKubunCode")
        UNION ALL
        (SELECT F."shichosonCode"
        , 3 AS niTeiShinseiKubun
        , 9 AS niTeiJokyo
        , F."shichosonMeisho"
        , A."ninteiShinseiShinseijiKubunCode"
        , A."ninteiShinseiHoreiKubunCode"
        , COUNT(A."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5101NinteiShinseiJoho" A
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" C
        ON A."shinseishoKanriNo" = C."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON A."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON A."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE A."logicalDeletedFlag" = FALSE
        AND A."ninteiShinseiShinseijiKubunCode" IN('1', '2', '3')
        AND A."ninteiShinseiHoreiKubunCode" IN('1', '2', '3', '4')
        <include refid="kensakuJyokenKyotsu" />
        <choose>
            <when test="isTaishoTsukiKubun">
                AND (SUBSTR(B."ninteiShinseiJohoTorokuKanryoYMD", 1, 6) = #{taishoNendoYM}
                OR SUBSTR(B."ninteichosaKanryoYMD", 1, 6) = #{taishoNendoYM}
                OR SUBSTR(B."ikenshoTorokuKanryoYMD", 1, 6) = #{taishoNendoYM}
                OR SUBSTR(B."ninteiShinsakaiWariateKanryoYMD", 1, 6) = #{taishoNendoYM}
                OR SUBSTR(C."nijiHanteiYMD", 1, 6) = #{taishoNendoYM} )
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND ((#{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinseiJohoTorokuKanryoYMD"
                                AND B."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo})
                                OR (#{taishoGeppiFrom} <![CDATA[<=]]> B."ninteichosaKanryoYMD"
                                AND B."ninteichosaKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo})
                                OR (#{taishoGeppiFrom} <![CDATA[<=]]> B."ikenshoTorokuKanryoYMD"
                                AND B."ikenshoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo})
                                OR (#{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinsakaiWariateKanryoYMD"
                                AND B."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo})
                                OR (#{taishoGeppiFrom} <![CDATA[<=]]> C."nijiHanteiYMD"
                                AND C."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo}))
                            </when>
                            <otherwise>
                                AND (#{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinseiJohoTorokuKanryoYMD"
                                OR #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteichosaKanryoYMD"
                                OR #{taishoGeppiFrom} <![CDATA[<=]]> B."ikenshoTorokuKanryoYMD"
                                OR #{taishoGeppiFrom} <![CDATA[<=]]> B."ninteiShinsakaiWariateKanryoYMD"
                                OR #{taishoGeppiFrom} <![CDATA[<=]]> C."nijiHanteiYMD")
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND (B."ninteiShinseiJohoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        OR B."ninteichosaKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        OR B."ikenshoTorokuKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        OR B."ninteiShinsakaiWariateKanryoYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        OR C."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo})
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        GROUP BY F."shichosonCode"
        , F."shichosonMeisho"
        , A."ninteiShinseiHoreiKubunCode"
        , A."ninteiShinseiShinseijiKubunCode"
        ORDER BY F."shichosonCode"
        , A."ninteiShinseiHoreiKubunCode"
        , A."ninteiShinseiShinseijiKubunCode")) shinsakaiShukeihyoShinseiBetsu
        ORDER BY
        "shichosonCode"
        , niTeiShinseiKubun
        , niTeiJokyo
        , "ninteiShinseiHoreiKubunCode"
        , "ninteiShinseiShinseijiKubunCode"
    </select>

    <select resultOrdered="true" id="getShinsakaiShukeiGenzainojokyo"
            resultMap="hokokushiryosakusei_ShinsakaiShukeiGenzainojokyo"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.ShinsakaiShukeiGenzainojokyoMyBatisParameter"
            fetchSize="500">
        SELECT * FROM
        ( (SELECT G."shichosonCode"
        , 0 AS shinseiKubun
        , 0 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '1'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '1'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '1'
            OR B."ninteiShinseiHoreiKubunCode" = '1')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 6
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 0 AS shinseiKubun
        , 1 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '1'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '1'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '1'
            OR B."ninteiShinseiHoreiKubunCode" = '1')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 12
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 0 AS shinseiKubun
        , 2 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '1'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '1'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '1'
            OR B."ninteiShinseiHoreiKubunCode" = '1')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 24
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 0 AS shinseiKubun
        , 3 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '1'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '1'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '1'
            OR B."ninteiShinseiHoreiKubunCode" = '1')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" NOT IN (6, 12, 24)
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 1 AS shinseiKubun
        , 0 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '2'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '2'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '2'
            OR B."ninteiShinseiHoreiKubunCode" = '2')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 6
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 1 AS shinseiKubun
        , 1 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '2'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '2'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '2'
            OR B."ninteiShinseiHoreiKubunCode" = '2')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 12
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 1 AS shinseiKubun
        , 2 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '2'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '2'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '2'
            OR B."ninteiShinseiHoreiKubunCode" = '2')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 24
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 1 AS shinseiKubun
        , 3 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '2'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '2'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '2'
            OR B."ninteiShinseiHoreiKubunCode" = '2')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" NOT IN (6, 12, 24)
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 2 AS shinseiKubun
        , 0 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '3'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '3'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '3'
            OR B."ninteiShinseiHoreiKubunCode" = '3')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 6
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 2 AS shinseiKubun
        , 1 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '3'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '3'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '3'
            OR B."ninteiShinseiHoreiKubunCode" = '3')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 12
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 2 AS shinseiKubun
        , 2 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '3'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '3'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '3'
            OR B."ninteiShinseiHoreiKubunCode" = '3')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 24
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 2 AS shinseiKubun
        , 3 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '3'
        </if>
        <if test="isHorei">
            AND B."ninteiShinseiHoreiKubunCode" = '3'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND (B."ninteiShinseiShinseijiKubunCode" = '3'
            OR B."ninteiShinseiHoreiKubunCode" = '3')
        </if>
        AND A."nijiHanteiNinteiYukoKikan" NOT IN (6, 12, 24)
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 3 AS shinseiKubun
        , 0 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '5'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND B."ninteiShinseiShinseijiKubunCode" = '5'
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 6
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 3 AS shinseiKubun
        , 1 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '5'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND B."ninteiShinseiShinseijiKubunCode" = '5'
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 12
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 3 AS shinseiKubun
        , 2 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '5'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND B."ninteiShinseiShinseijiKubunCode" = '5'
        </if>
        AND A."nijiHanteiNinteiYukoKikan" = 24
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")
        UNION ALL
        (SELECT G."shichosonCode"
        , 3 AS shinseiKubun
        , 3 AS yukoKikan
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(B."hihokenshaNo") AS countHihokenshaNo
        FROM rgdb."DbT5102NinteiKekkaJoho" A
        <include refid="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo"/>
        <if test="isShinseiji">
            AND B."ninteiShinseiShinseijiKubunCode" = '5'
        </if>
        <if test="!isShinseiji and !isHorei">
            AND B."ninteiShinseiShinseijiKubunCode" = '5'
        </if>
        AND A."nijiHanteiNinteiYukoKikan" NOT IN (6, 12, 24)
        GROUP BY
        G."shichosonCode"
        , G."shichosonMeisho"
        , A."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        G."shichosonCode"
        , A."nijiHanteiYokaigoJotaiKubunCode")) ShinsakaiShukeiGenzainojokyo
        ORDER BY
        "shichosonCode"
        , shinseiKubun
        , yukoKikan
        , "nijiHanteiYokaigoJotaiKubunCode"
    </select>

    <select resultOrdered="true" id="getCsvKenHokokuShiryoSakuseiHeader"
            resultMap="hokokushiryosakusei_CsvKenHokokuShiryoSakuseiHeader"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.CsvKenHokokuShiryoSakuseiMyBatisParameter"
            fetchSize="500">
        SELECT
        <if test="!isEmptyGogitaiNo">
            A."gogitaiNo",
            E."gogitaiMei",
        </if>
        F."shichosonCode"
        ,F."shichosonMeisho"
        ,C."shoKisaiHokenshaNo"
        ,MIN(A."shinsakaiKaisaiYMD") AS shinsakaiKaisaiYMDMin
        ,MAX(A."shinsakaiKaisaiYMD") AS shinsakaiKaisaiYMDMax
        ,COUNT(A."shinsakaiKaisaiNo") AS shinsakaiKaisaiNoCount
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" A
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" B
        ON A."shinsakaiKaisaiNo" = B."shinsakaiKaisaiNo"
        LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" C
        ON B."shinseishoKanriNo" = C."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" D
        ON D."shinseishoKanriNo" = C."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5591GogitaiJoho" E
        ON A."gogitaiNo" = E."gogitaiNo"
        AND E."gogitaiYukoKikanKaishiYMD" <![CDATA[<=]]> TO_CHAR(NOW(), 'YYYYMMDD')
        AND TO_CHAR(NOW(), 'YYYYMMDD') <![CDATA[<=]]> E."gogitaiYukoKikanShuryoYMD"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" F
        ON C."shoKisaiHokenshaNo" = F."shoKisaiHokenshaNo"
        WHERE D."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND D."ninteichosaKanryoYMD" IS NOT NULL
        AND D."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND D."ichijiHanteiKanryoYMD" IS NOT NULL
        AND D."maskingKanryoYMD" IS NOT NULL
        AND D."ninteiShinsakaiKanryoYMD" IS NOT NULL
        <if test="!isEmptyHokensyaNo">
            AND C."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <choose>
            <when test="isTaishoTsukiKubun">
                <if test="!isTaishoGeppiKubun">
                    AND SUBSTR(A."shinsakaiKaisaiYMD", 1, 6) = #{taishoNendoYM}
                </if>
            </when>
            <otherwise>
                <if test="isTaishoGeppiKubun">
                    <choose>
                        <when test="!isEmptyTaishoGeppiFrom">
                            <choose>
                                <when test="!isEmptyTaishoGeppiTo">
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
                                    AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                                </when>
                                <otherwise>
                                    AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
                                </otherwise>
                            </choose>
                        </when>
                        <otherwise>
                            AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                        </otherwise>
                    </choose>
                </if>
            </otherwise>
        </choose>
        <choose>
            <when test="!isEmptyGogitaiNo">
                AND A."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                AND A."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        <if test="isShinseiji">
            AND C."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND C."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>
        GROUP BY
        <if test="!isEmptyGogitaiNo">
            A."gogitaiNo",
            E."gogitaiMei",
        </if>
        F."shichosonCode"
        ,F."shichosonMeisho"
        ,C."shoKisaiHokenshaNo"
        ORDER BY
        <if test="!isEmptyGogitaiNo">
            A."gogitaiNo",
        </if>
        F."shichosonCode"
        ,C."shoKisaiHokenshaNo"
    </select>

    <select resultOrdered="true" id="getCsvKenHokokuShiryoSakusei"
            resultMap="hokokushiryosakusei_CsvKenHokokuShiryoSakusei"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.hokokushiryosakusei.CsvKenHokokuShiryoSakuseiMyBatisParameter"
            fetchSize="500">
        SELECT E."ichijiHanteiKekkaCode"
        , D."nijiHanteiYokaigoJotaiKubunCode"
        , COUNT(C."hihokenshaNo") AS hihokenshaCount
        FROM rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" A
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" B
        ON A."shinsakaiKaisaiNo" = B."shinsakaiKaisaiNo"
        LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" C
        ON B."shinseishoKanriNo" = C."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5102NinteiKekkaJoho" D
        ON C."shinseishoKanriNo" = D."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5116IchijiHanteiKekkaJoho" E
        ON C."shinseishoKanriNo" = E."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" F
        ON C."shinseishoKanriNo" = F."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5591GogitaiJoho" G
        ON A."gogitaiNo" = G."gogitaiNo"
        AND G."gogitaiYukoKikanKaishiYMD" <![CDATA[<=]]> TO_CHAR(NOW(), 'YYYYMMDD')
        AND TO_CHAR(NOW(), 'YYYYMMDD') <![CDATA[<=]]> G."gogitaiYukoKikanShuryoYMD"
        LEFT JOIN rgdb."DbT7051KoseiShichosonMaster" H
        ON C."shoKisaiHokenshaNo" = H."shoKisaiHokenshaNo"
        WHERE
        <choose>
            <when test="!isEmptyGogitaiNo">
                A."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                A."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
        AND #{taishoGeppiFrom} <![CDATA[<=]]> A."shinsakaiKaisaiYMD"
        AND A."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
        AND H."shichosonCode" = #{shichosonCode}
        AND F."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND F."ninteichosaKanryoYMD" IS NOT NULL
        AND F."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND F."ichijiHanteiKanryoYMD" IS NOT NULL
        AND F."maskingKanryoYMD" IS NOT NULL
        AND F."ninteichosaKanryoYMD" IS NOT NULL
        AND E."ichijiHanteiKekkaCode" IN ('01', '12', '13', '21', '22', '23', '24', '25')
        AND D."nijiHanteiYokaigoJotaiKubunCode" IN ('01', '12', '13', '21', '22', '23', '24', '25')
        <if test="!isEmptyHokensyaNo">
            AND C."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND C."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <if test="isShinseiji">
            AND C."ninteiShinseiShinseijiKubunCode" IN ('1', '2', '3')
        </if>
        <if test="isHorei">
            AND C."ninteiShinseiHoreiKubunCode" IN ('1', '2', '3')
        </if>
        GROUP BY
        E."ichijiHanteiKekkaCode"
        , D."nijiHanteiYokaigoJotaiKubunCode"
        ORDER BY
        E."ichijiHanteiKekkaCode"
        , D."nijiHanteiYokaigoJotaiKubunCode"
    </select>

    <resultMap id="hokokushiryosakusei_JisshiJokyoTokei"
               type="jp.co.ndensan.reams.db.dbe.entity.db.relate.hokokushiryosakusei.JisshiJokyoTokeiEntity"
               autoMapping="true">
        <result property="shichosonCode" column="shichosonCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.LasdecCodeTypeHandler" />
        <result property="niTeiJokyo" column="niTeiJokyo" />
        <result property="shichosonMeisho" column="shichosonMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="shoKisaiHokenshaNo" column="shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="ninteiShinseiShinseijiKubunCode" column="ninteiShinseiShinseijiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="ninteiShinseiHoreiKubunCode" column="ninteiShinseiHoreiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="countKensu" column="countKensu" />
    </resultMap>

    <resultMap id="hokokushiryosakusei_JigyoJyokyoHokokuHeader"
               type="jp.co.ndensan.reams.db.dbe.entity.db.relate.hokokushiryosakusei.JigyoJyokyoHokokuHeaderEntity"
               autoMapping="true">
        <result property="nijiHanteiYM" column="nijiHanteiYM" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearMonthTypeHandler" />
        <result property="nijiHanteiYokaigoJotaiKubunCode" column="nijiHanteiYokaigoJotaiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="hihokenshaKubunCode" column="hihokenshaKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="age" column="age" />
        <result property="shoKisaiHokenshaNo" column="shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="ninteiShinseiShinseijiKubunCode" column="ninteiShinseiShinseijiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="ninteiShinseiHoreiKubunCode" column="ninteiShinseiHoreiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="shichosonCode" column="shichosonCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.LasdecCodeTypeHandler" />
        <result property="shichosonMeisho" column="shichosonMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
    </resultMap>

    <resultMap id="hokokushiryosakusei_JigyoJyokyoHokoku"
               type="jp.co.ndensan.reams.db.dbe.entity.db.relate.hokokushiryosakusei.JigyoJyokyoHokokuEntity"
               autoMapping="true">
        <result property="nijiHanteiYM" column="nijiHanteiYM" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleYearMonthTypeHandler" />
        <result property="shichosonCode" column="shichosonCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.LasdecCodeTypeHandler" />
        <result property="shichosonMeisho" column="shichosonMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="shoKisaiHokenshaNo" column="shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="nijiHanteiYokaigoJotaiKubunCode" column="nijiHanteiYokaigoJotaiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="hihokenshaKubunCode" column="hihokenshaKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="countHokensha" column="countHokensha" />
    </resultMap>

    <resultMap id="hokokushiryosakusei_gogitaiNo" type="jp.co.ndensan.reams.db.dbz.entity.db.basic.DbT5591GogitaiJohoEntity" autoMapping="true">
        <id column="gogitaiNo" property="gogitaiNo"/>
        <result property="gogitaiMei" column="gogitaiMei" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
    </resultMap>

    <resultMap id="hokokushiryosakusei_SinsakaiHanteiJyokyoHeader"
               type="jp.co.ndensan.reams.db.dbe.entity.db.relate.hokokushiryosakusei.SinsakaiHanteiJyokyoHeaderEntity"
               autoMapping="true">
        <result property="shinsakaiKaisaiYMDMin" column="shinsakaiKaisaiYMDMin" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="shinsakaiKaisaiYMDMax" column="shinsakaiKaisaiYMDMax" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="shinsakaiKaisaiNoCount" column="shinsakaiKaisaiNoCount" />
    </resultMap>

    <resultMap id="hokokushiryosakusei_CsvKenHokokuShiryoSakuseiHeader"
               type="jp.co.ndensan.reams.db.dbe.entity.db.relate.hokokushiryosakusei.CsvKenHokokuShiryoSakuseiHeaderEntity"
               autoMapping="true">
        <result property="gogitaiNo" column="gogitaiNo"/>
        <result property="gogitaiMei" column="gogitaiMei" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="shichosonCode" column="shichosonCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.LasdecCodeTypeHandler" />
        <result property="shichosonMeisho" column="shichosonMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="shoKisaiHokenshaNo" column="shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="ninteiShinseiShinseijiKubunCode" column="ninteiShinseiShinseijiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="ninteiShinseiHoreiKubunCode" column="ninteiShinseiHoreiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="shinsakaiKaisaiYMDMin" column="shinsakaiKaisaiYMDMin" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="shinsakaiKaisaiYMDMax" column="shinsakaiKaisaiYMDMax" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="shinsakaiKaisaiNoCount" column="shinsakaiKaisaiNoCount" />
    </resultMap>

    <resultMap id="hokokushiryosakusei_SinsakaiHanteiJyokyo"
               type="jp.co.ndensan.reams.db.dbe.entity.db.relate.hokokushiryosakusei.SinsakaiHanteiJyokyoEntity"
               autoMapping="true">
        <result property="ichijiHanteiKekkaNinchishoKasanCode" column="ichijiHanteiKekkaNinchishoKasanCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="nijiHanteiYokaigoJotaiKubunCode" column="nijiHanteiYokaigoJotaiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="ninteiShinseiShinseijiKubunCode" column="ninteiShinseiShinseijiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="ninteiShinseiHoreiKubunCode" column="ninteiShinseiHoreiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="hihokenshaCount" column="hihokenshaCount" />
    </resultMap>

    <resultMap id="hokokushiryosakusei_CsvKenHokokuShiryoSakusei"
               type="jp.co.ndensan.reams.db.dbe.entity.db.relate.hokokushiryosakusei.CsvKenHokokuShiryoEntity"
               autoMapping="true">
        <result property="ichijiHanteiKekkaCode" column="ichijiHanteiKekkaCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="nijiHanteiYokaigoJotaiKubunCode" column="nijiHanteiYokaigoJotaiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="hihokenshaCount" column="hihokenshaCount" />
    </resultMap>

    <resultMap id="hokokushiryosakusei_ShinsakaishukeihyoHanteiBetsu"
               type="jp.co.ndensan.reams.db.dbe.entity.db.relate.hokokushiryosakusei.ShinsakaishukeihyoHanteiBetsuEntity"
               autoMapping="true">
        <result property="zenkaiNijiHantei" column="zenkaiNijiHantei" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="konkaiNijiHantei" column="konkaiNijiHantei" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="hihokenshaCount" column="hihokenshaCount" />
    </resultMap>

    <resultMap id="hokokushiryosakusei_ShinsakaiShukeihyoShinseiBetsu"
               type="jp.co.ndensan.reams.db.dbe.entity.db.relate.hokokushiryosakusei.ShinsakaiShukeihyoShinseiBetsuEntity"
               autoMapping="true">
        <result property="shichosonCode" column="shichosonCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.LasdecCodeTypeHandler" />
        <result property="shichosonMeisho" column="shichosonMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="niTeiShinseiKubun" column="niTeiShinseiKubun" />
        <result property="niTeiJokyo" column="niTeiJokyo" />
        <result property="ninteiShinseiShinseijiKubunCode" column="ninteiShinseiShinseijiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="ninteiShinseiHoreiKubunCode" column="ninteiShinseiHoreiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="countHihokenshaNo" column="countHihokenshaNo" />
    </resultMap>

    <resultMap id="hokokushiryosakusei_ShinsakaiShukeiGenzainojokyo"
               type="jp.co.ndensan.reams.db.dbe.entity.db.relate.hokokushiryosakusei.ShinsakaiShukeihyoGenzaiEntity"
               autoMapping="true">
        <result property="shichosonCode" column="shichosonCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.LasdecCodeTypeHandler" />
        <result property="shichosonMeisho" column="shichosonMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="shinseiKubun" column="shinseiKubun" />
        <result property="yukoKikan" column="yukoKikan" />
        <result property="nijiHanteiYokaigoJotaiKubunCode" column="nijiHanteiYokaigoJotaiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
        <result property="countHihokenshaNo" column="countHihokenshaNo" />
    </resultMap>

    <sql id="kensakuJyokenKyotsu">
        <if test="!isEmptyHokensyaNo">
            AND A."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND A."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND A."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND A."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND A."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND A."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND A."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND A."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <choose>
            <when test="!isEmptyGogitaiNo">
                AND E."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                AND E."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
    </sql>

    <sql id="kensakuJyokenKyotsu_ShinsakaiShukeiGenzainojokyo">
        INNER JOIN rgdb."DbT5101NinteiShinseiJoho" B
        ON A."shinseishoKanriNo" = B."shinseishoKanriNo"
        INNER JOIN rgdb."DbT5105NinteiKanryoJoho" C
        ON B."shinseishoKanriNo" = C."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" D
        ON B."shinseishoKanriNo" = D."shinseishoKanriNo"
        LEFT JOIN rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" E
        ON D."shinsakaiKaisaiNo" = E."shinsakaiKaisaiNo"
        LEFT JOIN rgdb."DbT5591GogitaiJoho" F
        ON E."gogitaiNo" = F."gogitaiNo"
        AND F."gogitaiYukoKikanKaishiYMD" <![CDATA[<=]]> TO_CHAR(NOW(), 'YYYYMMDD')
        AND TO_CHAR(NOW(), 'YYYYMMDD') <![CDATA[<=]]> F."gogitaiYukoKikanShuryoYMD"
        INNER JOIN rgdb."DbT7051KoseiShichosonMaster" G
        ON B."shoKisaiHokenshaNo" = G."shoKisaiHokenshaNo"
        WHERE C."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
        AND C."ninteichosaKanryoYMD" IS NOT NULL
        AND C."ikenshoTorokuKanryoYMD" IS NOT NULL
        AND C."ichijiHanteiKanryoYMD" IS NOT NULL
        AND C."maskingKanryoYMD" IS NOT NULL
        AND C."ninteiShinsakaiKanryoYMD" IS NOT NULL
        AND A."nijiHanteiYokaigoJotaiKubunCode" IN ('01', '12', '13', '21', '22', '23', '24', '25')
        <if test="!isEmptyHokensyaNo">
            AND B."shoKisaiHokenshaNo" = #{hokensyaNo}
        </if>
        <choose>
            <when test='"0".equals(hihokenshaKubun.toString())'>
                AND B."hihokenshaKubunCode" IN ('1', '2', '3')
            </when>
            <when test='"1".equals(hihokenshaKubun.toString())'>
                AND B."hihokenshaKubunCode" = '1'
            </when>
            <when test='"2".equals(hihokenshaKubun.toString())'>
                AND B."hihokenshaKubunCode" = '2'
            </when>
            <when test='"3".equals(hihokenshaKubun.toString())'>
                AND B."hihokenshaKubunCode" = '3'
            </when>
            <when test='"4".equals(hihokenshaKubun.toString())'>
                AND B."hihokenshaKubunCode" IN ('1', '2')
            </when>
            <when test='"5".equals(hihokenshaKubun.toString())'>
                AND B."hihokenshaKubunCode" IN ('1', '3')
            </when>
            <when test='"6".equals(hihokenshaKubun.toString())'>
                AND B."hihokenshaKubunCode" IN ('2', '3')
            </when>
        </choose>
        <choose>
            <when test="isTaishoTsukiKubun">
                AND SUBSTR(A."nijiHanteiYMD", 1, 6) = #{taishoNendoYM}
            </when>
            <otherwise>
                <choose>
                    <when test="!isEmptyTaishoGeppiFrom">
                        <choose>
                            <when test="!isEmptyTaishoGeppiTo">
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> A."nijiHanteiYMD"
                                AND A."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                            </when>
                            <otherwise>
                                AND #{taishoGeppiFrom} <![CDATA[<=]]> A."nijiHanteiYMD"
                            </otherwise>
                        </choose>
                    </when>
                    <otherwise>
                        AND A."nijiHanteiYMD" <![CDATA[<=]]> #{taishoGeppiTo}
                    </otherwise>
                </choose>
            </otherwise>
        </choose>
        <if test="!isEmptyKijyunYMD">
            AND A."nijiHanteiNinteiYukoKaishiYMD" <![CDATA[<=]]> #{kijyunYMD}
            AND #{kijyunYMD} <![CDATA[<=]]> A."nijiHanteiNinteiYukoShuryoYMD"
        </if>
        <choose>
            <when test="!isEmptyGogitaiNo">
                AND E."gogitaiNo" = #{gogitaiNo}
            </when>
            <otherwise>
                AND E."gogitaiNo" IN
                <foreach collection="gogitaiNoList" item="gogitaiNo" open="(" separator="," close=")"> #{gogitaiNo} </foreach>
            </otherwise>
        </choose>
    </sql>

</mapper>
