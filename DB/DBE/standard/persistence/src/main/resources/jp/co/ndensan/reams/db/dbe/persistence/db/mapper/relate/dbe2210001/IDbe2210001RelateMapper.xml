<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 合議体情報のマッピング用XMLです。 -->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.dbe2210001.IDbe2210001RelateMapper">

    <!-- NinteiChosaJohoEntityの項目にマッピングします。-->
<!--    <resultMap id="resultMap_NinteiChosaJohoEntity" type="jp.co.ndensan.reams.db.dbe.entity.ninnteichousakekkatouroku1.TempDataEntity" autoMapping="true">
        <result property="temp_厚労省IF識別コード" column="temp_厚労省IF識別コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="temp_認定調査依頼区分コード" column="temp_認定調査依頼区分コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="temp_認定調査回数" column="temp_認定調査回数" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
        <result property="temp_認定調査委託区分コード" column="temp_認定調査委託区分コード" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
    </resultMap>
    <select id="get認定調査情報"
            resultMap="resultMap_NinteiChosaJohoEntity"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.dbe2210001.NinteiChosaJohoMybatisParameter"
            fetchSize="500">
        SELECT
            DbT5101NinteiShinseiJoho."koroshoIfShikibetsuCode"  AS  temp_厚労省IF識別コード,
            DbT5201NinteichosaIraiJoho."ninteichosaIraiKubunCode"  AS  temp_認定調査依頼区分コード,
            DbT5201NinteichosaIraiJoho."ninteichosaIraiKaisu"  AS  temp_認定調査回数,
            DbT5910NinteichosaItakusakiJoho."chosaItakuKubun"  AS  temp_認定調査委託区分コード
        FROM
            rgdb."DbT5101NinteiShinseiJoho"  AS  DbT5101NinteiShinseiJoho  要介護認定申請情報
        LEFT JOIN
            rgdb."DbT5201NinteichosaIraiJoho"  AS  DbT5201NinteichosaIraiJoho  認定調査依頼情報
          ON  DbT5201NinteichosaIraiJoho."shinseishoKanriNo" = DbT5101NinteiShinseiJoho."shinseishoKanriNo"
          AND DbT5201NinteichosaIraiJoho."ninteichosaIraiRirekiNo" = #{temp_認定調査依頼履歴番号}
          AND DbT5201NinteichosaIraiJoho.."logicalDeletedFlag" = FALSE
        LEFT JOIN
            rgdb."DbT7051KoseiShichosonMaster"  AS DbT7051KoseiShichosonMaster 構成市町村マスタ
          ON  DbT7051KoseiShichosonMaster."shoKisaiHokenshaNo" = DbT5101NinteiShinseiJoho."shoKisaiHokenshaNo"
        LEFT JOIN
            rgdb."DbT5910NinteichosaItakusakiJoho"  AS  DbT5910NinteichosaItakusakiJoho  認定調査委託先情報
          ON  DbT5910NinteichosaItakusakiJoho."shichosonCode" = DbT7051KoseiShichosonMaster."shichosonCode"
          AND DbT5910NinteichosaItakusakiJoho."ninteichosaItakusakiCode" = #{temp_認定調査委託先コード} 
        <where>
           DbT5101NinteiShinseiJoho."shinseishoKanriNo" = #{temp_申請書管理番号}
        AND  DbT5101NinteiShinseiJoho."logicalDeletedFlag" = FALSE
    </select>-->
</mapper>