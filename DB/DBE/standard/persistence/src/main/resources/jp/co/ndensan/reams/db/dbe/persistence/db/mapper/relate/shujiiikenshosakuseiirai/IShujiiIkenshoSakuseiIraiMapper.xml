<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 主治医意見書作成依頼のマッピング用XMLです。 -->
<!--@reamsid_L DBE-0050-010 zuotao-->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.shujiiikenshosakuseiirai.IShujiiIkenshoSakuseiIraiMapper">

    <select resultOrdered="true" id="get申請者情報" resultMap="resultMap_Shujiiikenshosakuseiirai"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.shujiiikenshosakuseiirai.ShujiiIkenshoSakuseiIraiParameter"
            fetchSize="500">
        SELECT
        "DbT5101NinteiShinseiJoho"."hihokenshaNo",
        "DbT5101NinteiShinseiJoho"."shinseishoKanriNo",
        "DbT5101NinteiShinseiJoho"."shoKisaiHokenshaNo",
        "DbT5101NinteiShinseiJoho"."koroshoIfShikibetsuCode",
        "DbT5101NinteiShinseiJoho"."hihokenshaName",
        "DbT5101NinteiShinseiJoho"."hihokenshaKana",
        "DbT5101NinteiShinseiJoho"."seinengappiYMD",
        "DbT5101NinteiShinseiJoho"."age",
        "DbT5101NinteiShinseiJoho"."seibetsu",
        "DbT5101NinteiShinseiJoho"."ninteiShinseiYMD",
        "DbT5101NinteiShinseiJoho"."jusho",
        "DbT5101NinteiShinseiJoho"."yubinNo",
        "DbT5101NinteiShinseiJoho"."telNo",
        "DbT5101NinteiShinseiJoho"."shujiiIryokikanCode",
        "DbT5101NinteiShinseiJoho"."ninteiShinseiShinseijiKubunCode",
        "DbT5101NinteiShinseiJoho"."shujiiCode",
        "DbT7051KoseiShichosonMaster"."shichosonMeisho",
        "DbT7051KoseiShichosonMaster"."shichosonCode",
        "DbT5911ShujiiIryoKikanJoho"."iryoKikanMeisho",
        "DbT5911ShujiiIryoKikanJoho"."jusho" AS "iryoKikanJusho",
        "DbT5911ShujiiIryoKikanJoho"."telNo"  AS "iryoKikanTelNo",
        "DbT5911ShujiiIryoKikanJoho"."faxNo" AS "iryoKikanFaxNo",
        "DbT5911ShujiiIryoKikanJoho"."yubinNo" AS "iryoKikanYubinNo",
        "DbT5911ShujiiIryoKikanJoho"."daihyoshaName",
        "DbT5912ShujiiJoho"."shujiiName",
        "DbT5301ShujiiIkenshoIraiJoho"."ikenshoSakuseiIraiYMD",
        "DbT5301ShujiiIkenshoIraiJoho"."iraishoShutsuryokuYMD",
        "DbT5301ShujiiIkenshoIraiJoho"."ikenshoShutsuryokuYMD",
        "DbT5301ShujiiIkenshoIraiJoho"."seikyushoShutsuryokuYMD",
        "DbT5301ShujiiIkenshoIraiJoho"."ikenshoIraiKubun",
        "DbT5911ShujiiIryoKikanJoho_pre"."iryoKikanMeisho" AS "preIryoKikanMeisho",
        "DbT5301ShujiiIkenshoIraiJoho"."ikenshoIraiRirekiNo" AS "rirekiNo",
        "MaxRirekiNo"."preRirekiNo" AS "preRirekiNo",
        "DbT5912ShujiiJoho_pre"."shujiiName" AS "preShujiiName",
        "DbT5101NinteiShinseiJoho"."shisetsuNyushoFlag"
        <include refid="selectJouken" />
    </select>

    <select resultOrdered="true" id="get要介護認定申請情報" resultMap="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5101NinteiShinseiJohoMapper.ResultMap_DbT5101NinteiShinseiJohoEntity"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.shujiiikenshosakuseiirai.ShujiiIkenshoSakuseiIraiParameter"
            fetchSize="500">
        SELECT
        <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5101NinteiShinseiJohoMapper.allColumns_DbT5101NinteiShinseiJoho" />
        <include refid="selectJouken" />
    </select>

    <select resultOrdered="true" id="get主治医意見書作成依頼情報" resultMap="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5301ShujiiIkenshoIraiJohoMapper.ResultMap_DbT5301ShujiiIkenshoIraiJohoEntity"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.shujiiikenshosakuseiirai.ShujiiIkenshoSakuseiIraiParameter"
            fetchSize="500">
        SELECT
        <include refid="jp.co.ndensan.reams.db.dbz.persistence.db.mapper.basic.IDbT5301ShujiiIkenshoIraiJohoMapper.allColumns_DbT5301ShujiiIkenshoIraiJoho" />
        <include refid="selectJouken" />
    </select>

    <select resultOrdered="true" id="get宛名情報" resultMap="resultMap_ShujiiIraiAtena"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.shujiiikenshosakuseiirai.ShujiiIraiAtenaJohoParameter"
            fetchSize="500">
        SELECT
        DbT5911."iryoKikanMeisho" AS "atenaKikanMeisho"
        ,DbT5911."yubinNo" AS "atenaYubinNo"
        ,DbT5911."jusho" AS "atenaJusho"
        ,DbT5912."shujiiName" AS "atenaShimei"
        FROM
        rgdb."DbT5912ShujiiJoho" AS DbT5912
        LEFT JOIN rgdb."DbT5911ShujiiIryoKikanJoho" AS DbT5911
        ON DbT5912."shichosonCode" = DbT5911."shichosonCode"
        AND DbT5912."shujiiIryokikanCode"= DbT5911."shujiiIryokikanCode"
        WHERE
        DbT5912."shujiiIryokikanCode" = #{shujiiIryokikanCode}
        AND DbT5912."shujiiCode" = #{shujiiCode}
        AND DbT5912."shichosonCode"= #{shichosonCode}
        limit 1
    </select>

    <sql id="selectJouken">
        FROM
        rgdb."DbT5101NinteiShinseiJoho" AS "DbT5101NinteiShinseiJoho"

        LEFT JOIN rgdb."DbT7051KoseiShichosonMaster" AS "DbT7051KoseiShichosonMaster"
        ON
        "DbT7051KoseiShichosonMaster"."shoKisaiHokenshaNo" = "DbT5101NinteiShinseiJoho"."shoKisaiHokenshaNo"

        LEFT JOIN rgdb."DbT5911ShujiiIryoKikanJoho" AS "DbT5911ShujiiIryoKikanJoho"
        ON
        "DbT5911ShujiiIryoKikanJoho"."shichosonCode" = "DbT7051KoseiShichosonMaster"."shichosonCode"
        AND "DbT5911ShujiiIryoKikanJoho"."shujiiIryokikanCode" = "DbT5101NinteiShinseiJoho"."shujiiIryokikanCode"
        AND "DbT5911ShujiiIryoKikanJoho"."jokyoFlag"=TRUE

        LEFT JOIN rgdb."DbT5912ShujiiJoho" AS "DbT5912ShujiiJoho"
        ON
        "DbT5912ShujiiJoho"."shichosonCode" = "DbT7051KoseiShichosonMaster"."shichosonCode"
        AND "DbT5912ShujiiJoho"."shujiiIryokikanCode" = "DbT5101NinteiShinseiJoho"."shujiiIryokikanCode"
        AND "DbT5912ShujiiJoho"."shujiiCode" = "DbT5101NinteiShinseiJoho"."shujiiCode"
        AND "DbT5912ShujiiJoho"."jokyoFlag" = TRUE

        LEFT JOIN rgdb."DbT5301ShujiiIkenshoIraiJoho" AS "DbT5301ShujiiIkenshoIraiJoho"
        ON
        "DbT5301ShujiiIkenshoIraiJoho"."shinseishoKanriNo" = "DbT5101NinteiShinseiJoho"."shinseishoKanriNo"
        AND "DbT5301ShujiiIkenshoIraiJoho"."logicalDeletedFlag" = FALSE
        AND "DbT5301ShujiiIkenshoIraiJoho"."ikenshoIraiRirekiNo" = (
        SELECT
        MAX("DbT5301ShujiiIkenshoIraiJoho"."ikenshoIraiRirekiNo") AS "MaxRirekiNo"
        FROM
        rgdb."DbT5301ShujiiIkenshoIraiJoho" AS "DbT5301ShujiiIkenshoIraiJoho"
        WHERE
        "DbT5301ShujiiIkenshoIraiJoho"."logicalDeletedFlag"=FALSE
        AND "DbT5301ShujiiIkenshoIraiJoho"."shinseishoKanriNo" = "DbT5101NinteiShinseiJoho"."shinseishoKanriNo")

        LEFT JOIN rgdb."DbT5121ShinseiRirekiJoho" AS "DbT5121ShinseiRirekiJoho"
        ON    "DbT5121ShinseiRirekiJoho"."shinseishoKanriNo" = "DbT5101NinteiShinseiJoho"."shinseishoKanriNo"

        LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" AS "DbT5101NinteiShinseiJoho_pre"
        ON    "DbT5101NinteiShinseiJoho_pre"."shinseishoKanriNo" = "DbT5121ShinseiRirekiJoho"."zenkaiShinseishoKanriNo"

        LEFT JOIN rgdb."DbT5911ShujiiIryoKikanJoho" AS "DbT5911ShujiiIryoKikanJoho_pre"
        ON
        "DbT5911ShujiiIryoKikanJoho_pre"."shichosonCode" = "DbT7051KoseiShichosonMaster"."shichosonCode"
        AND "DbT5911ShujiiIryoKikanJoho_pre"."shujiiIryokikanCode" = "DbT5101NinteiShinseiJoho_pre"."shujiiIryokikanCode"
        AND "DbT5911ShujiiIryoKikanJoho_pre"."jokyoFlag" = TRUE

        LEFT JOIN rgdb."DbT5912ShujiiJoho" AS  "DbT5912ShujiiJoho_pre"
        ON
        "DbT5912ShujiiJoho_pre"."shichosonCode" = "DbT7051KoseiShichosonMaster"."shichosonCode"
        AND "DbT5912ShujiiJoho_pre"."shujiiIryokikanCode" = "DbT5101NinteiShinseiJoho_pre"."shujiiIryokikanCode"
        AND "DbT5912ShujiiJoho_pre"."shujiiCode" = "DbT5101NinteiShinseiJoho_pre"."shujiiCode"
        AND "DbT5912ShujiiJoho_pre"."jokyoFlag" = TRUE

        LEFT JOIN rgdb."DbT5102NinteiKekkaJoho" AS  "DbT5102NinteiKekkaJoho_pre"
        ON  "DbT5102NinteiKekkaJoho_pre"."shinseishoKanriNo" = "DbT5121ShinseiRirekiJoho"."zenkaiShinseishoKanriNo"
        AND "DbT5102NinteiKekkaJoho_pre"."shinseishoKanriNo" = "DbT5101NinteiShinseiJoho_pre"."shinseishoKanriNo"

        LEFT JOIN(
        SELECT
        MAX("DbT5301ShujiiIkenshoIraiJoho"."ikenshoIraiRirekiNo") AS "preRirekiNo"
        ,"DbT5301ShujiiIkenshoIraiJoho"."shinseishoKanriNo"
        FROM
        rgdb."DbT5301ShujiiIkenshoIraiJoho" AS "DbT5301ShujiiIkenshoIraiJoho"
        GROUP BY "DbT5301ShujiiIkenshoIraiJoho"."shinseishoKanriNo"
        ) AS "MaxRirekiNo"
        ON "MaxRirekiNo"."shinseishoKanriNo"="DbT5101NinteiShinseiJoho"."shinseishoKanriNo"

        <if test="useNinteichosahyoGaikyoChosa">
            LEFT JOIN
            rgdb."DbT5202NinteichosahyoGaikyoChosa" DbT5202NinteichosahyoGaikyoChosa
            ON "DbT5101NinteiShinseiJoho"."shinseishoKanriNo" = DbT5202NinteichosahyoGaikyoChosa."shinseishoKanriNo"
            AND DbT5202NinteichosahyoGaikyoChosa."ninteichosaRirekiNo" =
            (SELECT MAX(NinteichosahyoGaikyoChosa."ninteichosaRirekiNo")
            FROM rgdb."DbT5202NinteichosahyoGaikyoChosa" NinteichosahyoGaikyoChosa
            WHERE "DbT5101NinteiShinseiJoho"."shinseishoKanriNo" = NinteichosahyoGaikyoChosa."shinseishoKanriNo")
        </if>
        <if test="useNinteichosahyoKihonChosa">
            LEFT JOIN
            rgdb."DbT5203NinteichosahyoKihonChosa" DbT5203NinteichosahyoKihonChosa
            ON "DbT5101NinteiShinseiJoho"."shinseishoKanriNo" = DbT5203NinteichosahyoKihonChosa."shinseishoKanriNo"
            AND DbT5203NinteichosahyoKihonChosa."ninteichosaRirekiNo" =
            (SELECT MAX(NinteichosahyoKihonChosa."ninteichosaRirekiNo")
            FROM rgdb."DbT5203NinteichosahyoKihonChosa" NinteichosahyoKihonChosa
            WHERE NinteichosahyoKihonChosa."shinseishoKanriNo" = "DbT5101NinteiShinseiJoho"."shinseishoKanriNo")
        </if>
        <if test="useShujiiIkenshoJoho">
            LEFT JOIN
            rgdb."DbT5302ShujiiIkenshoJoho" DbT5302ShujiiIkenshoJoho
            ON "DbT5101NinteiShinseiJoho"."shinseishoKanriNo" = DbT5302ShujiiIkenshoJoho."shinseishoKanriNo"
            AND DbT5302ShujiiIkenshoJoho."ikenshoIraiRirekiNo" =
            (SELECT MAX(ShujiiIkenshoJoho."ikenshoIraiRirekiNo")
            FROM rgdb."DbT5302ShujiiIkenshoJoho" ShujiiIkenshoJoho
            WHERE ShujiiIkenshoJoho."shinseishoKanriNo" = "DbT5101NinteiShinseiJoho"."shinseishoKanriNo")
        </if>
        <if test="useShujiiIkenshoIkenItem">
            LEFT JOIN
            rgdb."DbT5304ShujiiIkenshoIkenItem" DbT5304ShujiiIkenshoIkenItem
            ON "DbT5101NinteiShinseiJoho"."shinseishoKanriNo" = DbT5304ShujiiIkenshoIkenItem."shinseishoKanriNo"
            AND DbT5304ShujiiIkenshoIkenItem."ikenshoIraiRirekiNo" =
            (SELECT MAX(ShujiiIkenshoIkenItem."ikenshoIraiRirekiNo")
            FROM rgdb."DbT5304ShujiiIkenshoIkenItem" ShujiiIkenshoIkenItem
            WHERE ShujiiIkenshoIkenItem."shinseishoKanriNo" = "DbT5101NinteiShinseiJoho"."shinseishoKanriNo")
        </if>
        <if test="useIchijiHanteiKekkaJoho">
            LEFT JOIN
            rgdb."DbT5116IchijiHanteiKekkaJoho" DbT5116IchijiHanteiKekkaJoho
            ON "DbT5101NinteiShinseiJoho"."shinseishoKanriNo" = DbT5116IchijiHanteiKekkaJoho."shinseishoKanriNo"
        </if>
        <if test="useIchiGojiHanteiKekkaJoho">
            LEFT JOIN
            rgdb."DbT5510IchiGojiHanteiKekkaJoho" DbT5510IchiGojiHanteiKekkaJoho
            ON "DbT5101NinteiShinseiJoho"."shinseishoKanriNo" = DbT5510IchiGojiHanteiKekkaJoho."shinseishoKanriNo"
        </if>
        <if test="useNinteiKekkaJoho">
            LEFT JOIN
            rgdb."DbT5102NinteiKekkaJoho" DbT5102NinteiKekkaJoho
            ON "DbT5101NinteiShinseiJoho"."shinseishoKanriNo" = DbT5102NinteiKekkaJoho."shinseishoKanriNo"
        </if>
        <if test="useShinsakaiKaisaiKekkaJoho">
            LEFT JOIN
            rgdb."DbT5511ShinsakaiKaisaiKekkaJoho" DbT5511ShinsakaiKaisaiKekkaJoho
            ON "DbT5101NinteiShinseiJoho"."shinseishoKanriNo" = DbT5511ShinsakaiKaisaiKekkaJoho."shinsakaiKaisaiNo"
        </if>
        <if test="useGeninShikkan">
            LEFT JOIN
            rgdb."DbT5300GeninShikkan" DbT5300GeninShikkan
            ON "DbT5101NinteiShinseiJoho"."shinseishoKanriNo" = DbT5300GeninShikkan."shinseishoKanriNo"
        </if>
        <if test="useNinteiKanryoJoho">
            LEFT JOIN
            rgdb."DbT5105NinteiKanryoJoho" DbT5105NinteiKanryoJoho
            ON "DbT5101NinteiShinseiJoho"."shinseishoKanriNo" = DbT5105NinteiKanryoJoho."shinseishoKanriNo"
        </if>
        WHERE
        "DbT5101NinteiShinseiJoho"."logicalDeletedFlag" = FALSE
        AND ("DbT5101NinteiShinseiJoho"."shoriJotaiKubun" = #{shoriJotaiKubunTsujo}
        OR  "DbT5101NinteiShinseiJoho"."shoriJotaiKubun" = #{shoriJotaiKubunEnki})
        <if test="useHihokenshaNo">
            AND "DbT5101NinteiShinseiJoho"."hihokenshaNo" = #{hihokenshaNo}
        </if>
        <if test="useShoKisaiHokenshaNo">
            AND "DbT5101NinteiShinseiJoho"."shoKisaiHokenshaNo" = #{shoKisaiHokenshaNo}
        </if>
        <if test="useShishoCode">
            AND "DbT5101NinteiShinseiJoho"."shishoCode" = #{shishoCode}
        </if>
        <if test="useHihokenshaName">
            <if test="is前方一致">
                AND "DbT5101NinteiShinseiJoho"."hihokenshaName" LIKE #{hihokenshaName} || '%'
            </if>
            <if test="is後方一致">
                AND "DbT5101NinteiShinseiJoho"."hihokenshaName" LIKE '%' || #{hihokenshaName}
            </if>
            <if test="is部分一致">
                AND "DbT5101NinteiShinseiJoho"."hihokenshaName" LIKE '%' || #{hihokenshaName} || '%'
            </if>
            <if test="is完全一致">
                AND "DbT5101NinteiShinseiJoho"."hihokenshaName" = #{hihokenshaName}
            </if>
        </if>
        AND "DbT5101NinteiShinseiJoho"."minashiNigoEtcTaishoFlag" = #{minashiNigoEtcTaishoFlag}
        <if test="useNinteiShinseiYMDFrom">
            AND "DbT5101NinteiShinseiJoho"."ninteiShinseiYMD"  <![CDATA[>=]]> #{ninteiShinseiYMDFrom}
        </if>
        <if test="useNinteiShinseiYMDTo">
            AND "DbT5101NinteiShinseiJoho"."ninteiShinseiYMD"  <![CDATA[<=]]> #{ninteiShinseiYMDTo}
        </if>
        <if test="useSeinengappiYMDFrom">
            AND "DbT5101NinteiShinseiJoho"."seinengappiYMD"  <![CDATA[>=]]> #{seinengappiYMDFrom}
        </if>
        <if test="useSeinengappiYMDTo">
            AND "DbT5101NinteiShinseiJoho"."seinengappiYMD"  <![CDATA[<=]]> #{seinengappiYMDTo}
        </if>
        <if test="useNinteiShinseiShinseijiKubun">
            AND "DbT5101NinteiShinseiJoho"."ninteiShinseiShinseijiKubunCode" = #{ninteiShinseiShinseijiKubun}
        </if>
        <if test="isMan and !isWoman">
            AND "DbT5101NinteiShinseiJoho"."seibetsu" = '1'
        </if>
        <if test="!isMan and isWoman">
            AND "DbT5101NinteiShinseiJoho"."seibetsu" = '2'
        </if>
        <if test="isMan and isWoman">
            AND ("DbT5101NinteiShinseiJoho"."seibetsu" = '1' OR "DbT5101NinteiShinseiJoho"."seibetsu" = '2')
        </if>
        <if test="useHihokenshaKubunCode">
            AND "DbT5101NinteiShinseiJoho"."hihokenshaKubunCode" = #{hihokenshaKubunCode}
        </if>
        <if test="useNinteiShinseiHoreiKubunCode">
            AND "DbT5101NinteiShinseiJoho"."ninteiShinseiHoreiKubunCode" = #{ninteiShinseiHoreiKubunCode}
        </if>
        <if test="useShoriJotaiKubun">
            AND "DbT5101NinteiShinseiJoho"."shoriJotaiKubun" = #{shoriJotaiKubun}
        </if>
        <if test="useKoroshoIfShikibetsuCode">
            AND "DbT5101NinteiShinseiJoho"."koroshoIfShikibetsuCode" = #{koroshoIfShikibetsuCode}
        </if>
        <if test="useYubinNo">
            AND "DbT5101NinteiShinseiJoho"."yubinNo" = #{yubinNo}
        </if>
        <if test="useChikuCode">
            AND "DbT5101NinteiShinseiJoho"."chikuCode" = #{chikuCode}
        </if>
        AND "DbT5101NinteiShinseiJoho"."shisetsuNyushoFlag" = #{shisetsuNyushoFlag}

        <if test="useNinteiChosaItakusakiCode">
            AND "DbT5101NinteiShinseiJoho"."ninteiChosaItakusakiCode" = #{ninteiChosaItakusakiCode}
        </if>
        <if test="useNinteiChosainCode">
            AND "DbT5101NinteiShinseiJoho"."ninteiChosainCode" = #{ninteiChosainCode}
        </if>
        <if test="useChosaJisshiBashoCode">
            AND DbT5202NinteichosahyoGaikyoChosa."chosaJisshiBashoCode" = #{chosaJisshiBashoCode}
        </if>
        <if test="useNinteiChosaKubunCode">
            AND DbT5202NinteichosahyoGaikyoChosa."ninteiChosaKubunCode" = #{ninteiChosaKubunCode}
        </if>
        <if test="useNinteichosaJisshiYMDFrom">
            AND DbT5202NinteichosahyoGaikyoChosa."ninteichosaJisshiYMD" <![CDATA[>=]]> #{ninteichosaJisshiYMDFrom}
        </if>
        <if test="useNinteichosaJisshiYMDTo">
            AND DbT5202NinteichosahyoGaikyoChosa."ninteichosaJisshiYMD" <![CDATA[<=]]> #{ninteichosaJisshiYMDTo}
        </if>
        <if test="useNichijoSeikatsuJiritsudoCd">
            AND DbT5203NinteichosahyoKihonChosa."ninchishoNichijoSeikatsuJiritsudoCode" = #{nichijoSeikatsuJiritsudoCode}
        </if>
        <if test="useNichijoSeikatsuJiritsudo">
            AND DbT5203NinteichosahyoKihonChosa."shogaiNichijoSeikatsuJiritsudoCode" = #{nichijoSeikatsuJiritsudo}
        </if>
        <if test="useShujiiIryokikanCode">
            AND "DbT5101NinteiShinseiJoho"."shujiiIryokikanCode" = #{shujiiIryokikanCode}
        </if>
        <if test="useShujiiCode">
            AND "DbT5101NinteiShinseiJoho"."shujiiCode" = #{shujiiCode}
        </if>
        <if test="useIshiKubunCode">
            AND "DbT5301ShujiiIkenshoIraiJoho"."ishiKubunCode" = #{ishiKubunCode}
        </if>
        <if test="useIkenshoJuryoYMDFrom">
            AND DbT5302ShujiiIkenshoJoho."ikenshoJuryoYMD" <![CDATA[>=]]> #{ikenshoJuryoYMDFrom}
        </if>
        <if test="useIkenshoJuryoYMDTo">
            AND DbT5302ShujiiIkenshoJoho."ikenshoJuryoYMD" <![CDATA[<=]]> #{ikenshoJuryoYMDTo}
        </if>
        <if test="useIkenItem13 and !useIkenItem14">
            AND DbT5304ShujiiIkenshoIkenItem."remban" = 13
            AND DbT5304ShujiiIkenshoIkenItem."ikenItem" = #{ikenItem13}
        </if>
        <if test="!useIkenItem13 and useIkenItem14">
            AND DbT5304ShujiiIkenshoIkenItem."remban" = 14
            AND DbT5304ShujiiIkenshoIkenItem."ikenItem" = #{ikenItem14}
        </if>
        <if test="useIkenItem13 and useIkenItem14">
            AND ((DbT5304ShujiiIkenshoIkenItem."remban" = 13
            AND DbT5304ShujiiIkenshoIkenItem."ikenItem" = #{ikenItem13})
            OR (DbT5304ShujiiIkenshoIkenItem."remban" = 14
            AND DbT5304ShujiiIkenshoIkenItem."ikenItem" = #{ikenItem14}))
        </if>
        <if test="useIchijiHanteiYMDFrom">
            AND DbT5116IchijiHanteiKekkaJoho."ichijiHanteiYMD" <![CDATA[>=]]> #{ichijiHanteiYMDFrom}
        </if>
        <if test="useIchijiHanteiYMDTo">
            AND DbT5116IchijiHanteiKekkaJoho."ichijiHanteiYMD" <![CDATA[<=]]> #{ichijiHanteiYMDTo}
        </if>
        <if test="useIchijiHanteiKekkaCode">
            AND DbT5116IchijiHanteiKekkaJoho."ichijiHanteiKekkaCode" = #{ichijiHanteiKekkaCode}
        </if>

        <if test="useIchiGojiHanteiYMDFrom">
            AND DbT5510IchiGojiHanteiKekkaJoho."ichiGojiHanteiYMD" <![CDATA[>=]]> #{ichiGojiHanteiYMDFrom}
        </if>
        <if test="useIchiGojiHanteiYMDTo">
            AND DbT5510IchiGojiHanteiKekkaJoho."ichiGojiHanteiYMD" <![CDATA[<=]]> #{ichiGojiHanteiYMDTo}
        </if>
        <if test="useIchiGojiHanteiKekkaCode">
            AND DbT5510IchiGojiHanteiKekkaJoho."ichiGojiHanteiKekkaCode" = #{ichiGojiHanteiKekkaCode}
        </if>

        <if test="useNijiHanteiYokaigoJotaiKubun">
            AND DbT5102NinteiKekkaJoho."nijiHanteiYokaigoJotaiKubunCode" = #{nijiHanteiYokaigoJotaiKubun}
        </if>
        <if test="useNijiHanteiNinteiYukoKikan">
            AND DbT5102NinteiKekkaJoho."nijiHanteiNinteiYukoKikan" = #{nijiHanteiNinteiYukoKikan}
        </if>
        <if test="useYokaiYMD">
            AND DbT5102NinteiKekkaJoho."nijiHanteiNinteiYukoKaishiYMD" <![CDATA[<=]]> #{yokaiYMD}
            AND DbT5102NinteiKekkaJoho."nijiHanteiNinteiYukoShuryoYMD" <![CDATA[>=]]> #{yokaiYMD}
        </if>
        <if test="useNinteiYukoKaishiYMDFrom">
            AND DbT5102NinteiKekkaJoho."nijiHanteiNinteiYukoKaishiYMD" <![CDATA[>=]]> #{ninteiYukoKaishiYMDFrom}
        </if>
        <if test="useNinteiYukoKaishiYMDTo">
            AND DbT5102NinteiKekkaJoho."nijiHanteiNinteiYukoKaishiYMD" <![CDATA[<=]]> #{ninteiYukoKaishiYMDTo}
        </if>
        <if test="useNinteiYukoShuryoYMDFrom">
            AND DbT5102NinteiKekkaJoho."nijiHanteiNinteiYukoShuryoYMD" <![CDATA[>=]]> #{ninteiYukoShuryoYMDFrom}
        </if>
        <if test="useNinteiYukoShuryoYMDTo">
            AND DbT5102NinteiKekkaJoho."nijiHanteiNinteiYukoShuryoYMD" <![CDATA[<=]]> #{ninteiYukoShuryoYMDTo}
        </if>
        <if test="useNijiHanteiYMDFrom">
            AND DbT5102NinteiKekkaJoho."nijiHanteiYMD" <![CDATA[>=]]> #{nijiHanteiYMDFrom}
        </if>
        <if test="useNijiHanteiYMDTo">
            AND DbT5102NinteiKekkaJoho."nijiHanteiYMD" <![CDATA[<=]]> #{nijiHanteiYMDTo}
        </if>
        <if test="useShinsakaiKaisaiYMDFrom">
            AND DbT5511ShinsakaiKaisaiKekkaJoho."shinsakaiKaisaiYMD" <![CDATA[>=]]> #{shinsakaiKaisaiYMDFrom}
        </if>
        <if test="useShinsakaiKaisaiYMDTo">
            AND DbT5511ShinsakaiKaisaiKekkaJoho."shinsakaiKaisaiYMD" <![CDATA[<=]]> #{shinsakaiKaisaiYMDTo}
        </if>
        <if test="useShinsakaiKaisaiNoFrom">
            AND DbT5102NinteiKekkaJoho."shinsakaiKaisaiNo" <![CDATA[>=]]> #{shinsakaiKaisaiNoFrom}
        </if>
        <if test="useShinsakaiKaisaiNoTo">
            AND DbT5102NinteiKekkaJoho."shinsakaiKaisaiNo" <![CDATA[<=]]> #{shinsakaiKaisaiNoTo}
        </if>

        <if test="useZenkaiNinteiChosaItakusaki">
            AND "DbT5101NinteiShinseiJoho_pre"."ninteiChosaItakusakiCode" = #{zenkaiNinteiChosaItakusaki}
        </if>
        <if test="useZenkaiShujiiIryokikanCode">
            AND "DbT5101NinteiShinseiJoho_pre"."shujiiIryokikanCode" = #{zenkaiShujiiIryokikanCode}
        </if>
        <if test="useZenkaiJotaiKubunCode">
            AND "DbT5102NinteiKekkaJoho_pre"."nijiHanteiYokaigoJotaiKubunCode" = #{zenkaiJotaiKubunCode}
        </if>
        <if test="useZenkaiYukoKikan">
            AND "DbT5102NinteiKekkaJoho_pre"."nijiHanteiNinteiYukoKikan" = #{zenkaiYukoKikan}
        </if>
        <if test="useZenkaiYukoKikanStartFrom">
            AND "DbT5101NinteiShinseiJoho"."zenkaiYukoKikanStart" <![CDATA[>=]]> #{zenkaiYukoKikanStartFrom}
        </if>
        <if test="useZenkaiYukoKikanStartTo">
            AND "DbT5101NinteiShinseiJoho"."zenkaiYukoKikanStart" <![CDATA[<=]]> #{zenkaiYukoKikanStartTo}
        </if>
        <if test="useGeninShikkanCode">
            AND DbT5300GeninShikkan."geninShikkanCode" = #{geninShikkanCode}
        </if>
        <if test="useShinseiKeikaDaysForm">
            AND "DbT5101NinteiShinseiJoho"."ninteiShinseiYMD" <![CDATA[<=]]> #{shinseiKeikaDaysForm}
        </if>
        <if test="useShinseiKeikaDaysTo">
            AND "DbT5101NinteiShinseiJoho"."ninteiShinseiYMD" <![CDATA[>=]]> #{shinseiKeikaDaysTo}
        </if>
        <if test="isNowPhaseBlank">
            <if test="isShinseiUketsukeKanryo and !isShinseiUketsukeMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
            </if>
            <if test="!isShinseiUketsukeKanryo and isShinseiUketsukeMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" IS NULL
            </if>
            <if test="isChosaIraiKanryo and !isChosaIraiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" IS NOT NULL
            </if>
            <if test="!isChosaIraiKanryo and isChosaIraiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" IS NULL
            </if>
            <if test="isIkenshoIraiKanryo and !isIkenshoIraiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" IS NOT NULL
            </if>
            <if test="!isIkenshoIraiKanryo and isIkenshoIraiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" IS NULL
            </if>
            <if test="isChosaNyushuKanryo and !isChosaNyushuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" IS NOT NULL
            </if>
            <if test="!isChosaNyushuKanryo and isChosaNyushuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" IS NULL
            </if>
            <if test="isIkenshoNyushuKanryo and !isIkenshoNyushuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" IS NOT NULL
            </if>
            <if test="!isIkenshoNyushuKanryo and isIkenshoNyushuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" IS NULL
            </if>
            <if test="isIchijiHanteiKanryo and !isIchijiHanteiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" IS NOT NULL
            </if>
            <if test="!isIchijiHanteiKanryo and isIchijiHanteiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" IS NULL
            </if>
            <if test="isMaskingKanryo and !isMaskingMiKanryo">
                AND DbT5105NinteiKanryoJoho."maskingKanryoYMD" IS NOT NULL
            </if>
            <if test="!isMaskingKanryo and isMaskingMiKanryo">
                AND DbT5105NinteiKanryoJoho."maskingKanryoYMD" IS NULL
            </if>
            <if test="isShinsakaiTorokuKanryo and !isShinsakaiTorokuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" IS NOT NULL
            </if>
            <if test="!isShinsakaiTorokuKanryo and isShinsakaiTorokuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" IS NULL
            </if>
            <if test="isNijiHanteiKanryo and !isNijiHanteiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinsakaiKanryoYMD" IS NOT NULL
            </if>
            <if test="!isNijiHanteiKanryo and isNijiHanteiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinsakaiKanryoYMD" IS NULL
            </if>
            <if test="isGetsureiShoriKanryo and !isGetsureiShoriMiKanryo">
                AND DbT5105NinteiKanryoJoho."centerSoshinYMD" IS NOT NULL
            </if>
            <if test="!isGetsureiShoriKanryo and isGetsureiShoriMiKanryo">
                AND DbT5105NinteiKanryoJoho."centerSoshinYMD" IS NULL
            </if>
        </if>
        <if test="isNowPhaseShinseiUketsuke">
            <if test="isShinseiUketsukeKanryo and !isShinseiUketsukeMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL
            </if>
            <if test="!isShinseiUketsukeKanryo and isShinseiUketsukeMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinseiJohoTorokuKanryoYMD" IS NULL
            </if>
        </if>
        <if test="isNowPhaseChosaIrai">
            <if test="isChosaIraiKanryo and !isChosaIraiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" IS NOT NULL
            </if>
            <if test="!isChosaIraiKanryo and isChosaIraiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteichosaIraiKanryoYMD" IS NULL
            </if>
        </if>
        <if test="isNowPhaseIkenshoIrai">
            <if test="isIkenshoIraiKanryo and !isIkenshoIraiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" IS NOT NULL
            </if>
            <if test="!isIkenshoIraiKanryo and isIkenshoIraiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ikenshoSakuseiIraiKanryoYMD" IS NULL
            </if>
        </if>
        <if test="isNowPhaseChosaNyushu">
            <if test="isChosaNyushuKanryo and !isChosaNyushuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" IS NOT NULL
            </if>
            <if test="!isChosaNyushuKanryo and isChosaNyushuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteichosaKanryoYMD" IS NULL
            </if>
        </if>
        <if test="isNowPhaseIkenshoNyushu">
            <if test="isIkenshoNyushuKanryo and !isIkenshoNyushuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" IS NOT NULL
            </if>
            <if test="!isIkenshoNyushuKanryo and isIkenshoNyushuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ikenshoTorokuKanryoYMD" IS NULL
            </if>
        </if>
        <if test="isNowPhaseIchijiHantei">
            <if test="isIchijiHanteiKanryo and !isIchijiHanteiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" IS NOT NULL
            </if>
            <if test="!isIchijiHanteiKanryo and isIchijiHanteiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ichijiHanteiKanryoYMD" IS NULL
            </if>
        </if>
        <if test="isNowPhaseMasking">
            <if test="isMaskingKanryo and !isMaskingMiKanryo">
                AND DbT5105NinteiKanryoJoho."maskingKanryoYMD" IS NOT NULL
            </if>
            <if test="!isMaskingKanryo and isMaskingMiKanryo">
                AND DbT5105NinteiKanryoJoho."maskingKanryoYMD" IS NULL
            </if>
        </if>
        <if test="isNowPhaseShinsakaiToroku">
            <if test="isShinsakaiTorokuKanryo and !isShinsakaiTorokuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" IS NOT NULL
            </if>
            <if test="!isShinsakaiTorokuKanryo and isShinsakaiTorokuMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinsakaiWariateKanryoYMD" IS NULL
            </if>
        </if>
        <if test="isNowPhaseNijiHantei">
            <if test="isNijiHanteiKanryo and !isNijiHanteiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinsakaiKanryoYMD" IS NOT NULL
            </if>
            <if test="!isNijiHanteiKanryo and isNijiHanteiMiKanryo">
                AND DbT5105NinteiKanryoJoho."ninteiShinsakaiKanryoYMD" IS NULL
            </if>
        </if>
        <if test="isNowPhaseGetsureiShori">
            <if test="isGetsureiShoriKanryo and !isGetsureiShoriMiKanryo">
                AND DbT5105NinteiKanryoJoho."centerSoshinYMD" IS NOT NULL
            </if>
            <if test="!isGetsureiShoriKanryo and isGetsureiShoriMiKanryo">
                AND DbT5105NinteiKanryoJoho."centerSoshinYMD" IS NULL
            </if>
        </if>
        LIMIT #{limitCount}
    </sql>
    <resultMap id="resultMap_Shujiiikenshosakuseiirai" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.shujiiikenshosakuseiirai.ShujiiikenshosakuseiiraiRelateEntity" autoMapping="true">
        <result property="hihokenshaNo" column="hihokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shinseishoKanriNo" column="shinseishoKanriNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShinseishoKanriNoTypeHandler"/>
        <result property="shoKisaiHokenshaNo" column="shoKisaiHokenshaNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="koroshoIfShikibetsuCode" column="koroshoIfShikibetsuCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="hihokenshaName" column="hihokenshaName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaMeishoTypeHandler"/>
        <result property="hihokenshaKana" column="hihokenshaKana" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaKanaMeishoTypeHandler"/>
        <result property="seinengappiYMD" column="seinengappiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="age" column="age"/>
        <result property="seibetsu" column="seibetsu" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="ninteiShinseiYMD" column="ninteiShinseiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="jusho" column="jusho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaJushoTypeHandler"/>
        <result property="yubinNo" column="yubinNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.YubinNoTypeHandler"/>
        <result property="telNo" column="telNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.TelNoTypeHandler"/>
        <result property="shujiiIryokikanCode" column="shujiiIryokikanCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shujiiCode" column="shujiiCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shichosonMeisho" column="shichosonMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="shichosonCode" column="shichosonCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.LasdecCodeTypeHandler"/>
        <result property="iryoKikanMeisho" column="iryoKikanMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="iryoKikanJusho" column="iryoKikanJusho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="iryoKikanTelNo" column="iryoKikanTelNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.TelNoTypeHandler"/>
        <result property="shujiiName" column="shujiiName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaMeishoTypeHandler"/>
        <result property="ikenshoSakuseiIraiYMD" column="ikenshoSakuseiIraiYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="iraishoShutsuryokuYMD" column="iraishoShutsuryokuYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="ikenshoShutsuryokuYMD" column="ikenshoShutsuryokuYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="seikyushoShutsuryokuYMD" column="seikyushoShutsuryokuYMD" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler"/>
        <result property="ikenshoIraiKubun" column="ikenshoIraiKubun" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="preIryoKikanMeisho" column="preIryoKikanMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="iryoKikanFaxNo" column="iryoKikanFaxNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="preShujiiName" column="preShujiiName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaMeishoTypeHandler"/>
        <result property="shinseiShinseijiKubunCode" column="ninteiShinseiShinseijiKubunCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler"/>
        <result property="rirekiNo" column="rirekiNo"/>
        <result property="preRirekiNo" column="preRirekiNo"/>
        <result property="shisetsuNyushoFlag" column="shisetsuNyushoFlag"/>
        <result property="iryoKikanYubinNo" column="iryoKikanYubinNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.YubinNoTypeHandler"/>
        <result property="daihyoshaName" column="daihyoshaName" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
    </resultMap>
    <resultMap id="resultMap_ShujiiIraiAtena" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.shujiiikenshosakuseiirai.ShujiiIraiAtenaJohoRelateEntity" autoMapping="true">
        <result property="atenaKikanMeisho" column="atenaKikanMeisho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>
        <result property="atenaYubinNo" column="atenaYubinNo" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.YubinNoTypeHandler"/>
        <result property="atenaJusho" column="atenaJusho" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaJushoTypeHandler"/>
        <result property="atenaShimei" column="atenaShimei" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaMeishoTypeHandler"/>
    </resultMap>
</mapper>
