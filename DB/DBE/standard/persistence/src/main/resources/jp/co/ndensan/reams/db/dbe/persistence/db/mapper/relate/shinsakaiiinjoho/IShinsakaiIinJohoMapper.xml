<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 介護認定審査会委員情報のマッピング用XMLです。 -->

<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.shinsakaiiinjoho.IShinsakaiIinJohoMapper">
<!--

    <select id="getShinsakaiIinJohoEntity"
            resultMap="resultMap_ShinsakaiIinJohoEntity"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.shinsakaiiinjoho.ShinsakaiIinJohoMapperParameter" fetchSize="500">
        SELECT
        dbT5594ShinsakaiIinJoho.*,
        dbT5595KaigoNinteiShinsakaiIinShozokuKikanJoho.*
        FROM
        (
        SELECT
        <include refid="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.basic.IDbT5594ShinsakaiIinJohoMapper.allColumns_DbT5594ShinsakaiIinJoho"/>
        FROM
        rgdb."DbT5594ShinsakaiIinJoho"
        WHERE
        "shinsakaiIinCode"=#{shinsakaiIinCode}
        ) AS dbT5594ShinsakaiIinJoho
        LEFT JOIN
        (
        SELECT
        <include refid="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.basic.IDbT5595KaigoNinteiShinsakaiIinShozokuKikanJohoMapper.allColumns_DbT5595KaigoNinteiShinsakaiIinShozokuKikanJoho"/>
        FROM
        rgdb."DbT5595KaigoNinteiShinsakaiIinShozokuKikanJoho"
        )AS dbT5595KaigoNinteiShinsakaiIinShozokuKikanJoho
        ON
        dbT5594ShinsakaiIinJoho."dbT5594ShinsakaiIinJoho_shinsakaiIinCode"=dbT5595KaigoNinteiShinsakaiIinShozokuKikanJoho."dbT5595KaigoNinteiShinsakaiIinShozokuKikanJoho_shinsakaiIinCode"
        ;
    </select>

    <select id="get審査会委員情報ByHaishiFlag" parameterType="boolean" resultMap="resultMap_ShinsakaiIinJohoEntity" fetchSize="500">
        SELECT
        dbT5594."shinsakaiIinCode" as "dbT5594ShinsakaiIinJoho_shinsakaiIinCode",
        dbT5594."shinsakaiIinKaishiYMD" as "dbT5594ShinsakaiIinJoho_shinsakaiIinKaishiYMD",
        dbT5594."shinsakaiIinShuryoYMD" as "dbT5594ShinsakaiIinJoho_shinsakaiIinShuryoYMD",
        dbT5594."shinsakaiIinShimei" as "dbT5594ShinsakaiIinJoho_shinsakaiIinShimei",
        dbT5594."ShinsakaiIinKanaShimei" as "dbT5594ShinsakaiIinJoho_ShinsakaiIinKanaShimei",
        dbT5594."seibetsu" as "dbT5594ShinsakaiIinJoho_seibetsu",
        dbT5594."shinsakaiIinShikakuCode" as "dbT5594ShinsakaiIinJoho_shinsakaiIinShikakuCode",
        dbT5594."biko" as "dbT5594ShinsakaiIinJoho_biko",
        dbT5594."haishiFlag" as "dbT5594ShinsakaiIinJoho_haishiFlag",
        dbT5594."seinengappiYMD" as "dbT5594ShinsakaiIinJoho_seinengappiYMD",
        dbT5594."tantoChikuCode" as "dbT5594ShinsakaiIinJoho_tantoChikuCode",
        dbT5594."yubinNo" as "dbT5594ShinsakaiIinJoho_yubinNo",
        dbT5594."shinsainYusoKubun" as "dbT5594ShinsakaiIinJoho_shinsainYusoKubun",
        dbT5594."Jusho" as "dbT5594ShinsakaiIinJoho_Jusho",
        dbT5594."haishiYMD" as "dbT5594ShinsakaiIinJoho_haishiYMD",
        dbT5594."telNo" as "dbT5594ShinsakaiIinJoho_telNo",
        dbT5594."faxNo" as "dbT5594ShinsakaiIinJoho_faxNo"
        FROM
        rgdb."DbT5594ShinsakaiIinJoho" dbT5594
        <where>
            <if test="!haishiFlag">
                dbT5594."haishiFlag" = FALSE
            </if>
        </where>
        ORDER BY
        dbT5594."shinsakaiIinCode"
    </select>

    <select id="get所属機関一覧ByParameter"
            resultMap="jp.co.ndensan.reams.db.dbe.entity.db.relate.shinsakaiiinjoho.shinsakaiiinjoho.ShozokuKikanIchiranEntity"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.shinsakaiiinjoho.ShinsakaiIinJohoMapperParameter"
            fetchSize="500">
        SELECT
        DbT5595."ninteichosaItakusakiCode",
        DbT5595."ninteiChosainNo",
        DbT5595."shujiiIryokikanCode",
        DbT5595."shujiiCode",
        DbT5595."sonotaKikanCode",
        DbT4910."jigyoshaMeisho" AS ninteichosaItakusakiMeisho,
        DbT4911."iryoKikanMeisho" AS shujiiIryokikanMeisho,
        DbT5914."kikanMeisho" AS sonotaKikanMeisho
        FROM rgdb."DbT5595KaigoNinteiShinsakaiIinShozokuKikanJoho" DbT5595
        LEFT JOIN rgdb."DbT4910NinteichosaItakusakiJoho" DbT4910
        ON  DbT5595."ninteichosaItakusakiCode" = DbT4910."ninteichosaItakusakiCode"
        AND DbT4910."shichosonCode" =
        (SELECT DbT5051."shichosonCode"
        FROM rgdb."DbT5051KoseiShichosonMaster" DbT5051
        WHERE DbT5595."shoKisaiHokenshaNo" = DbT5051."shoKisaiHokenshaNo")
        LEFT JOIN rgdb."DbT4911ShujiiIryoKikanJoho" DbT4911
        ON  DbT5595."shujiiIryokikanCode" = DbT4911."shujiiIryokikanCode"
        AND DbT4911."shichosonCode" =
        (SELECT DbT5051."shichosonCode"
        FROM rgdb."DbT5051KoseiShichosonMaster" DbT5051
        WHERE DbT5595."shoKisaiHokenshaNo" = DbT5051."shoKisaiHokenshaNo")
        LEFT JOIN rgdb."DbT5914SonotaKikanJoho" DbT5914
        ON  DbT5595."sonotaKikanCode" = DbT5914."sonotaKikanCode"
        AND DbT5595."shoKisaiHokenshaNo" = DbT5914."shoKisaiHokenshaNo"
        WHERE DbT5595."shinsakaiIinCode" = #{shinsakaiIinCode}
        ORDER BY
        DbT5595."shoKisaiHokenshaNo",
        DbT5595."ninteichosaItakusakiCode",
        DbT5595."shujiiIryokikanCode",
        DbT5595."sonotaKikanCode"
    </select>

    <select id="get審査会委員カウント"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatis.param.shinsakaiiinjoho.ShinsakaiIinJohoMapperParameter"
            fetchSize="500">
        SELECT COUNT(0)
        FROM rgdb."DbT5594ShinsakaiIinJoho" DbT5594
        WHERE DbT5594."shinsakaiIinCode" = #{shinsakaiIinCode}
    </select>

    <resultMap id="resultMap_ShinsakaiIinJohoEntity" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.shinsakaiiinjoho.shinsakaiiinjoho.ShinsakaiIinJohoEntity" autoMapping="true">
        <id property="介護認定審査会委員情報Entity.shinsakaiIinCode" column="dbT5594ShinsakaiIinJoho_shinsakaiIinCode" typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler"/>

        <association property="介護認定審査会委員情報Entity"
                     resultMap="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.basic.IDbT5594ShinsakaiIinJohoMapper.ResultMap_DbT5594ShinsakaiIinJohoEntity"/>
        <collection property="介護認定審査会委員所属機関情報Entity"
                    resultMap="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.basic.IDbT5595KaigoNinteiShinsakaiIinShozokuKikanJohoMapper.ResultMap_DbT5595KaigoNinteiShinsakaiIinShozokuKikanJohoEntity">
        </collection>
    </resultMap>-->

</mapper>
