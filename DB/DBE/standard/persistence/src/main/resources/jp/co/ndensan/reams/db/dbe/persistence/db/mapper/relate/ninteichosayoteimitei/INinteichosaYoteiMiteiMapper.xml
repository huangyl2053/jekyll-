<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 概要： 認定調査予定未定者一覧表のデータ取得のMapperXMLです。 -->
<!-- @reamsid_L DBE-1390-080 dongyabin -->
<!-- どのマッパーインターフェースと対応するかを指定する -->
<mapper namespace="jp.co.ndensan.reams.db.dbe.persistence.db.mapper.relate.ninteichosayoteimitei.INinteichosaYoteiMiteiMapper">

    <resultMap id="resultMap_getNinteichosaScheduleInputRelateEntity" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.ninteichosayoteimitei.NinteichosaYoteiMiteiRelateEntity" autoMapping="true">
	   <result property="dbT5101_shinseishoKanriNo"  column="dbT5101_shinseishoKanriNo"  typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShinseishoKanriNoTypeHandler" />
           <result property="dbT5101_shoKisaiHokenshaNo"  column="dbT5101_shoKisaiHokenshaNo"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
           <result property="dbT5101_hihokenshaNo"  column="dbT5101_hihokenshaNo"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
           <result property="dbT5101_hihokenshaKana"  column="dbT5101_hihokenshaKana"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaKanaMeishoTypeHandler" />
           <result property="dbT5101_hihokenshaName"  column="dbT5101_hihokenshaName"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.AtenaMeishoTypeHandler" />
           <result property="dbT5101_seibetsu"  column="dbT5101_seibetsu"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
           <result property="dbT5101_seinengappiYMD"  column="dbT5101_seinengappiYMD"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler" />
           <result property="dbT5101_ninteiShinseiShinseijiKubunCode"  column="dbT5101_ninteiShinseiShinseijiKubunCode"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.CodeTypeHandler" />
           <result property="dbT5101_ninteiShinseiYMD"  column="dbT5101_ninteiShinseiYMD"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.FlexibleDateTypeHandler" />
           <result property="dbT7051_shichosonMeisho"  column="dbT7051_shichosonMeisho"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
           <result property="dbT5121_zenkaiShinseishoKanriNo"  column="dbT5121_zenkaiShinseishoKanriNo" typeHandler="jp.co.ndensan.reams.db.dbx.entity.typehandlers.ShinseishoKanriNoTypeHandler" />
           <result property="dbT5910_jigyoshaMeisho"  column="dbT5910_jigyoshaMeisho"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
           <result property="dbT5913_chosainShimei"  column="dbT5913_chosainShimei"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
           <result property="dbT5910_Zenkai_jigyoshaMeisho"  column="dbT5910_Zenkai_jigyoshaMeisho"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
           <result property="dbT5913_Zenkai_chosainShimei"  column="dbT5913_Zenkai_chosainShimei"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
           <result property="dbT5910_ZenZenkai_jigyoshaMeisho"  column="dbT5910_ZenZenkai_jigyoshaMeisho"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
           <result property="dbT5913_ZenZenkai_chosainShimei"  column="dbT5913_ZenZenkai_chosainShimei"  typeHandler="jp.co.ndensan.reams.uz.uza.util.db.typehandlers.RStringTypeHandler" />
    </resultMap>
    
    <resultMap id="resultMap_getNinteichosaIraiHenkoRelateEntity" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.ninteichosairaihenko.NinteichosaIraiHenkoRelateEntity" autoMapping="true">
    </resultMap>
    
    <select id="getNinteichosaScheduleInput"
            resultMap="resultMap_getNinteichosaScheduleInputRelateEntity" 
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.ninteichosayoteimitei.NinteichosaYoteiMiteiParamter" fetchSize="500"  resultOrdered="true">
        SELECT
          DbT5101."shinseishoKanriNo" AS "dbT5101_shinseishoKanriNo"
          , DbT5101."shoKisaiHokenshaNo" AS "dbT5101_shoKisaiHokenshaNo"
          , DbT5101."hihokenshaNo" AS "dbT5101_hihokenshaNo"
          , DbT5101."hihokenshaKana" AS "dbT5101_hihokenshaKana"
          , DbT5101."hihokenshaName" AS "dbT5101_hihokenshaName"
          , DbT5101."seibetsu" AS "dbT5101_seibetsu"
          , DbT5101."seinengappiYMD" AS "dbT5101_seinengappiYMD"
          , DbT5101."ninteiShinseiShinseijiKubunCode" AS "dbT5101_ninteiShinseiShinseijiKubunCode"
          , DbT5101."ninteiShinseiYMD" AS "dbT5101_ninteiShinseiYMD"
          , DbT7051."shichosonMeisho" AS "dbT7051_shichosonMeisho"
          , DbT5121."zenkaiShinseishoKanriNo" AS "dbT5121_zenkaiShinseishoKanriNo"
          , DbT5910."jigyoshaMeisho" AS "dbT5910_jigyoshaMeisho"
          , DbT5913."chosainShimei" AS "dbT5913_chosainShimei"
          , DbT5910Zenkai."jigyoshaMeisho" AS "dbT5910_Zenkai_jigyoshaMeisho"
          , DbT5913Zenkai."chosainShimei" AS "dbT5913_Zenkai_chosainShimei"
          , DbT5910ZenZenkai."jigyoshaMeisho" AS "dbT5910_ZenZenkai_jigyoshaMeisho"
          , DbT5913ZenZenkai."chosainShimei" AS "dbT5913_ZenZenkai_chosainShimei"
        FROM
          rgdb."DbT5101NinteiShinseiJoho" AS DbT5101 
          LEFT JOIN rgdb."DbT5121ShinseiRirekiJoho" AS DbT5121 
            ON DbT5101."shinseishoKanriNo" = DbT5121."shinseishoKanriNo" 
          LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" AS DbT5101Zenkai 
            ON DbT5121."zenkaiShinseishoKanriNo" = DbT5101Zenkai."shinseishoKanriNo" 
          LEFT JOIN rgdb."DbT5121ShinseiRirekiJoho" AS DbT5121Zenkai 
            ON DbT5121."zenkaiShinseishoKanriNo" = DbT5121Zenkai."shinseishoKanriNo" 
          LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" AS DbT5101ZenZenkai 
            ON DbT5121Zenkai."zenkaiShinseishoKanriNo" = DbT5101ZenZenkai."shinseishoKanriNo" 
          INNER JOIN rgdb."DbT5105NinteiKanryoJoho" AS DbT5105 
            ON DbT5101."shinseishoKanriNo" = DbT5105."shinseishoKanriNo" 
          INNER JOIN rgdb."DbT7051KoseiShichosonMaster" AS DbT7051 
            ON DbT7051."shoKisaiHokenshaNo" = DbT5101."shoKisaiHokenshaNo" 
        <!-- 今回調査事業所と調査員取得 -->
          LEFT JOIN rgdb."DbT5910NinteichosaItakusakiJoho" AS DbT5910 
            ON DbT5101."ninteiChosaItakusakiCode" = DbT5910."ninteichosaItakusakiCode" 
            AND DbT5910."shichosonCode" = DbT7051."shichosonCode" 
          LEFT JOIN rgdb."DbT5913ChosainJoho" AS DbT5913 
            ON DbT5913."ninteiChosaItakusakiCode" = DbT5101."ninteiChosaItakusakiCode" 
            AND DbT5913."ninteiChosainCode" = DbT5101."ninteiChosainCode" 
            AND DbT5913."shichosonCode" = DbT7051."shichosonCode" 
        <!-- 前回調査事業所と調査員取得 -->
          LEFT JOIN rgdb."DbT5910NinteichosaItakusakiJoho" AS DbT5910Zenkai 
            ON DbT5101Zenkai."ninteiChosaItakusakiCode" = DbT5910Zenkai."ninteichosaItakusakiCode" 
            AND DbT5910Zenkai."shichosonCode" = DbT7051."shichosonCode" 
          LEFT JOIN rgdb."DbT5913ChosainJoho" AS DbT5913Zenkai 
            ON DbT5913Zenkai."ninteiChosaItakusakiCode" = DbT5101Zenkai."ninteiChosaItakusakiCode" 
            AND DbT5913Zenkai."ninteiChosainCode" = DbT5101Zenkai."ninteiChosainCode" 
            AND DbT5913Zenkai."shichosonCode" = DbT7051."shichosonCode" 
        <!-- 前前回調査事業所と調査員取得 -->
          LEFT JOIN rgdb."DbT5910NinteichosaItakusakiJoho" AS DbT5910ZenZenkai 
            ON DbT5101ZenZenkai."ninteiChosaItakusakiCode" = DbT5910ZenZenkai."ninteichosaItakusakiCode" 
            AND DbT5910ZenZenkai."shichosonCode" = DbT7051."shichosonCode" 
          LEFT JOIN rgdb."DbT5913ChosainJoho" AS DbT5913ZenZenkai 
            ON DbT5913ZenZenkai."ninteiChosaItakusakiCode" = DbT5101ZenZenkai."ninteiChosaItakusakiCode" 
            AND DbT5913ZenZenkai."ninteiChosainCode" = DbT5101ZenZenkai."ninteiChosainCode" 
            AND DbT5913ZenZenkai."shichosonCode" = DbT7051."shichosonCode" 
        WHERE
          DbT5105."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL 
          AND DbT5105."ninteichosaIraiKanryoYMD" IS NULL 
          AND DbT5101."shinseishoKanriNo" NOT IN( 
            SELECT
            "shinseishoKanriNo" 
            FROM
            rgdb."DbT5201NinteichosaIraiJoho" ) 
          AND DbT5105."centerSoshinYMD" IS NULL 
          AND DbT5101."shoriJotaiKubun" IN (#{通常}, #{延期}) 
          AND DbT5101."logicalDeletedFlag" = FALSE 
        <!-- パラメータ.認定調査予定未定者一覧作成条件が2(申請日範囲指定)である場合、下記条件を動的に連結する。1である場合連結しない  -->
        <if test="認定調査予定未定者一覧作成条件Flag">
            AND #{認定調査予定未定者一覧申請日From} <![CDATA[<=]]> DbT5101."ninteiShinseiYMD" 
            AND DbT5101."ninteiShinseiYMD" <![CDATA[<=]]>  #{認定調査予定未定者一覧申請日To}
        </if>
        ORDER BY
            DbT5101."hihokenshaKana"
            , DbT5101."ninteiShinseiYMD"
    </select>
    
    <select id="getNinteichosaIraiHenko"
            resultMap="resultMap_getNinteichosaIraiHenkoRelateEntity" 
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.ninteichosairaihenko.NinteichosaIraiHenkoMiteiParamter" fetchSize="500" resultOrdered="true">
        SELECT	
	  DbT5101."shinseishoKanriNo" AS "shinseishoKanriNo",
	  DbT5101."shoKisaiHokenshaNo" AS "shoKisaiHokenshaNo",
	  DbT5101."hihokenshaNo" AS "hihokenshaNo",
	  DbT5101."hihokenshaKana" AS "hihokenshaKana",
	  DbT5101."hihokenshaName" AS "hihokenshaName",
	  DbT5101."seibetsu" AS "seibetsu",
	  DbT5101."seinengappiYMD" AS "seinengappiYMD",
	  DbT5101."ninteiShinseiShinseijiKubunCode" AS "ninteiShinseiShinseijiKubunCode",
	  DbT5101."ninteiShinseiYMD" AS "ninteiShinseiYMD",
	  DbT7051."shichosonMeisho" AS "shichosonMeisho",
	  DbT5201."ninteichosaIraiRirekiNo" AS "ninteichosaIraiRirekiNo",
	  DbT5201."ninteichosaIraiYMD" AS "ninteichosaIraiYMD",
	  DbT5910."jigyoshaMeisho" AS  "jigyoshaMeisho",
	  DbT5913."chosainShimei" AS "chosainShimei"
        FROM	
	  rgdb."DbT5101NinteiShinseiJoho" AS DbT5101
	    INNER JOIN rgdb."DbT5105NinteiKanryoJoho" AS DbT5105
		ON DbT5101."shinseishoKanriNo"=DbT5105."shinseishoKanriNo"	
            INNER JOIN rgdb."DbT7051KoseiShichosonMaster" AS DbT7051
		ON DbT7051."shoKisaiHokenshaNo"=DbT5101."shoKisaiHokenshaNo"	
            INNER JOIN rgdb."DbT5201NinteichosaIraiJoho" AS DbT5201
		ON DbT5101."shinseishoKanriNo"=DbT5201."shinseishoKanriNo"	
            LEFT JOIN rgdb."DbT5910NinteichosaItakusakiJoho" AS DbT5910
		ON DbT5101."ninteiChosaItakusakiCode"=DbT5910."ninteichosaItakusakiCode"	
		AND DbT5910."shichosonCode"=DbT7051."shichosonCode"
            LEFT JOIN rgdb."DbT5913ChosainJoho" AS DbT5913
		ON DbT5913."ninteiChosaItakusakiCode"=DbT5101."ninteiChosaItakusakiCode"	
		AND DbT5913."ninteiChosainCode"=DbT5101."ninteiChosainCode"
		AND DbT5913."shichosonCode"=DbT7051."shichosonCode"
        WHERE	
            DbT5105."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL	
            AND DbT5105."ninteichosaIraiKanryoYMD" IS NOT NULL	
            AND DbT5105."centerSoshinYMD" IS NULL	
            AND DbT5101."shoriJotaiKubun" IN (#{通常},#{延期})
            AND DbT5101."logicalDeletedFlag" = FALSE	
            AND #{認定調査依頼先変更者一覧表申請日From} <![CDATA[<=]]>   DbT5101."ninteiShinseiYMD"	
            AND DbT5101."ninteiShinseiYMD" <![CDATA[<=]]> #{認定調査依頼先変更者一覧表申請日To}
            ORDER BY DbT5101."shinseishoKanriNo", DbT5201."ninteichosaIraiRirekiNo"
    </select>
    
    <select id="getCount"
            resultType="int"
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.ninteichosairaihenko.NinteichosaIraiHenkoMiteiParamter" fetchSize="500" resultOrdered="true">
        SELECT	
	  count(1)
        FROM	
	  rgdb."DbT5101NinteiShinseiJoho" AS DbT5101
	    INNER JOIN rgdb."DbT5105NinteiKanryoJoho" AS DbT5105
		ON DbT5101."shinseishoKanriNo"=DbT5105."shinseishoKanriNo"	
            INNER JOIN rgdb."DbT7051KoseiShichosonMaster" AS DbT7051
		ON DbT7051."shoKisaiHokenshaNo"=DbT5101."shoKisaiHokenshaNo"	
            INNER JOIN rgdb."DbT5201NinteichosaIraiJoho" AS DbT5201
		ON DbT5101."shinseishoKanriNo"=DbT5201."shinseishoKanriNo"	
            LEFT JOIN rgdb."DbT5910NinteichosaItakusakiJoho" AS DbT5910
		ON DbT5101."ninteiChosaItakusakiCode"=DbT5910."ninteichosaItakusakiCode"	
		AND DbT5910."shichosonCode"=DbT7051."shichosonCode"
            LEFT JOIN rgdb."DbT5913ChosainJoho" AS DbT5913
		ON DbT5913."ninteiChosaItakusakiCode"=DbT5101."ninteiChosaItakusakiCode"	
		AND DbT5913."ninteiChosainCode"=DbT5101."ninteiChosainCode"
		AND DbT5913."shichosonCode"=DbT7051."shichosonCode"
        WHERE	
            DbT5105."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL	
            AND DbT5105."ninteichosaIraiKanryoYMD" IS NOT NULL	
            AND DbT5105."centerSoshinYMD" IS NULL	
            AND DbT5101."shoriJotaiKubun" IN (#{通常},#{延期})
            AND DbT5101."logicalDeletedFlag" = FALSE	
            AND #{認定調査依頼先変更者一覧表申請日From} <![CDATA[<=]]>   DbT5101."ninteiShinseiYMD"	
            AND DbT5101."ninteiShinseiYMD" <![CDATA[<=]]> #{認定調査依頼先変更者一覧表申請日To}
    </select>
    
    <resultMap id="resultMap_getChosahyoIkenshoCheckListRelateEntity" type="jp.co.ndensan.reams.db.dbe.entity.db.relate.chosahyoikenshochecklist.ChosahyoIkenshoCheckListRelateEntity" autoMapping="true">
    </resultMap>
    
    <select id="getChosahyoIkenshoCheckList"
            resultMap="resultMap_getChosahyoIkenshoCheckListRelateEntity" 
            parameterType="jp.co.ndensan.reams.db.dbe.definition.mybatisprm.chosahyoikenshochecklist.ChosahyoIkenshoCheckListParamter" fetchSize="500" resultOrdered="true">
        SELECT 
          DbT5101."shinseishoKanriNo" AS "dbT5101_shinseishoKanriNo",
          DbT5101."koroshoIfShikibetsuCode" AS "dbT5101_koroshoIfShikibetsuCode",
          DbT5101."shoKisaiHokenshaNo" AS "dbT5101_shoKisaiHokenshaNo",
          DbT5101."hihokenshaNo" AS "dbT5101_hihokenshaNo",
          DbT5101."hihokenshaName" AS "dbT5101_hihokenshaName",
          DbT5101."ninteiShinseiShinseijiKubunCode" AS "dbT5101_ninteiShinseiShinseijiKubunCode",
          DbT5101."ninteiShinseiYMD" AS "dbT5101_ninteiShinseiYMD",
          DbT7051."shichosonMeisho" AS "dbT7051_shichosonMeisho",
          DbT5101zenkai."koroshoIfShikibetsuCode" AS "dbT5101Zenkai_koroshoIfShikibetsuCode",
          DbT5116."ichijiHanteiKekkaCode" AS "dbT5116_ichijiHanteiKekkaCode",
          DbT5116zenkai."ichijiHanteiKekkaCode" AS "dbT5116Zenkai_ichijiHanteiKekkaCode",
          DbT5102."nijiHanteiYokaigoJotaiKubunCode" AS "dbT5102Zenkai_nijiHanteiYokaigoJotaiKubunCode",
          DbT5501."shinsakaiKaisaiYoteiYMD" AS "dbT5501_shinsakaiKaisaiYoteiYMD",
          DbT5501."gogitaiNo" AS "dbT5501_gogitaiNo",
          DbT5203."ninchishoNichijoSeikatsuJiritsudoCode" AS "dbT5203_ninchishoNichijoSeikatsuJiritsudoCode",
          DbT5203."shogaiNichijoSeikatsuJiritsudoCode" AS  "dbT5203_shogaiNichijoSeikatsuJiritsudoCode",
          DbT5211."remban" AS "dbT5211_remban",
          DbT5211."researchItem" AS "dbT5211_researchItem",
          DbT5304."remban" AS "dbT5304_remban",
          DbT5304."ikenItem" AS "dbT5304_ikenItem"
        FROM 
          rgdb."DbT5101NinteiShinseiJoho" AS DbT5101
            LEFT JOIN rgdb."DbT5121ShinseiRirekiJoho" AS DbT5121
              ON DbT5121."shinseishoKanriNo"=DbT5101."shinseishoKanriNo" 
            LEFT JOIN rgdb."DbT5116IchijiHanteiKekkaJoho" AS DbT5116zenkai
              ON DbT5121. "zenkaiShinseishoKanriNo"=DbT5116zenkai."shinseishoKanriNo" 
            LEFT JOIN rgdb."DbT5101NinteiShinseiJoho" AS DbT5101zenkai
              ON DbT5121. "zenkaiShinseishoKanriNo"=DbT5101zenkai."shinseishoKanriNo" 
            LEFT JOIN rgdb."DbT5102NinteiKekkaJoho" AS DbT5102
              ON DbT5121. "zenkaiShinseishoKanriNo"=DbT5102."shinseishoKanriNo" 
            LEFT JOIN rgdb."DbT5116IchijiHanteiKekkaJoho" AS DbT5116
              ON DbT5101."shinseishoKanriNo"=DbT5116."shinseishoKanriNo" 
            INNER JOIN rgdb."DbT5105NinteiKanryoJoho" AS DbT5105
              ON DbT5101."shinseishoKanriNo"=DbT5105."shinseishoKanriNo" 
            LEFT JOIN rgdb."DbT5502ShinsakaiWariateJoho" AS DbT5502
              ON DbT5502."shinseishoKanriNo"=DbT5101."shinseishoKanriNo" 
            LEFT JOIN rgdb."DbT5501ShinsakaiKaisaiYoteiJoho" AS DbT5501
              ON DbT5501."shinsakaiKaisaiNo"=DbT5502."shinsakaiKaisaiNo" 
            INNER JOIN rgdb."DbT7051KoseiShichosonMaster" AS DbT7051
              ON DbT7051."shoKisaiHokenshaNo"=DbT5101."shoKisaiHokenshaNo" 
            INNER JOIN rgdb."DbT5201NinteichosaIraiJoho" AS DbT5201
              ON DbT5201."shinseishoKanriNo"=DbT5101."shinseishoKanriNo" 
              AND DbT5201."logicalDeletedFlag" = FALSE
              AND DbT5201."ninteichosaIraiRirekiNo" = (SELECT MAX(rgdb."DbT5201NinteichosaIraiJoho"."ninteichosaIraiRirekiNo") FROM rgdb."DbT5201NinteichosaIraiJoho" 
                WHERE DbT5101."shinseishoKanriNo" = "shinseishoKanriNo")
            INNER JOIN rgdb."DbT5301ShujiiIkenshoIraiJoho" AS DbT5301
              ON DbT5301."shinseishoKanriNo"=DbT5101."shinseishoKanriNo" 
              AND DbT5301."logicalDeletedFlag" = FALSE
              AND DbT5301."ikenshoIraiRirekiNo" = (SELECT MAX(rgdb."DbT5301ShujiiIkenshoIraiJoho"."ikenshoIraiRirekiNo") FROM rgdb."DbT5301ShujiiIkenshoIraiJoho" 
                WHERE DbT5101."shinseishoKanriNo" = "shinseishoKanriNo")
            LEFT JOIN rgdb."DbT5203NinteichosahyoKihonChosa" AS DbT5203
              ON DbT5203."shinseishoKanriNo"=DbT5101."shinseishoKanriNo" 
              AND DbT5201."ninteichosaIraiRirekiNo" = DbT5203."ninteichosaRirekiNo"
            LEFT JOIN rgdb."DbT5211NinteichosahyoChosaItem" AS DbT5211
              ON DbT5211."shinseishoKanriNo"=DbT5101."shinseishoKanriNo" 
              AND DbT5201."ninteichosaIraiRirekiNo" = DbT5211."ninteichosaRirekiNo"
            LEFT JOIN rgdb."DbT5304ShujiiIkenshoIkenItem" AS DbT5304
              ON DbT5304."shinseishoKanriNo"=DbT5101."shinseishoKanriNo" 
              AND DbT5304."ikenshoIraiRirekiNo" = DbT5301."ikenshoIraiRirekiNo"
          WHERE 
            DbT5105."ninteiShinseiJohoTorokuKanryoYMD" IS NOT NULL 
            AND DbT5105."ninteichosaIraiKanryoYMD" IS NOT NULL 
            AND DbT5105."ninteichosaKanryoYMD" IS NOT NULL 
            AND DbT5105."ikenshoSakuseiIraiKanryoYMD" IS NOT NULL 
            AND DbT5105."ikenshoTorokuKanryoYMD" IS NOT NULL 
            AND DbT5105."centerSoshinYMD" IS NULL 
            AND DbT5101."shoriJotaiKubun" IN (#{通常},#{延期})
            AND DbT5101."logicalDeletedFlag" = FALSE 
        <if test="申請日範囲指定">
            AND #{認定調査結果と主治医意見書のチェックリスト申請日From} <![CDATA[<=]]>   DbT5101."ninteiShinseiYMD" 
            AND DbT5101."ninteiShinseiYMD"  <![CDATA[<=]]> #{認定調査結果と主治医意見書のチェックリスト申請日To}
        </if>
        <if test="審査日指定">
            AND #{認定調査結果と主治医意見書のチェックリスト審査日} = DbT5501."shinsakaiKaisaiYoteiYMD" 
        </if>
        <if test="審査会指定">
            AND #{認定調査結果と主治医意見書のチェックリスト審査会} = DbT5501."shinsakaiKaisaiNo" 
        </if>
          ORDER BY DbT5101."hihokenshaKana", 
            DbT5101."ninteiShinseiYMD"  
    </select>
</mapper>